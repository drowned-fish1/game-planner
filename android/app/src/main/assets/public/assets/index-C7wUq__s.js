(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ad(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jS={exports:{}},Rd={},LS={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=Symbol.for("react.element"),qA=Symbol.for("react.portal"),XA=Symbol.for("react.fragment"),GA=Symbol.for("react.strict_mode"),YA=Symbol.for("react.profiler"),JA=Symbol.for("react.provider"),QA=Symbol.for("react.context"),ZA=Symbol.for("react.forward_ref"),eR=Symbol.for("react.suspense"),tR=Symbol.for("react.memo"),nR=Symbol.for("react.lazy"),w1=Symbol.iterator;function rR(t){return t===null||typeof t!="object"?null:(t=w1&&t[w1]||t["@@iterator"],typeof t=="function"?t:null)}var zS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,FS={};function ra(t,e,n){this.props=t,this.context=e,this.refs=FS,this.updater=n||zS}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $S(){}$S.prototype=ra.prototype;function p0(t,e,n){this.props=t,this.context=e,this.refs=FS,this.updater=n||zS}var h0=p0.prototype=new $S;h0.constructor=p0;BS(h0,ra.prototype);h0.isPureReactComponent=!0;var b1=Array.isArray,VS=Object.prototype.hasOwnProperty,m0={current:null},HS={key:!0,ref:!0,__self:!0,__source:!0};function WS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)VS.call(e,r)&&!HS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lu,type:t,key:s,ref:o,props:i,_owner:m0.current}}function iR(t,e){return{$$typeof:Lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function g0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lu}function sR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S1=/\/+/g;function Ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sR(""+t.key):e.toString(36)}function Cf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lu:case qA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ah(o,0):r,b1(i)?(n="",t!=null&&(n=t.replace(S1,"$&/")+"/"),Cf(i,e,n,"",function(f){return f})):i!=null&&(g0(i)&&(i=iR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",b1(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+Ah(s,a);o+=Cf(s,e,n,c,i)}else if(c=rR(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+Ah(s,a++),o+=Cf(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uc(t,e,n){if(t==null)return t;var r=[],i=0;return Cf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},Ef={transition:null},lR={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:m0};function US(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Uc,forEach:function(t,e,n){Uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uc(t,function(){e++}),e},toArray:function(t){return Uc(t,function(e){return e})||[]},only:function(t){if(!g0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=ra;He.Fragment=XA;He.Profiler=YA;He.PureComponent=p0;He.StrictMode=GA;He.Suspense=eR;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;He.act=US;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=m0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)VS.call(e,c)&&!HS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var f=0;f<c;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:Lu,type:t.type,key:i,ref:s,props:r,_owner:o}};He.createContext=function(t){return t={$$typeof:QA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JA,_context:t},t.Consumer=t};He.createElement=WS;He.createFactory=function(t){var e=WS.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:ZA,render:t}};He.isValidElement=g0;He.lazy=function(t){return{$$typeof:nR,_payload:{_status:-1,_result:t},_init:oR}};He.memo=function(t,e){return{$$typeof:tR,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Ef.transition;Ef.transition={};try{t()}finally{Ef.transition=e}};He.unstable_act=US;He.useCallback=function(t,e){return Vn.current.useCallback(t,e)};He.useContext=function(t){return Vn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};He.useEffect=function(t,e){return Vn.current.useEffect(t,e)};He.useId=function(){return Vn.current.useId()};He.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Vn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};He.useRef=function(t){return Vn.current.useRef(t)};He.useState=function(t){return Vn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return Vn.current.useTransition()};He.version="18.3.1";LS.exports=He;var Y=LS.exports;const rn=Ad(Y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=Y,uR=Symbol.for("react.element"),cR=Symbol.for("react.fragment"),fR=Object.prototype.hasOwnProperty,dR=aR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pR={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fR.call(e,r)&&!pR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uR,type:t,key:s,ref:o,props:i,_owner:dR.current}}Rd.Fragment=cR;Rd.jsx=KS;Rd.jsxs=KS;jS.exports=Rd;var x=jS.exports,Hm={},qS={exports:{}},Or={},XS={exports:{}},GS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var B=L.length;L.push(V);e:for(;0<B;){var ee=B-1>>>1,re=L[ee];if(0<i(re,V))L[ee]=V,L[B]=re,B=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],B=L.pop();if(B!==V){L[0]=B;e:for(var ee=0,re=L.length,K=re>>>1;ee<K;){var xe=2*(ee+1)-1,be=L[xe],We=xe+1,Ke=L[We];if(0>i(be,B))We<re&&0>i(Ke,be)?(L[ee]=Ke,L[We]=B,ee=We):(L[ee]=be,L[xe]=B,ee=xe);else if(We<re&&0>i(Ke,B))L[ee]=Ke,L[We]=B,ee=We;else break e}}return V}function i(L,V){var B=L.sortIndex-V.sortIndex;return B!==0?B:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],f=[],d=1,h=null,m=3,g=!1,v=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=L)r(f),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(f)}}function k(L){if(S=!1,E(L),!v)if(n(c)!==null)v=!0,z(_);else{var V=n(f);V!==null&&Z(k,V.startTime-L)}}function _(L,V){v=!1,S&&(S=!1,b(A),A=-1),g=!0;var B=m;try{for(E(V),h=n(c);h!==null&&(!(h.expirationTime>V)||L&&!le());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var re=ee(h.expirationTime<=V);V=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(c)&&r(c),E(V)}else r(c);h=n(c)}if(h!==null)var K=!0;else{var xe=n(f);xe!==null&&Z(k,xe.startTime-V),K=!1}return K}finally{h=null,m=B,g=!1}}var T=!1,D=null,A=-1,F=5,U=-1;function le(){return!(t.unstable_now()-U<F)}function ae(){if(D!==null){var L=t.unstable_now();U=L;var V=!0;try{V=D(!0,L)}finally{V?X():(T=!1,D=null)}}else T=!1}var X;if(typeof w=="function")X=function(){w(ae)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,G=oe.port2;oe.port1.onmessage=ae,X=function(){G.postMessage(null)}}else X=function(){M(ae,0)};function z(L){D=L,T||(T=!0,X())}function Z(L,V){A=M(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,z(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var B=m;m=V;try{return L()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=m;m=L;try{return V()}finally{m=B}},t.unstable_scheduleCallback=function(L,V,B){var ee=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,L){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=B+re,L={id:d++,callback:V,priorityLevel:L,startTime:B,expirationTime:re,sortIndex:-1},B>ee?(L.sortIndex=B,e(f,L),n(c)===null&&L===n(f)&&(S?(b(A),A=-1):S=!0,Z(k,B-ee))):(L.sortIndex=re,e(c,L),v||g||(v=!0,z(_))),L},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(L){var V=m;return function(){var B=m;m=V;try{return L.apply(this,arguments)}finally{m=B}}}})(GS);XS.exports=GS;var hR=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=Y,Mr=hR;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YS=new Set,lu={};function Vo(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(lu[t]=e,t=0;t<e.length;t++)YS.add(e[t])}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=Object.prototype.hasOwnProperty,gR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k1={},C1={};function yR(t){return Wm.call(C1,t)?!0:Wm.call(k1,t)?!1:gR.test(t)?C1[t]=!0:(k1[t]=!0,!1)}function vR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xR(t,e,n,r){if(e===null||typeof e>"u"||vR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new Hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var y0=/[\-:]([a-z])/g;function v0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y0,v0);an[e]=new Hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y0,v0);an[e]=new Hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y0,v0);an[e]=new Hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Hn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new Hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function x0(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xR(e,n,i,r)&&(n=null),r||i===null?yR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),yl=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),w0=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),JS=Symbol.for("react.provider"),QS=Symbol.for("react.context"),b0=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),S0=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),ZS=Symbol.for("react.offscreen"),E1=Symbol.iterator;function Ma(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Rh;function La(t){if(Rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rh=e&&e[1]||""}return`
`+Rh+t}var Ih=!1;function jh(t,e){if(!t||Ih)return"";Ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?La(t):""}function wR(t){switch(t.tag){case 5:return La(t.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vl:return"Fragment";case yl:return"Portal";case Um:return"Profiler";case w0:return"StrictMode";case Km:return"Suspense";case qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QS:return(t.displayName||"Context")+".Consumer";case JS:return(t._context.displayName||"Context")+".Provider";case b0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S0:return e=t.displayName||null,e!==null?e:Xm(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return Xm(t(e))}catch{}}return null}function bR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(e);case 8:return e===w0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ek(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SR(t){var e=ek(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=SR(t))}function tk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ek(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $f(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nk(t,e){e=e.checked,e!=null&&x0(t,"checked",e,!1)}function Ym(t,e){nk(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jm(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jm(t,e,n){(e!=="number"||$f(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var za=Array.isArray;function Dl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ie(92));if(za(n)){if(1<n.length)throw Error(ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function rk(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ik(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ik(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,sk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kR=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){kR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function ok(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function lk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ok(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CR=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eg(t,e){if(e){if(CR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function tg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=null;function k0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rg=null,Al=null,Rl=null;function _1(t){if(t=Fu(t)){if(typeof rg!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=Bd(e),rg(t.stateNode,t.type,e))}}function ak(t){Al?Rl?Rl.push(t):Rl=[t]:Al=t}function uk(){if(Al){var t=Al,e=Rl;if(Rl=Al=null,_1(t),e)for(t=0;t<e.length;t++)_1(e[t])}}function ck(t,e){return t(e)}function fk(){}var Lh=!1;function dk(t,e,n){if(Lh)return t(e,n);Lh=!0;try{return ck(t,e,n)}finally{Lh=!1,(Al!==null||Rl!==null)&&(fk(),uk())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=Bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ie(231,e,typeof n));return n}var ig=!1;if(Zi)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){ig=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{ig=!1}function ER(t,e,n,r,i,s,o,a,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(d){this.onError(d)}}var Ka=!1,Vf=null,Hf=!1,sg=null,MR={onError:function(t){Ka=!0,Vf=t}};function NR(t,e,n,r,i,s,o,a,c){Ka=!1,Vf=null,ER.apply(MR,arguments)}function OR(t,e,n,r,i,s,o,a,c){if(NR.apply(this,arguments),Ka){if(Ka){var f=Vf;Ka=!1,Vf=null}else throw Error(ie(198));Hf||(Hf=!0,sg=f)}}function Ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P1(t){if(Ho(t)!==t)throw Error(ie(188))}function TR(t){var e=t.alternate;if(!e){if(e=Ho(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return P1(i),t;if(s===r)return P1(i),e;s=s.sibling}throw Error(ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ie(189))}}if(n.alternate!==r)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?t:e}function hk(t){return t=TR(t),t!==null?mk(t):null}function mk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mk(t);if(e!==null)return e;t=t.sibling}return null}var gk=Mr.unstable_scheduleCallback,D1=Mr.unstable_cancelCallback,_R=Mr.unstable_shouldYield,PR=Mr.unstable_requestPaint,Pt=Mr.unstable_now,DR=Mr.unstable_getCurrentPriorityLevel,C0=Mr.unstable_ImmediatePriority,yk=Mr.unstable_UserBlockingPriority,Wf=Mr.unstable_NormalPriority,AR=Mr.unstable_LowPriority,vk=Mr.unstable_IdlePriority,Id=null,Ei=null;function RR(t){if(Ei&&typeof Ei.onCommitFiberRoot=="function")try{Ei.onCommitFiberRoot(Id,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:LR,IR=Math.log,jR=Math.LN2;function LR(t){return t>>>=0,t===0?32:31-(IR(t)/jR|0)|0}var Gc=64,Yc=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ba(a):(s&=o,s!==0&&(r=Ba(s)))}else o=n&~i,o!==0?r=Ba(o):s!==0&&(r=Ba(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-di(e),i=1<<n,r|=t[n],e&=~i;return r}function zR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-di(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=zR(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function og(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xk(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=n}function FR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-di(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function E0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-di(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function wk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bk,M0,Sk,kk,Ck,lg=!1,Jc=[],Ps=null,Ds=null,As=null,cu=new Map,fu=new Map,ks=[],$R="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A1(t,e){switch(t){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fu(e),e!==null&&M0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VR(t,e,n,r,i){switch(e){case"focusin":return Ps=Oa(Ps,t,e,n,r,i),!0;case"dragenter":return Ds=Oa(Ds,t,e,n,r,i),!0;case"mouseover":return As=Oa(As,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cu.set(s,Oa(cu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fu.set(s,Oa(fu.get(s)||null,t,e,n,r,i)),!0}return!1}function Ek(t){var e=xo(t.target);if(e!==null){var n=Ho(e);if(n!==null){if(e=n.tag,e===13){if(e=pk(n),e!==null){t.blockedOn=e,Ck(t.priority,function(){Sk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ng=r,n.target.dispatchEvent(r),ng=null}else return e=Fu(n),e!==null&&M0(e),t.blockedOn=n,!1;e.shift()}return!0}function R1(t,e,n){Mf(t)&&n.delete(e)}function HR(){lg=!1,Ps!==null&&Mf(Ps)&&(Ps=null),Ds!==null&&Mf(Ds)&&(Ds=null),As!==null&&Mf(As)&&(As=null),cu.forEach(R1),fu.forEach(R1)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,lg||(lg=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,HR)))}function du(t){function e(i){return Ta(i,t)}if(0<Jc.length){Ta(Jc[0],t);for(var n=1;n<Jc.length;n++){var r=Jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ps!==null&&Ta(Ps,t),Ds!==null&&Ta(Ds,t),As!==null&&Ta(As,t),cu.forEach(e),fu.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)Ek(n),n.blockedOn===null&&ks.shift()}var Il=is.ReactCurrentBatchConfig,Kf=!0;function WR(t,e,n,r){var i=et,s=Il.transition;Il.transition=null;try{et=1,N0(t,e,n,r)}finally{et=i,Il.transition=s}}function UR(t,e,n,r){var i=et,s=Il.transition;Il.transition=null;try{et=4,N0(t,e,n,r)}finally{et=i,Il.transition=s}}function N0(t,e,n,r){if(Kf){var i=ag(t,e,n,r);if(i===null)Xh(t,e,r,qf,n),A1(t,r);else if(VR(i,t,e,n,r))r.stopPropagation();else if(A1(t,r),e&4&&-1<$R.indexOf(t)){for(;i!==null;){var s=Fu(i);if(s!==null&&bk(s),s=ag(t,e,n,r),s===null&&Xh(t,e,r,qf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Xh(t,e,r,null,n)}}var qf=null;function ag(t,e,n,r){if(qf=null,t=k0(r),t=xo(t),t!==null)if(e=Ho(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qf=t,null}function Mk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DR()){case C0:return 1;case yk:return 4;case Wf:case AR:return 16;case vk:return 536870912;default:return 16}default:return 16}}var Ms=null,O0=null,Nf=null;function Nk(){if(Nf)return Nf;var t,e=O0,n=e.length,r,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nf=i.slice(t,1<r?1-r:void 0)}function Of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function I1(){return!1}function Tr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qc:I1,this.isPropagationStopped=I1,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T0=Tr(ia),Bu=St({},ia,{view:0,detail:0}),KR=Tr(Bu),Bh,Fh,_a,jd=St({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Bh=t.screenX-_a.screenX,Fh=t.screenY-_a.screenY):Fh=Bh=0,_a=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:Fh}}),j1=Tr(jd),qR=St({},jd,{dataTransfer:0}),XR=Tr(qR),GR=St({},Bu,{relatedTarget:0}),$h=Tr(GR),YR=St({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),JR=Tr(YR),QR=St({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZR=Tr(QR),eI=St({},ia,{data:0}),L1=Tr(eI),tI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rI[t])?!!e[t]:!1}function _0(){return iI}var sI=St({},Bu,{key:function(t){if(t.key){var e=tI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(t){return t.type==="keypress"?Of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oI=Tr(sI),lI=St({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z1=Tr(lI),aI=St({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),uI=Tr(aI),cI=St({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),fI=Tr(cI),dI=St({},jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pI=Tr(dI),hI=[9,13,27,32],P0=Zi&&"CompositionEvent"in window,qa=null;Zi&&"documentMode"in document&&(qa=document.documentMode);var mI=Zi&&"TextEvent"in window&&!qa,Ok=Zi&&(!P0||qa&&8<qa&&11>=qa),B1=" ",F1=!1;function Tk(t,e){switch(t){case"keyup":return hI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _k(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function gI(t,e){switch(t){case"compositionend":return _k(e);case"keypress":return e.which!==32?null:(F1=!0,B1);case"textInput":return t=e.data,t===B1&&F1?null:t;default:return null}}function yI(t,e){if(xl)return t==="compositionend"||!P0&&Tk(t,e)?(t=Nk(),Nf=O0=Ms=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ok&&e.locale!=="ko"?null:e.data;default:return null}}var vI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vI[t.type]:e==="textarea"}function Pk(t,e,n,r){ak(r),e=Xf(e,"onChange"),0<e.length&&(n=new T0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,pu=null;function xI(t){Vk(t,0)}function Ld(t){var e=Sl(t);if(tk(e))return t}function wI(t,e){if(t==="change")return e}var Dk=!1;if(Zi){var Vh;if(Zi){var Hh="oninput"in document;if(!Hh){var V1=document.createElement("div");V1.setAttribute("oninput","return;"),Hh=typeof V1.oninput=="function"}Vh=Hh}else Vh=!1;Dk=Vh&&(!document.documentMode||9<document.documentMode)}function H1(){Xa&&(Xa.detachEvent("onpropertychange",Ak),pu=Xa=null)}function Ak(t){if(t.propertyName==="value"&&Ld(pu)){var e=[];Pk(e,pu,t,k0(t)),dk(xI,e)}}function bI(t,e,n){t==="focusin"?(H1(),Xa=e,pu=n,Xa.attachEvent("onpropertychange",Ak)):t==="focusout"&&H1()}function SI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ld(pu)}function kI(t,e){if(t==="click")return Ld(e)}function CI(t,e){if(t==="input"||t==="change")return Ld(e)}function EI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:EI;function hu(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wm.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function W1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U1(t,e){var n=W1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W1(n)}}function Rk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ik(){for(var t=window,e=$f();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$f(t.document)}return e}function D0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MI(t){var e=Ik(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rk(n.ownerDocument.documentElement,n)){if(r!==null&&D0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=U1(n,s);var o=U1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NI=Zi&&"documentMode"in document&&11>=document.documentMode,wl=null,ug=null,Ga=null,cg=!1;function K1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cg||wl==null||wl!==$f(r)||(r=wl,"selectionStart"in r&&D0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&hu(Ga,r)||(Ga=r,r=Xf(ug,"onSelect"),0<r.length&&(e=new T0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wl)))}function Zc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bl={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},Wh={},jk={};Zi&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function zd(t){if(Wh[t])return Wh[t];if(!bl[t])return t;var e=bl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jk)return Wh[t]=e[n];return t}var Lk=zd("animationend"),zk=zd("animationiteration"),Bk=zd("animationstart"),Fk=zd("transitionend"),$k=new Map,q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){$k.set(t,e),Vo(e,[t])}for(var Uh=0;Uh<q1.length;Uh++){var Kh=q1[Uh],OI=Kh.toLowerCase(),TI=Kh[0].toUpperCase()+Kh.slice(1);Gs(OI,"on"+TI)}Gs(Lk,"onAnimationEnd");Gs(zk,"onAnimationIteration");Gs(Bk,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(Fk,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_I=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function X1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OR(r,e,void 0,t),t.currentTarget=null}function Vk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,f=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;X1(i,a,f),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,f=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;X1(i,a,f),s=c}}}if(Hf)throw t=sg,Hf=!1,sg=null,t}function ft(t,e){var n=e[mg];n===void 0&&(n=e[mg]=new Set);var r=t+"__bubble";n.has(r)||(Hk(e,t,2,!1),n.add(r))}function qh(t,e,n){var r=0;e&&(r|=4),Hk(n,t,r,e)}var ef="_reactListening"+Math.random().toString(36).slice(2);function mu(t){if(!t[ef]){t[ef]=!0,YS.forEach(function(n){n!=="selectionchange"&&(_I.has(n)||qh(n,!1,t),qh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ef]||(e[ef]=!0,qh("selectionchange",!1,e))}}function Hk(t,e,n,r){switch(Mk(e)){case 1:var i=WR;break;case 4:i=UR;break;default:i=N0}n=i.bind(null,e,n,t),i=void 0,!ig||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xo(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dk(function(){var f=s,d=k0(n),h=[];e:{var m=$k.get(t);if(m!==void 0){var g=T0,v=t;switch(t){case"keypress":if(Of(n)===0)break e;case"keydown":case"keyup":g=oI;break;case"focusin":v="focus",g=$h;break;case"focusout":v="blur",g=$h;break;case"beforeblur":case"afterblur":g=$h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uI;break;case Lk:case zk:case Bk:g=JR;break;case Fk:g=fI;break;case"scroll":g=KR;break;case"wheel":g=pI;break;case"copy":case"cut":case"paste":g=ZR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=z1}var S=(e&4)!==0,M=!S&&t==="scroll",b=S?m!==null?m+"Capture":null:m;S=[];for(var w=f,E;w!==null;){E=w;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,b!==null&&(k=uu(w,b),k!=null&&S.push(gu(w,k,E)))),M)break;w=w.return}0<S.length&&(m=new g(m,v,null,n,d),h.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==ng&&(v=n.relatedTarget||n.fromElement)&&(xo(v)||v[es]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=f,v=v?xo(v):null,v!==null&&(M=Ho(v),v!==M||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=f),g!==v)){if(S=j1,k="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=z1,k="onPointerLeave",b="onPointerEnter",w="pointer"),M=g==null?m:Sl(g),E=v==null?m:Sl(v),m=new S(k,w+"leave",g,n,d),m.target=M,m.relatedTarget=E,k=null,xo(d)===f&&(S=new S(b,w+"enter",v,n,d),S.target=E,S.relatedTarget=M,k=S),M=k,g&&v)t:{for(S=g,b=v,w=0,E=S;E;E=ll(E))w++;for(E=0,k=b;k;k=ll(k))E++;for(;0<w-E;)S=ll(S),w--;for(;0<E-w;)b=ll(b),E--;for(;w--;){if(S===b||b!==null&&S===b.alternate)break t;S=ll(S),b=ll(b)}S=null}else S=null;g!==null&&G1(h,m,g,S,!1),v!==null&&M!==null&&G1(h,M,v,S,!0)}}e:{if(m=f?Sl(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=wI;else if($1(m))if(Dk)_=CI;else{_=SI;var T=bI}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=kI);if(_&&(_=_(t,f))){Pk(h,_,n,d);break e}T&&T(t,m,f),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Jm(m,"number",m.value)}switch(T=f?Sl(f):window,t){case"focusin":($1(T)||T.contentEditable==="true")&&(wl=T,ug=f,Ga=null);break;case"focusout":Ga=ug=wl=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,K1(h,n,d);break;case"selectionchange":if(NI)break;case"keydown":case"keyup":K1(h,n,d)}var D;if(P0)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else xl?Tk(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Ok&&n.locale!=="ko"&&(xl||A!=="onCompositionStart"?A==="onCompositionEnd"&&xl&&(D=Nk()):(Ms=d,O0="value"in Ms?Ms.value:Ms.textContent,xl=!0)),T=Xf(f,A),0<T.length&&(A=new L1(A,t,null,n,d),h.push({event:A,listeners:T}),D?A.data=D:(D=_k(n),D!==null&&(A.data=D)))),(D=mI?gI(t,n):yI(t,n))&&(f=Xf(f,"onBeforeInput"),0<f.length&&(d=new L1("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:f}),d.data=D))}Vk(h,e)})}function gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uu(t,n),s!=null&&r.unshift(gu(t,s,i)),s=uu(t,e),s!=null&&r.push(gu(t,s,i))),t=t.return}return r}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,f=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&f!==null&&(a=f,i?(c=uu(n,s),c!=null&&o.unshift(gu(n,c,a))):i||(c=uu(n,s),c!=null&&o.push(gu(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PI=/\r\n?/g,DI=/\u0000|\uFFFD/g;function Y1(t){return(typeof t=="string"?t:""+t).replace(PI,`
`).replace(DI,"")}function tf(t,e,n){if(e=Y1(e),Y1(t)!==e&&n)throw Error(ie(425))}function Gf(){}var fg=null,dg=null;function pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,RI=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(t){return J1.resolve(null).then(t).catch(II)}:hg;function II(t){setTimeout(function(){throw t})}function Gh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),du(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);du(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),ki="__reactFiber$"+sa,yu="__reactProps$"+sa,es="__reactContainer$"+sa,mg="__reactEvents$"+sa,jI="__reactListeners$"+sa,LI="__reactHandles$"+sa;function xo(t){var e=t[ki];if(e)return e;for(var n=t.parentNode;n;){if(e=n[es]||n[ki]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q1(t);t!==null;){if(n=t[ki])return n;t=Q1(t)}return e}t=n,n=t.parentNode}return null}function Fu(t){return t=t[ki]||t[es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function Bd(t){return t[yu]||null}var gg=[],kl=-1;function Ys(t){return{current:t}}function dt(t){0>kl||(t.current=gg[kl],gg[kl]=null,kl--)}function at(t,e){kl++,gg[kl]=t.current,t.current=e}var Ks={},bn=Ys(Ks),tr=Ys(!1),Do=Ks;function $l(t,e){var n=t.type.contextTypes;if(!n)return Ks;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function Yf(){dt(tr),dt(bn)}function Z1(t,e,n){if(bn.current!==Ks)throw Error(ie(168));at(bn,e),at(tr,n)}function Wk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ie(108,bR(t)||"Unknown",i));return St({},n,r)}function Jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ks,Do=bn.current,at(bn,t),at(tr,tr.current),!0}function ew(t,e,n){var r=t.stateNode;if(!r)throw Error(ie(169));n?(t=Wk(t,e,Do),r.__reactInternalMemoizedMergedChildContext=t,dt(tr),dt(bn),at(bn,t)):dt(tr),at(tr,n)}var Ui=null,Fd=!1,Yh=!1;function Uk(t){Ui===null?Ui=[t]:Ui.push(t)}function zI(t){Fd=!0,Uk(t)}function Js(){if(!Yh&&Ui!==null){Yh=!0;var t=0,e=et;try{var n=Ui;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ui=null,Fd=!1}catch(i){throw Ui!==null&&(Ui=Ui.slice(t+1)),gk(C0,Js),i}finally{et=e,Yh=!1}}return null}var Cl=[],El=0,Qf=null,Zf=0,$r=[],Vr=0,Ao=null,Ki=1,qi="";function ho(t,e){Cl[El++]=Zf,Cl[El++]=Qf,Qf=t,Zf=e}function Kk(t,e,n){$r[Vr++]=Ki,$r[Vr++]=qi,$r[Vr++]=Ao,Ao=t;var r=Ki;t=qi;var i=32-di(r)-1;r&=~(1<<i),n+=1;var s=32-di(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-di(e)+i|n<<i|r,qi=s+t}else Ki=1<<s|n<<i|r,qi=t}function A0(t){t.return!==null&&(ho(t,1),Kk(t,1,0))}function R0(t){for(;t===Qf;)Qf=Cl[--El],Cl[El]=null,Zf=Cl[--El],Cl[El]=null;for(;t===Ao;)Ao=$r[--Vr],$r[Vr]=null,qi=$r[--Vr],$r[Vr]=null,Ki=$r[--Vr],$r[Vr]=null}var kr=null,wr=null,gt=!1,ui=null;function qk(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kr=t,wr=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kr=t,wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:Ki,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kr=t,wr=null,!0):!1;default:return!1}}function yg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vg(t){if(gt){var e=wr;if(e){var n=e;if(!tw(t,e)){if(yg(t))throw Error(ie(418));e=Rs(n.nextSibling);var r=kr;e&&tw(t,e)?qk(r,n):(t.flags=t.flags&-4097|2,gt=!1,kr=t)}}else{if(yg(t))throw Error(ie(418));t.flags=t.flags&-4097|2,gt=!1,kr=t}}}function nw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kr=t}function nf(t){if(t!==kr)return!1;if(!gt)return nw(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pg(t.type,t.memoizedProps)),e&&(e=wr)){if(yg(t))throw Xk(),Error(ie(418));for(;e;)qk(t,e),e=Rs(e.nextSibling)}if(nw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wr=Rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wr=null}}else wr=kr?Rs(t.stateNode.nextSibling):null;return!0}function Xk(){for(var t=wr;t;)t=Rs(t.nextSibling)}function Vl(){wr=kr=null,gt=!1}function I0(t){ui===null?ui=[t]:ui.push(t)}var BI=is.ReactCurrentBatchConfig;function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var r=n.stateNode}if(!r)throw Error(ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,t))}return t}function rf(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rw(t){var e=t._init;return e(t._payload)}function Gk(t){function e(b,w){if(t){var E=b.deletions;E===null?(b.deletions=[w],b.flags|=16):E.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=zs(b,w),b.index=0,b.sibling=null,b}function s(b,w,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<w?(b.flags|=2,w):E):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,w,E,k){return w===null||w.tag!==6?(w=rm(E,b.mode,k),w.return=b,w):(w=i(w,E),w.return=b,w)}function c(b,w,E,k){var _=E.type;return _===vl?d(b,w,E.props.children,k,E.key):w!==null&&(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xs&&rw(_)===w.type)?(k=i(w,E.props),k.ref=Pa(b,w,E),k.return=b,k):(k=If(E.type,E.key,E.props,null,b.mode,k),k.ref=Pa(b,w,E),k.return=b,k)}function f(b,w,E,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=im(E,b.mode,k),w.return=b,w):(w=i(w,E.children||[]),w.return=b,w)}function d(b,w,E,k,_){return w===null||w.tag!==7?(w=Eo(E,b.mode,k,_),w.return=b,w):(w=i(w,E),w.return=b,w)}function h(b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rm(""+w,b.mode,E),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:return E=If(w.type,w.key,w.props,null,b.mode,E),E.ref=Pa(b,null,w),E.return=b,E;case yl:return w=im(w,b.mode,E),w.return=b,w;case xs:var k=w._init;return h(b,k(w._payload),E)}if(za(w)||Ma(w))return w=Eo(w,b.mode,E,null),w.return=b,w;rf(b,w)}return null}function m(b,w,E,k){var _=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return _!==null?null:a(b,w,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Kc:return E.key===_?c(b,w,E,k):null;case yl:return E.key===_?f(b,w,E,k):null;case xs:return _=E._init,m(b,w,_(E._payload),k)}if(za(E)||Ma(E))return _!==null?null:d(b,w,E,k,null);rf(b,E)}return null}function g(b,w,E,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(E)||null,a(w,b,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Kc:return b=b.get(k.key===null?E:k.key)||null,c(w,b,k,_);case yl:return b=b.get(k.key===null?E:k.key)||null,f(w,b,k,_);case xs:var T=k._init;return g(b,w,E,T(k._payload),_)}if(za(k)||Ma(k))return b=b.get(E)||null,d(w,b,k,_,null);rf(w,k)}return null}function v(b,w,E,k){for(var _=null,T=null,D=w,A=w=0,F=null;D!==null&&A<E.length;A++){D.index>A?(F=D,D=null):F=D.sibling;var U=m(b,D,E[A],k);if(U===null){D===null&&(D=F);break}t&&D&&U.alternate===null&&e(b,D),w=s(U,w,A),T===null?_=U:T.sibling=U,T=U,D=F}if(A===E.length)return n(b,D),gt&&ho(b,A),_;if(D===null){for(;A<E.length;A++)D=h(b,E[A],k),D!==null&&(w=s(D,w,A),T===null?_=D:T.sibling=D,T=D);return gt&&ho(b,A),_}for(D=r(b,D);A<E.length;A++)F=g(D,b,A,E[A],k),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?A:F.key),w=s(F,w,A),T===null?_=F:T.sibling=F,T=F);return t&&D.forEach(function(le){return e(b,le)}),gt&&ho(b,A),_}function S(b,w,E,k){var _=Ma(E);if(typeof _!="function")throw Error(ie(150));if(E=_.call(E),E==null)throw Error(ie(151));for(var T=_=null,D=w,A=w=0,F=null,U=E.next();D!==null&&!U.done;A++,U=E.next()){D.index>A?(F=D,D=null):F=D.sibling;var le=m(b,D,U.value,k);if(le===null){D===null&&(D=F);break}t&&D&&le.alternate===null&&e(b,D),w=s(le,w,A),T===null?_=le:T.sibling=le,T=le,D=F}if(U.done)return n(b,D),gt&&ho(b,A),_;if(D===null){for(;!U.done;A++,U=E.next())U=h(b,U.value,k),U!==null&&(w=s(U,w,A),T===null?_=U:T.sibling=U,T=U);return gt&&ho(b,A),_}for(D=r(b,D);!U.done;A++,U=E.next())U=g(D,b,A,U.value,k),U!==null&&(t&&U.alternate!==null&&D.delete(U.key===null?A:U.key),w=s(U,w,A),T===null?_=U:T.sibling=U,T=U);return t&&D.forEach(function(ae){return e(b,ae)}),gt&&ho(b,A),_}function M(b,w,E,k){if(typeof E=="object"&&E!==null&&E.type===vl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Kc:e:{for(var _=E.key,T=w;T!==null;){if(T.key===_){if(_=E.type,_===vl){if(T.tag===7){n(b,T.sibling),w=i(T,E.props.children),w.return=b,b=w;break e}}else if(T.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xs&&rw(_)===T.type){n(b,T.sibling),w=i(T,E.props),w.ref=Pa(b,T,E),w.return=b,b=w;break e}n(b,T);break}else e(b,T);T=T.sibling}E.type===vl?(w=Eo(E.props.children,b.mode,k,E.key),w.return=b,b=w):(k=If(E.type,E.key,E.props,null,b.mode,k),k.ref=Pa(b,w,E),k.return=b,b=k)}return o(b);case yl:e:{for(T=E.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(b,w.sibling),w=i(w,E.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=im(E,b.mode,k),w.return=b,b=w}return o(b);case xs:return T=E._init,M(b,w,T(E._payload),k)}if(za(E))return v(b,w,E,k);if(Ma(E))return S(b,w,E,k);rf(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,E),w.return=b,b=w):(n(b,w),w=rm(E,b.mode,k),w.return=b,b=w),o(b)):n(b,w)}return M}var Hl=Gk(!0),Yk=Gk(!1),ed=Ys(null),td=null,Ml=null,j0=null;function L0(){j0=Ml=td=null}function z0(t){var e=ed.current;dt(ed),t._currentValue=e}function xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jl(t,e){td=t,j0=Ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(er=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(j0!==t)if(t={context:t,memoizedValue:e,next:null},Ml===null){if(td===null)throw Error(ie(308));Ml=t,td.dependencies={lanes:0,firstContext:t}}else Ml=Ml.next=t;return e}var wo=null;function B0(t){wo===null?wo=[t]:wo.push(t)}function Jk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,B0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ts(t,r)}function ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function F0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ts(t,n)}return i=r.interleaved,i===null?(e.next=e,B0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ts(t,n)}function Tf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E0(t,n)}}function iw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nd(t,e,n,r){var i=t.updateQueue;ws=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,f=c.next;c.next=null,o===null?s=f:o.next=f,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,d=f=c=null,a=s;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,S=a;switch(m=e,g=n,S.tag){case 1:if(v=S.payload,typeof v=="function"){h=v.call(g,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,m=typeof v=="function"?v.call(g,h,m):v,m==null)break e;h=St({},h,m);break e;case 2:ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=g,c=h):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Io|=o,t.lanes=o,t.memoizedState=h}}function sw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ie(191,i));i.call(r)}}}var $u={},Mi=Ys($u),vu=Ys($u),xu=Ys($u);function bo(t){if(t===$u)throw Error(ie(174));return t}function $0(t,e){switch(at(xu,e),at(vu,t),at(Mi,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zm(e,t)}dt(Mi),at(Mi,e)}function Wl(){dt(Mi),dt(vu),dt(xu)}function Zk(t){bo(xu.current);var e=bo(Mi.current),n=Zm(e,t.type);e!==n&&(at(vu,t),at(Mi,n))}function V0(t){vu.current===t&&(dt(Mi),dt(vu))}var wt=Ys(0);function rd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jh=[];function H0(){for(var t=0;t<Jh.length;t++)Jh[t]._workInProgressVersionPrimary=null;Jh.length=0}var _f=is.ReactCurrentDispatcher,Qh=is.ReactCurrentBatchConfig,Ro=0,bt=null,Ft=null,Wt=null,id=!1,Ya=!1,wu=0,FI=0;function gn(){throw Error(ie(321))}function W0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hi(t[n],e[n]))return!1;return!0}function U0(t,e,n,r,i,s){if(Ro=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_f.current=t===null||t.memoizedState===null?WI:UI,t=n(r,i),Ya){s=0;do{if(Ya=!1,wu=0,25<=s)throw Error(ie(301));s+=1,Wt=Ft=null,e.updateQueue=null,_f.current=KI,t=n(r,i)}while(Ya)}if(_f.current=sd,e=Ft!==null&&Ft.next!==null,Ro=0,Wt=Ft=bt=null,id=!1,e)throw Error(ie(300));return t}function K0(){var t=wu!==0;return wu=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function Yr(){if(Ft===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Wt===null?bt.memoizedState:Wt.next;if(e!==null)Wt=e,Ft=t;else{if(t===null)throw Error(ie(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?bt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function bu(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=Yr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,f=s;do{var d=f.lane;if((Ro&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,bt.lanes|=d,Io|=d}f=f.next}while(f!==null&&f!==s);c===null?o=r:c.next=a,hi(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,Io|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function em(t){var e=Yr(),n=e.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hi(s,e.memoizedState)||(er=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function eC(){}function tC(t,e){var n=bt,r=Yr(),i=e(),s=!hi(r.memoizedState,i);if(s&&(r.memoizedState=i,er=!0),r=r.queue,q0(iC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Su(9,rC.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(ie(349));Ro&30||nC(n,e,i)}return i}function nC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rC(t,e,n,r){e.value=n,e.getSnapshot=r,sC(e)&&oC(t)}function iC(t,e,n){return n(function(){sC(e)&&oC(t)})}function sC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hi(t,n)}catch{return!0}}function oC(t){var e=ts(t,1);e!==null&&pi(e,t,1,-1)}function ow(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:t},e.queue=t,t=t.dispatch=HI.bind(null,bt,t),[e.memoizedState,t]}function Su(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lC(){return Yr().memoizedState}function Pf(t,e,n,r){var i=wi();bt.flags|=t,i.memoizedState=Su(1|e,n,void 0,r===void 0?null:r)}function $d(t,e,n,r){var i=Yr();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&W0(r,o.deps)){i.memoizedState=Su(e,n,s,r);return}}bt.flags|=t,i.memoizedState=Su(1|e,n,s,r)}function lw(t,e){return Pf(8390656,8,t,e)}function q0(t,e){return $d(2048,8,t,e)}function aC(t,e){return $d(4,2,t,e)}function uC(t,e){return $d(4,4,t,e)}function cC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fC(t,e,n){return n=n!=null?n.concat([t]):null,$d(4,4,cC.bind(null,e,t),n)}function X0(){}function dC(t,e){var n=Yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pC(t,e){var n=Yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hC(t,e,n){return Ro&21?(hi(n,e)||(n=xk(),bt.lanes|=n,Io|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n)}function $I(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=Qh.transition;Qh.transition={};try{t(!1),e()}finally{et=n,Qh.transition=r}}function mC(){return Yr().memoizedState}function VI(t,e,n){var r=Ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gC(t))yC(e,n);else if(n=Jk(t,e,n,r),n!==null){var i=zn();pi(n,t,r,i),vC(n,e,r)}}function HI(t,e,n){var r=Ls(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gC(t))yC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hi(a,o)){var c=e.interleaved;c===null?(i.next=i,B0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Jk(t,e,i,r),n!==null&&(i=zn(),pi(n,t,r,i),vC(n,e,r))}}function gC(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function yC(t,e){Ya=id=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E0(t,n)}}var sd={readContext:Gr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},WI={readContext:Gr,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pf(4194308,4,cC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pf(4,2,t,e)},useMemo:function(t,e){var n=wi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VI.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:ow,useDebugValue:X0,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=ow(!1),e=t[0];return t=$I.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=wi();if(gt){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=e(),qt===null)throw Error(ie(349));Ro&30||nC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lw(iC.bind(null,r,s,t),[t]),r.flags|=2048,Su(9,rC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wi(),e=qt.identifierPrefix;if(gt){var n=qi,r=Ki;n=(r&~(1<<32-di(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UI={readContext:Gr,useCallback:dC,useContext:Gr,useEffect:q0,useImperativeHandle:fC,useInsertionEffect:aC,useLayoutEffect:uC,useMemo:pC,useReducer:Zh,useRef:lC,useState:function(){return Zh(bu)},useDebugValue:X0,useDeferredValue:function(t){var e=Yr();return hC(e,Ft.memoizedState,t)},useTransition:function(){var t=Zh(bu)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1},KI={readContext:Gr,useCallback:dC,useContext:Gr,useEffect:q0,useImperativeHandle:fC,useInsertionEffect:aC,useLayoutEffect:uC,useMemo:pC,useReducer:em,useRef:lC,useState:function(){return em(bu)},useDebugValue:X0,useDeferredValue:function(t){var e=Yr();return Ft===null?e.memoizedState=t:hC(e,Ft.memoizedState,t)},useTransition:function(){var t=em(bu)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:eC,useSyncExternalStore:tC,useId:mC,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vd={isMounted:function(t){return(t=t._reactInternals)?Ho(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zn(),i=Ls(t),s=Yi(r,i);s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(pi(e,t,i,r),Tf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zn(),i=Ls(t),s=Yi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Is(t,s,i),e!==null&&(pi(e,t,i,r),Tf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),r=Ls(t),i=Yi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Is(t,i,r),e!==null&&(pi(e,t,r,n),Tf(e,t,r))}};function aw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hu(n,r)||!hu(i,s):!0}function xC(t,e,n){var r=!1,i=Ks,s=e.contextType;return typeof s=="object"&&s!==null?s=Gr(s):(i=nr(e)?Do:bn.current,r=e.contextTypes,s=(r=r!=null)?$l(t,i):Ks),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vd.enqueueReplaceState(e,e.state,null)}function bg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},F0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gr(s):(s=nr(e)?Do:bn.current,i.context=$l(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vd.enqueueReplaceState(i,i.state,null),nd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ul(t,e){try{var n="",r=e;do n+=wR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function wC(t,e,n){n=Yi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ld||(ld=!0,Dg=r),Sg(t,e)},n}function bC(t,e,n){n=Yi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sg(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lj.bind(null,t,e,n),e.then(t,t))}function fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yi(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var XI=is.ReactCurrentOwner,er=!1;function Ln(t,e,n,r){e.child=t===null?Yk(e,null,n,r):Hl(e,t.child,n,r)}function pw(t,e,n,r,i){n=n.render;var s=e.ref;return jl(e,i),r=U0(t,e,n,r,s,i),n=K0(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ns(t,e,i)):(gt&&n&&A0(e),e.flags|=1,Ln(t,e,r,i),e.child)}function hw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ny(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SC(t,e,s,r,i)):(t=If(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hu,n(o,r)&&t.ref===e.ref)return ns(t,e,i)}return e.flags|=1,t=zs(s,r),t.ref=e.ref,t.return=e,e.child=t}function SC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hu(s,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(er=!0);else return e.lanes=t.lanes,ns(t,e,i)}return kg(t,e,n,r,i)}function kC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Ol,vr),vr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Ol,vr),vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,at(Ol,vr),vr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,at(Ol,vr),vr|=r;return Ln(t,e,i,n),e.child}function CC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,i){var s=nr(n)?Do:bn.current;return s=$l(e,s),jl(e,i),n=U0(t,e,n,r,s,i),r=K0(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ns(t,e,i)):(gt&&r&&A0(e),e.flags|=1,Ln(t,e,n,i),e.child)}function mw(t,e,n,r,i){if(nr(n)){var s=!0;Jf(e)}else s=!1;if(jl(e,i),e.stateNode===null)Df(t,e),xC(e,n,r),bg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Gr(f):(f=nr(n)?Do:bn.current,f=$l(e,f));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==f)&&uw(e,o,r,f),ws=!1;var m=e.memoizedState;o.state=m,nd(e,r,o,i),c=e.memoizedState,a!==r||m!==c||tr.current||ws?(typeof d=="function"&&(wg(e,n,d,r),c=e.memoizedState),(a=ws||aw(e,n,a,r,m,c,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=f,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qk(t,e),a=e.memoizedProps,f=e.type===e.elementType?a:li(e.type,a),o.props=f,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gr(c):(c=nr(n)?Do:bn.current,c=$l(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==c)&&uw(e,o,r,c),ws=!1,m=e.memoizedState,o.state=m,nd(e,r,o,i);var v=e.memoizedState;a!==h||m!==v||tr.current||ws?(typeof g=="function"&&(wg(e,n,g,r),v=e.memoizedState),(f=ws||aw(e,n,f,r,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=f):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Cg(t,e,n,r,s,i)}function Cg(t,e,n,r,i,s){CC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ew(e,n,!1),ns(t,e,s);r=e.stateNode,XI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hl(e,t.child,null,s),e.child=Hl(e,null,a,s)):Ln(t,e,a,s),e.memoizedState=r.state,i&&ew(e,n,!0),e.child}function EC(t){var e=t.stateNode;e.pendingContext?Z1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Z1(t,e.context,!1),$0(t,e.containerInfo)}function gw(t,e,n,r,i){return Vl(),I0(i),e.flags|=256,Ln(t,e,n,r),e.child}var Eg={dehydrated:null,treeContext:null,retryLane:0};function Mg(t){return{baseLanes:t,cachePool:null,transitions:null}}function MC(t,e,n){var r=e.pendingProps,i=wt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(wt,i&1),t===null)return vg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ud(o,r,0,null),t=Eo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mg(n),e.memoizedState=Eg,t):G0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return GI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zs(a,s):(s=Eo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Mg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Eg,r}return s=t.child,t=s.sibling,r=zs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function G0(t,e){return e=Ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sf(t,e,n,r){return r!==null&&I0(r),Hl(e,t.child,null,n),t=G0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=tm(Error(ie(422))),sf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ud({mode:"visible",children:r.children},i,0,null),s=Eo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hl(e,t.child,null,o),e.child.memoizedState=Mg(o),e.memoizedState=Eg,s);if(!(e.mode&1))return sf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ie(419)),r=tm(s,r,void 0),sf(t,e,o,r)}if(a=(o&t.childLanes)!==0,er||a){if(r=qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ts(t,i),pi(r,t,i,-1))}return ty(),r=tm(Error(ie(421))),sf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aj.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wr=Rs(i.nextSibling),kr=e,gt=!0,ui=null,t!==null&&($r[Vr++]=Ki,$r[Vr++]=qi,$r[Vr++]=Ao,Ki=t.id,qi=t.overflow,Ao=e),e=G0(e,r.children),e.flags|=4096,e)}function yw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xg(t.return,e,n)}function nm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ln(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yw(t,n,e);else if(t.tag===19)yw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nm(e,!0,n,null,s);break;case"together":nm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Io|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,n=zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YI(t,e,n){switch(e.tag){case 3:EC(e),Vl();break;case 5:Zk(e);break;case 1:nr(e.type)&&Jf(e);break;case 4:$0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;at(ed,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?MC(t,e,n):(at(wt,wt.current&1),t=ns(t,e,n),t!==null?t.sibling:null);at(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,kC(t,e,n)}return ns(t,e,n)}var OC,Ng,TC,_C;OC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};TC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bo(Mi.current);var s=null;switch(n){case"input":i=Gm(t,i),r=Gm(t,r),s=[];break;case"select":i=St({},i,{value:void 0}),r=St({},r,{value:void 0}),s=[];break;case"textarea":i=Qm(t,i),r=Qm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gf)}eg(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(lu.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==a&&(c!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(lu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ft("scroll",t),s||a===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};_C=function(t,e,n,r){n!==r&&(e.flags|=4)};function Da(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JI(t,e,n){var r=e.pendingProps;switch(R0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(e),null;case 1:return nr(e.type)&&Yf(),yn(e),null;case 3:return r=e.stateNode,Wl(),dt(tr),dt(bn),H0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(Ig(ui),ui=null))),Ng(t,e),yn(e),null;case 5:V0(e);var i=bo(xu.current);if(n=e.type,t!==null&&e.stateNode!=null)TC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ie(166));return yn(e),null}if(t=bo(Mi.current),nf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ki]=e,r[yu]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Fa.length;i++)ft(Fa[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":M1(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":O1(r,s),ft("invalid",r)}eg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tf(r.textContent,a,t),i=["children",""+a]):lu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":qc(r),N1(r,s,!0);break;case"textarea":qc(r),T1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ik(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ki]=e,t[yu]=r,OC(t,e,!1,!1),e.stateNode=t;e:{switch(o=tg(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fa.length;i++)ft(Fa[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":M1(t,r),i=Gm(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=St({},r,{value:void 0}),ft("invalid",t);break;case"textarea":O1(t,r),i=Qm(t,r),ft("invalid",t);break;default:i=r}eg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?lk(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sk(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&au(t,c):typeof c=="number"&&au(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ft("scroll",t):c!=null&&x0(t,s,c,o))}switch(n){case"input":qc(t),N1(t,r,!1);break;case"textarea":qc(t),T1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Dl(t,!!r.multiple,s,!1):r.defaultValue!=null&&Dl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yn(e),null;case 6:if(t&&e.stateNode!=null)_C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ie(166));if(n=bo(xu.current),bo(Mi.current),nf(e)){if(r=e.stateNode,n=e.memoizedProps,r[ki]=e,(s=r.nodeValue!==n)&&(t=kr,t!==null))switch(t.tag){case 3:tf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ki]=e,e.stateNode=r}return yn(e),null;case 13:if(dt(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&wr!==null&&e.mode&1&&!(e.flags&128))Xk(),Vl(),e.flags|=98560,s=!1;else if(s=nf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[ki]=e}else Vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yn(e),s=!1}else ui!==null&&(Ig(ui),ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?$t===0&&($t=3):ty())),e.updateQueue!==null&&(e.flags|=4),yn(e),null);case 4:return Wl(),Ng(t,e),t===null&&mu(e.stateNode.containerInfo),yn(e),null;case 10:return z0(e.type._context),yn(e),null;case 17:return nr(e.type)&&Yf(),yn(e),null;case 19:if(dt(wt),s=e.memoizedState,s===null)return yn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Da(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rd(t),o!==null){for(e.flags|=128,Da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(wt,wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Kl&&(e.flags|=128,r=!0,Da(s,!1),e.lanes=4194304)}else{if(!r)if(t=rd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return yn(e),null}else 2*Pt()-s.renderingStartTime>Kl&&n!==1073741824&&(e.flags|=128,r=!0,Da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,n=wt.current,at(wt,r?n&1|2:n&1),e):(yn(e),null);case 22:case 23:return ey(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vr&1073741824&&(yn(e),e.subtreeFlags&6&&(e.flags|=8192)):yn(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function QI(t,e){switch(R0(e),e.tag){case 1:return nr(e.type)&&Yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wl(),dt(tr),dt(bn),H0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return V0(e),null;case 13:if(dt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));Vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(wt),null;case 4:return Wl(),null;case 10:return z0(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var of=!1,wn=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Nl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function Og(t,e,n){try{n()}catch(r){Et(t,e,r)}}var vw=!1;function ej(t,e){if(fg=Kf,t=Ik(),D0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,f=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++f===i&&(a=o),m===s&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dg={focusedElem:t,selectionRange:n},Kf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,M=v.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?S:li(e.type,S),M);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(k){Et(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=vw,vw=!1,v}function Ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Og(e,n,s)}i=i.next}while(i!==r)}}function Hd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PC(t){var e=t.alternate;e!==null&&(t.alternate=null,PC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ki],delete e[yu],delete e[mg],delete e[jI],delete e[LI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DC(t){return t.tag===5||t.tag===3||t.tag===4}function xw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gf));else if(r!==4&&(t=t.child,t!==null))for(_g(t,e,n),t=t.sibling;t!==null;)_g(t,e,n),t=t.sibling}function Pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pg(t,e,n),t=t.sibling;t!==null;)Pg(t,e,n),t=t.sibling}var tn=null,ai=!1;function ms(t,e,n){for(n=n.child;n!==null;)AC(t,e,n),n=n.sibling}function AC(t,e,n){if(Ei&&typeof Ei.onCommitFiberUnmount=="function")try{Ei.onCommitFiberUnmount(Id,n)}catch{}switch(n.tag){case 5:wn||Nl(n,e);case 6:var r=tn,i=ai;tn=null,ms(t,e,n),tn=r,ai=i,tn!==null&&(ai?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(ai?(t=tn,n=n.stateNode,t.nodeType===8?Gh(t.parentNode,n):t.nodeType===1&&Gh(t,n),du(t)):Gh(tn,n.stateNode));break;case 4:r=tn,i=ai,tn=n.stateNode.containerInfo,ai=!0,ms(t,e,n),tn=r,ai=i;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Og(n,e,o),i=i.next}while(i!==r)}ms(t,e,n);break;case 1:if(!wn&&(Nl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,ms(t,e,n),wn=r):ms(t,e,n);break;default:ms(t,e,n)}}function ww(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZI),e.forEach(function(r){var i=uj.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,ai=!1;break e;case 3:tn=a.stateNode.containerInfo,ai=!0;break e;case 4:tn=a.stateNode.containerInfo,ai=!0;break e}a=a.return}if(tn===null)throw Error(ie(160));AC(s,o,i),tn=null,ai=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){Et(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RC(e,t),e=e.sibling}function RC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),xi(t),r&4){try{Ja(3,t,t.return),Hd(3,t)}catch(S){Et(t,t.return,S)}try{Ja(5,t,t.return)}catch(S){Et(t,t.return,S)}}break;case 1:si(e,t),xi(t),r&512&&n!==null&&Nl(n,n.return);break;case 5:if(si(e,t),xi(t),r&512&&n!==null&&Nl(n,n.return),t.flags&32){var i=t.stateNode;try{au(i,"")}catch(S){Et(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nk(i,s),tg(a,o);var f=tg(a,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?lk(i,h):d==="dangerouslySetInnerHTML"?sk(i,h):d==="children"?au(i,h):x0(i,d,h,f)}switch(a){case"input":Ym(i,s);break;case"textarea":rk(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Dl(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Dl(i,!!s.multiple,s.defaultValue,!0):Dl(i,!!s.multiple,s.multiple?[]:"",!1))}i[yu]=s}catch(S){Et(t,t.return,S)}}break;case 6:if(si(e,t),xi(t),r&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Et(t,t.return,S)}}break;case 3:if(si(e,t),xi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{du(e.containerInfo)}catch(S){Et(t,t.return,S)}break;case 4:si(e,t),xi(t);break;case 13:si(e,t),xi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Q0=Pt())),r&4&&ww(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(f=wn)||d,si(e,t),wn=f):si(e,t),xi(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(h=ge=d;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:Ja(4,m,m.return);break;case 1:Nl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){Et(r,n,S)}}break;case 5:Nl(m,m.return);break;case 22:if(m.memoizedState!==null){Sw(h);continue}}g!==null?(g.return=m,ge=g):Sw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ok("display",o))}catch(S){Et(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(S){Et(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:si(e,t),xi(t),r&4&&ww(t);break;case 21:break;default:si(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DC(n)){var r=n;break e}n=n.return}throw Error(ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(au(i,""),r.flags&=-33);var s=xw(t);Pg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xw(t);_g(t,a,o);break;default:throw Error(ie(161))}}catch(c){Et(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tj(t,e,n){ge=t,IC(t)}function IC(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||of;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||wn;a=of;var f=wn;if(of=o,(wn=c)&&!f)for(ge=i;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?kw(i):c!==null?(c.return=o,ge=c):kw(i);for(;s!==null;)ge=s,IC(s),s=s.sibling;ge=i,of=a,wn=f}bw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):bw(t)}}function bw(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||Hd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&du(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}wn||e.flags&512&&Tg(e)}catch(m){Et(e,e.return,m)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function Sw(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function kw(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hd(4,e)}catch(c){Et(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Et(e,i,c)}}var s=e.return;try{Tg(e)}catch(c){Et(e,s,c)}break;case 5:var o=e.return;try{Tg(e)}catch(c){Et(e,o,c)}}}catch(c){Et(e,e.return,c)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var nj=Math.ceil,od=is.ReactCurrentDispatcher,Y0=is.ReactCurrentOwner,Ur=is.ReactCurrentBatchConfig,Ge=0,qt=null,It=null,ln=0,vr=0,Ol=Ys(0),$t=0,ku=null,Io=0,Wd=0,J0=0,Qa=null,Zn=null,Q0=0,Kl=1/0,Hi=null,ld=!1,Dg=null,js=null,lf=!1,Ns=null,ad=0,Za=0,Ag=null,Af=-1,Rf=0;function zn(){return Ge&6?Pt():Af!==-1?Af:Af=Pt()}function Ls(t){return t.mode&1?Ge&2&&ln!==0?ln&-ln:BI.transition!==null?(Rf===0&&(Rf=xk()),Rf):(t=et,t!==0||(t=window.event,t=t===void 0?16:Mk(t.type)),t):1}function pi(t,e,n,r){if(50<Za)throw Za=0,Ag=null,Error(ie(185));zu(t,n,r),(!(Ge&2)||t!==qt)&&(t===qt&&(!(Ge&2)&&(Wd|=n),$t===4&&Cs(t,ln)),rr(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Kl=Pt()+500,Fd&&Js()))}function rr(t,e){var n=t.callbackNode;BR(t,e);var r=Uf(t,t===qt?ln:0);if(r===0)n!==null&&D1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&D1(n),e===1)t.tag===0?zI(Cw.bind(null,t)):Uk(Cw.bind(null,t)),RI(function(){!(Ge&6)&&Js()}),n=null;else{switch(wk(r)){case 1:n=C0;break;case 4:n=yk;break;case 16:n=Wf;break;case 536870912:n=vk;break;default:n=Wf}n=HC(n,jC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jC(t,e){if(Af=-1,Rf=0,Ge&6)throw Error(ie(327));var n=t.callbackNode;if(Ll()&&t.callbackNode!==n)return null;var r=Uf(t,t===qt?ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ud(t,r);else{e=r;var i=Ge;Ge|=2;var s=zC();(qt!==t||ln!==e)&&(Hi=null,Kl=Pt()+500,Co(t,e));do try{sj();break}catch(a){LC(t,a)}while(!0);L0(),od.current=s,Ge=i,It!==null?e=0:(qt=null,ln=0,e=$t)}if(e!==0){if(e===2&&(i=og(t),i!==0&&(r=i,e=Rg(t,i))),e===1)throw n=ku,Co(t,0),Cs(t,r),rr(t,Pt()),n;if(e===6)Cs(t,r);else{if(i=t.current.alternate,!(r&30)&&!rj(i)&&(e=ud(t,r),e===2&&(s=og(t),s!==0&&(r=s,e=Rg(t,s))),e===1))throw n=ku,Co(t,0),Cs(t,r),rr(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ie(345));case 2:mo(t,Zn,Hi);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=Q0+500-Pt(),10<e)){if(Uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hg(mo.bind(null,t,Zn,Hi),e);break}mo(t,Zn,Hi);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-di(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nj(r/1960))-r,10<r){t.timeoutHandle=hg(mo.bind(null,t,Zn,Hi),r);break}mo(t,Zn,Hi);break;case 5:mo(t,Zn,Hi);break;default:throw Error(ie(329))}}}return rr(t,Pt()),t.callbackNode===n?jC.bind(null,t):null}function Rg(t,e){var n=Qa;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=ud(t,e),t!==2&&(e=Zn,Zn=n,e!==null&&Ig(e)),t}function Ig(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function rj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~J0,e&=~Wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-di(e),r=1<<n;t[n]=-1,e&=~r}}function Cw(t){if(Ge&6)throw Error(ie(327));Ll();var e=Uf(t,0);if(!(e&1))return rr(t,Pt()),null;var n=ud(t,e);if(t.tag!==0&&n===2){var r=og(t);r!==0&&(e=r,n=Rg(t,r))}if(n===1)throw n=ku,Co(t,0),Cs(t,e),rr(t,Pt()),n;if(n===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mo(t,Zn,Hi),rr(t,Pt()),null}function Z0(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Kl=Pt()+500,Fd&&Js())}}function jo(t){Ns!==null&&Ns.tag===0&&!(Ge&6)&&Ll();var e=Ge;Ge|=1;var n=Ur.transition,r=et;try{if(Ur.transition=null,et=1,t)return t()}finally{et=r,Ur.transition=n,Ge=e,!(Ge&6)&&Js()}}function ey(){vr=Ol.current,dt(Ol)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AI(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(R0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yf();break;case 3:Wl(),dt(tr),dt(bn),H0();break;case 5:V0(r);break;case 4:Wl();break;case 13:dt(wt);break;case 19:dt(wt);break;case 10:z0(r.type._context);break;case 22:case 23:ey()}n=n.return}if(qt=t,It=t=zs(t.current,null),ln=vr=e,$t=0,ku=null,J0=Wd=Io=0,Zn=Qa=null,wo!==null){for(e=0;e<wo.length;e++)if(n=wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wo=null}return t}function LC(t,e){do{var n=It;try{if(L0(),_f.current=sd,id){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}id=!1}if(Ro=0,Wt=Ft=bt=null,Ya=!1,wu=0,Y0.current=null,n===null||n.return===null){$t=1,ku=e,It=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=ln,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=fw(o);if(g!==null){g.flags&=-257,dw(g,o,a,s,e),g.mode&1&&cw(s,f,e),e=g,c=f;var v=e.updateQueue;if(v===null){var S=new Set;S.add(c),e.updateQueue=S}else v.add(c);break e}else{if(!(e&1)){cw(s,f,e),ty();break e}c=Error(ie(426))}}else if(gt&&a.mode&1){var M=fw(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),dw(M,o,a,s,e),I0(Ul(c,a));break e}}s=c=Ul(c,a),$t!==4&&($t=2),Qa===null?Qa=[s]:Qa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=wC(s,c,e);iw(s,b);break e;case 1:a=c;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(js===null||!js.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=bC(s,a,e);iw(s,k);break e}}s=s.return}while(s!==null)}FC(n)}catch(_){e=_,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function zC(){var t=od.current;return od.current=sd,t===null?sd:t}function ty(){($t===0||$t===3||$t===2)&&($t=4),qt===null||!(Io&268435455)&&!(Wd&268435455)||Cs(qt,ln)}function ud(t,e){var n=Ge;Ge|=2;var r=zC();(qt!==t||ln!==e)&&(Hi=null,Co(t,e));do try{ij();break}catch(i){LC(t,i)}while(!0);if(L0(),Ge=n,od.current=r,It!==null)throw Error(ie(261));return qt=null,ln=0,$t}function ij(){for(;It!==null;)BC(It)}function sj(){for(;It!==null&&!_R();)BC(It)}function BC(t){var e=VC(t.alternate,t,vr);t.memoizedProps=t.pendingProps,e===null?FC(t):It=e,Y0.current=null}function FC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QI(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,It=null;return}}else if(n=JI(n,e,vr),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);$t===0&&($t=5)}function mo(t,e,n){var r=et,i=Ur.transition;try{Ur.transition=null,et=1,oj(t,e,n,r)}finally{Ur.transition=i,et=r}return null}function oj(t,e,n,r){do Ll();while(Ns!==null);if(Ge&6)throw Error(ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(FR(t,s),t===qt&&(It=qt=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lf||(lf=!0,HC(Wf,function(){return Ll(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var o=et;et=1;var a=Ge;Ge|=4,Y0.current=null,ej(t,n),RC(n,t),MI(dg),Kf=!!fg,dg=fg=null,t.current=n,tj(n),PR(),Ge=a,et=o,Ur.transition=s}else t.current=n;if(lf&&(lf=!1,Ns=t,ad=i),s=t.pendingLanes,s===0&&(js=null),RR(n.stateNode),rr(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ld)throw ld=!1,t=Dg,Dg=null,t;return ad&1&&t.tag!==0&&Ll(),s=t.pendingLanes,s&1?t===Ag?Za++:(Za=0,Ag=t):Za=0,Js(),null}function Ll(){if(Ns!==null){var t=wk(ad),e=Ur.transition,n=et;try{if(Ur.transition=null,et=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,ad=0,Ge&6)throw Error(ie(331));var i=Ge;for(Ge|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var f=a[c];for(ge=f;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Ja(8,d,s)}var h=d.child;if(h!==null)h.return=d,ge=h;else for(;ge!==null;){d=ge;var m=d.sibling,g=d.return;if(PC(d),d===f){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var M=S.sibling;S.sibling=null,S=M}while(S!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ja(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ge=b;break e}ge=s.return}}var w=t.current;for(ge=w;ge!==null;){o=ge;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ge=E;else e:for(o=w;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hd(9,a)}}catch(_){Et(a,a.return,_)}if(a===o){ge=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ge=k;break e}ge=a.return}}if(Ge=i,Js(),Ei&&typeof Ei.onPostCommitFiberRoot=="function")try{Ei.onPostCommitFiberRoot(Id,t)}catch{}r=!0}return r}finally{et=n,Ur.transition=e}}return!1}function Ew(t,e,n){e=Ul(n,e),e=wC(t,e,1),t=Is(t,e,1),e=zn(),t!==null&&(zu(t,1,e),rr(t,e))}function Et(t,e,n){if(t.tag===3)Ew(t,t,n);else for(;e!==null;){if(e.tag===3){Ew(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=Ul(n,t),t=bC(e,t,1),e=Is(e,t,1),t=zn(),e!==null&&(zu(e,1,t),rr(e,t));break}}e=e.return}}function lj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(ln&n)===n&&($t===4||$t===3&&(ln&130023424)===ln&&500>Pt()-Q0?Co(t,0):J0|=n),rr(t,e)}function $C(t,e){e===0&&(t.mode&1?(e=Yc,Yc<<=1,!(Yc&130023424)&&(Yc=4194304)):e=1);var n=zn();t=ts(t,e),t!==null&&(zu(t,e,n),rr(t,n))}function aj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$C(t,n)}function uj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ie(314))}r!==null&&r.delete(e),$C(t,n)}var VC;VC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return er=!1,YI(t,e,n);er=!!(t.flags&131072)}else er=!1,gt&&e.flags&1048576&&Kk(e,Zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Df(t,e),t=e.pendingProps;var i=$l(e,bn.current);jl(e,n),i=U0(null,e,r,t,i,n);var s=K0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(s=!0,Jf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,F0(e),i.updater=Vd,e.stateNode=i,i._reactInternals=e,bg(e,r,t,n),e=Cg(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&A0(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Df(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fj(r),t=li(r,t),i){case 0:e=kg(null,e,r,t,n);break e;case 1:e=mw(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=hw(null,e,r,li(r.type,t),n);break e}throw Error(ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),mw(t,e,r,i,n);case 3:e:{if(EC(e),t===null)throw Error(ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qk(t,e),nd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ul(Error(ie(423)),e),e=gw(t,e,r,n,i);break e}else if(r!==i){i=Ul(Error(ie(424)),e),e=gw(t,e,r,n,i);break e}else for(wr=Rs(e.stateNode.containerInfo.firstChild),kr=e,gt=!0,ui=null,n=Yk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vl(),r===i){e=ns(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return Zk(e),t===null&&vg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pg(r,i)?o=null:s!==null&&pg(r,s)&&(e.flags|=32),CC(t,e),Ln(t,e,o,n),e.child;case 6:return t===null&&vg(e),null;case 13:return MC(t,e,n);case 4:return $0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hl(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),pw(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,at(ed,r._currentValue),r._currentValue=o,s!==null)if(hi(s.value,o)){if(s.children===i.children&&!tr.current){e=ns(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Yi(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),xg(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jl(e,n),i=Gr(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=li(r,e.pendingProps),i=li(r.type,i),hw(t,e,r,i,n);case 15:return SC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Df(t,e),e.tag=1,nr(r)?(t=!0,Jf(e)):t=!1,jl(e,n),xC(e,r,i),bg(e,r,i,n),Cg(null,e,r,!0,t,n);case 19:return NC(t,e,n);case 22:return kC(t,e,n)}throw Error(ie(156,e.tag))};function HC(t,e){return gk(t,e)}function cj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new cj(t,e,n,r)}function ny(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fj(t){if(typeof t=="function")return ny(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b0)return 11;if(t===S0)return 14}return 2}function zs(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function If(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ny(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vl:return Eo(n.children,i,s,e);case w0:o=8,i|=8;break;case Um:return t=Wr(12,n,e,i|2),t.elementType=Um,t.lanes=s,t;case Km:return t=Wr(13,n,e,i),t.elementType=Km,t.lanes=s,t;case qm:return t=Wr(19,n,e,i),t.elementType=qm,t.lanes=s,t;case ZS:return Ud(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JS:o=10;break e;case QS:o=9;break e;case b0:o=11;break e;case S0:o=14;break e;case xs:o=16,r=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=Wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Eo(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=ZS,t.lanes=n,t.stateNode={isHidden:!1},t}function rm(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function im(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ry(t,e,n,r,i,s,o,a,c){return t=new dj(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},F0(s),t}function pj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WC(t){if(!t)return Ks;t=t._reactInternals;e:{if(Ho(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var n=t.type;if(nr(n))return Wk(t,n,e)}return e}function UC(t,e,n,r,i,s,o,a,c){return t=ry(n,r,!0,t,i,s,o,a,c),t.context=WC(null),n=t.current,r=zn(),i=Ls(n),s=Yi(r,i),s.callback=e??null,Is(n,s,i),t.current.lanes=i,zu(t,i,r),rr(t,r),t}function Kd(t,e,n,r){var i=e.current,s=zn(),o=Ls(i);return n=WC(n),e.context===null?e.context=n:e.pendingContext=n,e=Yi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(i,e,o),t!==null&&(pi(t,i,o,s),Tf(t,i,o)),o}function cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iy(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function hj(){return null}var KC=typeof reportError=="function"?reportError:function(t){console.error(t)};function sy(t){this._internalRoot=t}qd.prototype.render=sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Kd(t,e,null,null)};qd.prototype.unmount=sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jo(function(){Kd(null,t,null,null)}),e[es]=null}};function qd(t){this._internalRoot=t}qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=kk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&Ek(t)}};function oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nw(){}function mj(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=cd(o);s.call(f)}}var o=UC(e,r,t,0,null,!1,!1,"",Nw);return t._reactRootContainer=o,t[es]=o.current,mu(t.nodeType===8?t.parentNode:t),jo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var f=cd(c);a.call(f)}}var c=ry(t,0,!1,null,null,!1,!1,"",Nw);return t._reactRootContainer=c,t[es]=c.current,mu(t.nodeType===8?t.parentNode:t),jo(function(){Kd(e,c,n,r)}),c}function Gd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=cd(o);a.call(c)}}Kd(e,o,t,i)}else o=mj(n,e,t,i,r);return cd(o)}bk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(E0(e,n|1),rr(e,Pt()),!(Ge&6)&&(Kl=Pt()+500,Js()))}break;case 13:jo(function(){var r=ts(t,1);if(r!==null){var i=zn();pi(r,t,1,i)}}),iy(t,1)}};M0=function(t){if(t.tag===13){var e=ts(t,134217728);if(e!==null){var n=zn();pi(e,t,134217728,n)}iy(t,134217728)}};Sk=function(t){if(t.tag===13){var e=Ls(t),n=ts(t,e);if(n!==null){var r=zn();pi(n,t,e,r)}iy(t,e)}};kk=function(){return et};Ck=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};rg=function(t,e,n){switch(e){case"input":if(Ym(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bd(r);if(!i)throw Error(ie(90));tk(r),Ym(r,i)}}}break;case"textarea":rk(t,n);break;case"select":e=n.value,e!=null&&Dl(t,!!n.multiple,e,!1)}};ck=Z0;fk=jo;var gj={usingClientEntryPoint:!1,Events:[Fu,Sl,Bd,ak,uk,Z0]},Aa={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yj={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hk(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||hj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Id=af.inject(yj),Ei=af}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gj;Or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(ie(200));return pj(t,e,null,n)};Or.createRoot=function(t,e){if(!oy(t))throw Error(ie(299));var n=!1,r="",i=KC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ry(t,1,!1,null,null,n,!1,r,i),t[es]=e.current,mu(t.nodeType===8?t.parentNode:t),new sy(e)};Or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=hk(e),t=t===null?null:t.stateNode,t};Or.flushSync=function(t){return jo(t)};Or.hydrate=function(t,e,n){if(!Xd(e))throw Error(ie(200));return Gd(null,t,e,!0,n)};Or.hydrateRoot=function(t,e,n){if(!oy(t))throw Error(ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=KC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UC(e,null,t,1,n??null,i,!1,s,o),t[es]=e.current,mu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qd(e)};Or.render=function(t,e,n){if(!Xd(e))throw Error(ie(200));return Gd(null,t,e,!1,n)};Or.unmountComponentAtNode=function(t){if(!Xd(t))throw Error(ie(40));return t._reactRootContainer?(jo(function(){Gd(null,null,t,!1,function(){t._reactRootContainer=null,t[es]=null})}),!0):!1};Or.unstable_batchedUpdates=Z0;Or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xd(n))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Gd(t,e,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function qC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qC)}catch(t){console.error(t)}}qC(),qS.exports=Or;var Yd=qS.exports;const vj=Ad(Yd);var Ow=Yd;Hm.createRoot=Ow.createRoot,Hm.hydrateRoot=Ow.hydrateRoot;let uf;const xj=new Uint8Array(16);function wj(){if(!uf&&(uf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uf(xj)}const en=[];for(let t=0;t<256;++t)en.push((t+256).toString(16).slice(1));function bj(t,e=0){return en[t[e+0]]+en[t[e+1]]+en[t[e+2]]+en[t[e+3]]+"-"+en[t[e+4]]+en[t[e+5]]+"-"+en[t[e+6]]+en[t[e+7]]+"-"+en[t[e+8]]+en[t[e+9]]+"-"+en[t[e+10]]+en[t[e+11]]+en[t[e+12]]+en[t[e+13]]+en[t[e+14]]+en[t[e+15]]}const Sj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tw={randomUUID:Sj};function br(t,e,n){if(Tw.randomUUID&&!t)return Tw.randomUUID();t=t||{};const r=t.random||(t.rng||wj)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,bj(r)}const XC=()=>window.electronAPI,Jd=()=>{const t=XC();let e=null;if(t&&t.sendSync)try{e=t.sendSync("load-data-sync")}catch(n){console.error("IPC Load Error",n)}else e=localStorage.getItem("gp_all_data");if(!e)return{projects:[],contents:{},configs:{}};try{return JSON.parse(e)}catch(n){return console.error("Data corrupted:",n),{projects:[],contents:{},configs:{}}}},GC=t=>{const e=XC(),n=JSON.stringify(t);if(e&&e.sendSync)e.sendSync("save-data-sync",n);else try{localStorage.setItem("gp_all_data",n)}catch{console.error("LocalStorage quota exceeded")}},kj=()=>Jd().projects||[],cf=t=>{const e=Jd();e.projects=t,GC(e)},Cj=t=>{const n=Jd().contents[t],r={brainstorm:{items:[],connections:[]},members:[],todos:[],docs:[],assets:[],ui:{pages:[]}};if(!n)return r;try{const i={...n};return i.assets||(i.assets=[]),i.ui&&Array.isArray(i.ui.pages)&&i.ui.pages.forEach(s=>{s.type||(s.type="screen"),s.components||(s.components=[]),s.components.forEach(o=>{o.interaction||(o.interaction={type:"none"}),o.state||(o.state={isVisible:!0,isActive:!1,isDisabled:!1}),typeof o.zIndex!="number"&&(o.zIndex=1),o.type==="fixed"&&(o.type="sprite",o.interaction={type:"none"})})}),i}catch(i){return console.error("Failed to parse project content structure:",i),r}},_w=(t,e)=>{const n=Jd();n.contents[t]=e;const r=n.projects.findIndex(i=>i.id===t);r!==-1&&(n.projects[r].lastModified=Date.now()),GC(n)};function Ej({onOpenProject:t}){const[e,n]=Y.useState([]),r=Y.useRef(null),[i,s]=Y.useState({visible:!1,x:0,y:0,targetId:""});Y.useEffect(()=>{n(kj());const h=()=>s({...i,visible:!1});return window.addEventListener("click",h),()=>window.removeEventListener("click",h)},[]);const o=()=>{const m=[{id:br(),name:"",cover:"",lastModified:Date.now()},...e];n(m),cf(m)},a=(h,m)=>{h.preventDefault(),s({visible:!0,x:h.clientX,y:h.clientY,targetId:m})},c=h=>{var g;const m=(g=h.target.files)==null?void 0:g[0];if(m&&i.targetId){const v=new FileReader;v.onload=S=>{const M=e.map(b=>{var w;return b.id===i.targetId?{...b,cover:(w=S.target)==null?void 0:w.result}:b});n(M),cf(M)},v.readAsDataURL(m)}h.target.value=""},f=(h,m)=>{const g=e.map(v=>v.id===h?{...v,name:m}:v);n(g),cf(g)},d=()=>{if(confirm("")){const h=e.filter(m=>m.id!==i.targetId);n(h),cf(h)}};return x.jsxs("div",{className:"flex flex-col h-screen w-screen bg-slate-900 text-slate-200 p-10 overflow-hidden relative",children:[x.jsx("input",{type:"file",ref:r,onChange:c,className:"hidden",accept:"image/*"}),x.jsxs("div",{className:"mb-10",children:[x.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Game Planner ",x.jsx("span",{className:"text-emerald-500 text-sm align-top",children:"Pro"})]}),x.jsx("p",{className:"text-slate-400",children:""})]}),x.jsx("div",{className:"flex-1 overflow-y-auto",children:x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 content-start pb-20",children:[x.jsxs("div",{onClick:o,className:"aspect-[4/3] rounded-xl border-2 border-dashed border-slate-700 hover:border-emerald-500 hover:bg-slate-800/50 flex flex-col items-center justify-center cursor-pointer transition-all group",children:[x.jsx("div",{className:"text-4xl text-slate-600 group-hover:text-emerald-500 mb-2 transition-colors",children:"+"}),x.jsx("span",{className:"text-slate-500 font-medium",children:""})]}),e.map(h=>x.jsxs("div",{onClick:()=>t(h),onContextMenu:m=>a(m,h.id),className:"group relative aspect-[4/3] bg-slate-800 rounded-xl border border-slate-700 hover:border-emerald-500 hover:shadow-xl transition-all cursor-pointer flex flex-col overflow-hidden",children:[x.jsx("div",{className:"flex-1 bg-slate-900 relative pointer-events-none",children:h.cover?x.jsx("img",{src:h.cover,className:"w-full h-full object-cover"}):x.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-700 text-4xl",children:""})}),x.jsx("div",{className:"h-12 bg-slate-800 border-t border-slate-700 flex items-center px-2",onClick:m=>m.stopPropagation(),children:x.jsx("input",{value:h.name,onChange:m=>f(h.id,m.target.value),className:"bg-transparent font-bold text-slate-200 w-full text-center outline-none focus:bg-slate-900 rounded px-1"})})]},h.id))]})}),i.visible&&x.jsxs("div",{className:"fixed z-[9999] bg-slate-800 border border-slate-600 rounded-lg shadow-xl py-1 w-32 flex flex-col",style:{top:i.y,left:i.x},onClick:h=>h.stopPropagation(),children:[x.jsx("button",{onClick:()=>{var h;return(h=r.current)==null?void 0:h.click()},className:"px-4 py-2 text-left text-sm text-slate-200 hover:bg-emerald-600",children:" "}),x.jsx("button",{onClick:d,className:"px-4 py-2 text-left text-sm text-red-400 hover:bg-red-600 hover:text-white",children:" "})]})]})}var YC={exports:{}},$a={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$a.exports;var Pw;function Mj(){return Pw||(Pw=1,function(t,e){(function(){var n,r="4.17.23",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",h=1,m=2,g=4,v=1,S=2,M=1,b=2,w=4,E=8,k=16,_=32,T=64,D=128,A=256,F=512,U=30,le="...",ae=800,X=16,oe=1,G=2,z=3,Z=1/0,L=9007199254740991,V=17976931348623157e292,B=NaN,ee=4294967295,re=ee-1,K=ee>>>1,xe=[["ary",D],["bind",M],["bindKey",b],["curry",E],["curryRight",k],["flip",F],["partial",_],["partialRight",T],["rearg",A]],be="[object Arguments]",We="[object Array]",Ke="[object AsyncFunction]",H="[object Boolean]",se="[object Date]",fe="[object DOMException]",we="[object Error]",Je="[object Function]",Se="[object GeneratorFunction]",Ne="[object Map]",kt="[object Number]",Wn="[object Null]",yt="[object Object]",Lt="[object Promise]",Cn="[object Proxy]",tt="[object RegExp]",Fe="[object Set]",ot="[object String]",nt="[object Symbol]",En="[object Undefined]",fn="[object WeakMap]",ei="[object WeakSet]",dn="[object ArrayBuffer]",Vt="[object DataView]",pt="[object Float32Array]",he="[object Float64Array]",$e="[object Int8Array]",Xe="[object Int16Array]",mi="[object Int32Array]",W="[object Uint8Array]",ce="[object Uint8ClampedArray]",pe="[object Uint16Array]",Ce="[object Uint32Array]",Pe=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,pn=/[&<>"']/g,vt=RegExp(Ot.source),ut=RegExp(pn.source),Mn=/<%-([\s\S]+?)%>/g,Dt=/<%([\s\S]+?)%>/g,Un=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jt=/^\w*$/,no=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nn=/[\\^$.*+?()[\]{}|]/g,Kn=RegExp(Nn.source),On=/^\s+/,qn=/\s/,_r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pr=/\{\n\/\* \[wrapped with (.+)\] \*/,wp=/,? & /,bp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tn=/[()=,{}\[\]\/\s]/,_n=/\\(\\)?/g,Xn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pn=/\w*$/,la=/^[-+]0x[0-9a-f]+$/i,ur=/^0b[01]+$/i,Ju=/^\[object .+?Constructor\]$/,Qu=/^0o[0-7]+$/i,Zu=/^(?:0|[1-9]\d*)$/,ec=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ro=/($^)/,tc=/['\n\r\u2028\u2029\\]/g,Ko="\\ud800-\\udfff",Sp="\\u0300-\\u036f",aa="\\ufe20-\\ufe2f",ua="\\u20d0-\\u20ff",nc=Sp+aa+ua,rc="\\u2700-\\u27bf",ic="a-z\\xdf-\\xf6\\xf8-\\xff",ca="\\xac\\xb1\\xd7\\xf7",WM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",UM="\\u2000-\\u206f",KM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qy="A-Z\\xc0-\\xd6\\xd8-\\xde",Zy="\\ufe0e\\ufe0f",ev=ca+WM+UM+KM,kp="[']",qM="["+Ko+"]",tv="["+ev+"]",sc="["+nc+"]",nv="\\d+",XM="["+rc+"]",rv="["+ic+"]",iv="[^"+Ko+ev+nv+rc+ic+Qy+"]",Cp="\\ud83c[\\udffb-\\udfff]",GM="(?:"+sc+"|"+Cp+")",sv="[^"+Ko+"]",Ep="(?:\\ud83c[\\udde6-\\uddff]){2}",Mp="[\\ud800-\\udbff][\\udc00-\\udfff]",qo="["+Qy+"]",ov="\\u200d",lv="(?:"+rv+"|"+iv+")",YM="(?:"+qo+"|"+iv+")",av="(?:"+kp+"(?:d|ll|m|re|s|t|ve))?",uv="(?:"+kp+"(?:D|LL|M|RE|S|T|VE))?",cv=GM+"?",fv="["+Zy+"]?",JM="(?:"+ov+"(?:"+[sv,Ep,Mp].join("|")+")"+fv+cv+")*",QM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ZM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dv=fv+cv+JM,eN="(?:"+[XM,Ep,Mp].join("|")+")"+dv,tN="(?:"+[sv+sc+"?",sc,Ep,Mp,qM].join("|")+")",nN=RegExp(kp,"g"),rN=RegExp(sc,"g"),Np=RegExp(Cp+"(?="+Cp+")|"+tN+dv,"g"),iN=RegExp([qo+"?"+rv+"+"+av+"(?="+[tv,qo,"$"].join("|")+")",YM+"+"+uv+"(?="+[tv,qo+lv,"$"].join("|")+")",qo+"?"+lv+"+"+av,qo+"+"+uv,ZM,QM,nv,eN].join("|"),"g"),sN=RegExp("["+ov+Ko+nc+Zy+"]"),oN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,lN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],aN=-1,ct={};ct[pt]=ct[he]=ct[$e]=ct[Xe]=ct[mi]=ct[W]=ct[ce]=ct[pe]=ct[Ce]=!0,ct[be]=ct[We]=ct[dn]=ct[H]=ct[Vt]=ct[se]=ct[we]=ct[Je]=ct[Ne]=ct[kt]=ct[yt]=ct[tt]=ct[Fe]=ct[ot]=ct[fn]=!1;var lt={};lt[be]=lt[We]=lt[dn]=lt[Vt]=lt[H]=lt[se]=lt[pt]=lt[he]=lt[$e]=lt[Xe]=lt[mi]=lt[Ne]=lt[kt]=lt[yt]=lt[tt]=lt[Fe]=lt[ot]=lt[nt]=lt[W]=lt[ce]=lt[pe]=lt[Ce]=!0,lt[we]=lt[Je]=lt[fn]=!1;var uN={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},cN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pN=parseFloat,hN=parseInt,pv=typeof pl=="object"&&pl&&pl.Object===Object&&pl,mN=typeof self=="object"&&self&&self.Object===Object&&self,Qt=pv||mN||Function("return this")(),Op=e&&!e.nodeType&&e,io=Op&&!0&&t&&!t.nodeType&&t,hv=io&&io.exports===Op,Tp=hv&&pv.process,Dr=function(){try{var I=io&&io.require&&io.require("util").types;return I||Tp&&Tp.binding&&Tp.binding("util")}catch{}}(),mv=Dr&&Dr.isArrayBuffer,gv=Dr&&Dr.isDate,yv=Dr&&Dr.isMap,vv=Dr&&Dr.isRegExp,xv=Dr&&Dr.isSet,wv=Dr&&Dr.isTypedArray;function cr(I,q,$){switch($.length){case 0:return I.call(q);case 1:return I.call(q,$[0]);case 2:return I.call(q,$[0],$[1]);case 3:return I.call(q,$[0],$[1],$[2])}return I.apply(q,$)}function gN(I,q,$,me){for(var De=-1,Ye=I==null?0:I.length;++De<Ye;){var zt=I[De];q(me,zt,$(zt),I)}return me}function Ar(I,q){for(var $=-1,me=I==null?0:I.length;++$<me&&q(I[$],$,I)!==!1;);return I}function yN(I,q){for(var $=I==null?0:I.length;$--&&q(I[$],$,I)!==!1;);return I}function bv(I,q){for(var $=-1,me=I==null?0:I.length;++$<me;)if(!q(I[$],$,I))return!1;return!0}function ss(I,q){for(var $=-1,me=I==null?0:I.length,De=0,Ye=[];++$<me;){var zt=I[$];q(zt,$,I)&&(Ye[De++]=zt)}return Ye}function oc(I,q){var $=I==null?0:I.length;return!!$&&Xo(I,q,0)>-1}function _p(I,q,$){for(var me=-1,De=I==null?0:I.length;++me<De;)if($(q,I[me]))return!0;return!1}function mt(I,q){for(var $=-1,me=I==null?0:I.length,De=Array(me);++$<me;)De[$]=q(I[$],$,I);return De}function ls(I,q){for(var $=-1,me=q.length,De=I.length;++$<me;)I[De+$]=q[$];return I}function Pp(I,q,$,me){var De=-1,Ye=I==null?0:I.length;for(me&&Ye&&($=I[++De]);++De<Ye;)$=q($,I[De],De,I);return $}function vN(I,q,$,me){var De=I==null?0:I.length;for(me&&De&&($=I[--De]);De--;)$=q($,I[De],De,I);return $}function Dp(I,q){for(var $=-1,me=I==null?0:I.length;++$<me;)if(q(I[$],$,I))return!0;return!1}var xN=Ap("length");function wN(I){return I.split("")}function bN(I){return I.match(bp)||[]}function Sv(I,q,$){var me;return $(I,function(De,Ye,zt){if(q(De,Ye,zt))return me=Ye,!1}),me}function lc(I,q,$,me){for(var De=I.length,Ye=$+(me?1:-1);me?Ye--:++Ye<De;)if(q(I[Ye],Ye,I))return Ye;return-1}function Xo(I,q,$){return q===q?AN(I,q,$):lc(I,kv,$)}function SN(I,q,$,me){for(var De=$-1,Ye=I.length;++De<Ye;)if(me(I[De],q))return De;return-1}function kv(I){return I!==I}function Cv(I,q){var $=I==null?0:I.length;return $?Ip(I,q)/$:B}function Ap(I){return function(q){return q==null?n:q[I]}}function Rp(I){return function(q){return I==null?n:I[q]}}function Ev(I,q,$,me,De){return De(I,function(Ye,zt,it){$=me?(me=!1,Ye):q($,Ye,zt,it)}),$}function kN(I,q){var $=I.length;for(I.sort(q);$--;)I[$]=I[$].value;return I}function Ip(I,q){for(var $,me=-1,De=I.length;++me<De;){var Ye=q(I[me]);Ye!==n&&($=$===n?Ye:$+Ye)}return $}function jp(I,q){for(var $=-1,me=Array(I);++$<I;)me[$]=q($);return me}function CN(I,q){return mt(q,function($){return[$,I[$]]})}function Mv(I){return I&&I.slice(0,_v(I)+1).replace(On,"")}function fr(I){return function(q){return I(q)}}function Lp(I,q){return mt(q,function($){return I[$]})}function fa(I,q){return I.has(q)}function Nv(I,q){for(var $=-1,me=I.length;++$<me&&Xo(q,I[$],0)>-1;);return $}function Ov(I,q){for(var $=I.length;$--&&Xo(q,I[$],0)>-1;);return $}function EN(I,q){for(var $=I.length,me=0;$--;)I[$]===q&&++me;return me}var MN=Rp(uN),NN=Rp(cN);function ON(I){return"\\"+dN[I]}function TN(I,q){return I==null?n:I[q]}function Go(I){return sN.test(I)}function _N(I){return oN.test(I)}function PN(I){for(var q,$=[];!(q=I.next()).done;)$.push(q.value);return $}function zp(I){var q=-1,$=Array(I.size);return I.forEach(function(me,De){$[++q]=[De,me]}),$}function Tv(I,q){return function($){return I(q($))}}function as(I,q){for(var $=-1,me=I.length,De=0,Ye=[];++$<me;){var zt=I[$];(zt===q||zt===d)&&(I[$]=d,Ye[De++]=$)}return Ye}function ac(I){var q=-1,$=Array(I.size);return I.forEach(function(me){$[++q]=me}),$}function DN(I){var q=-1,$=Array(I.size);return I.forEach(function(me){$[++q]=[me,me]}),$}function AN(I,q,$){for(var me=$-1,De=I.length;++me<De;)if(I[me]===q)return me;return-1}function RN(I,q,$){for(var me=$+1;me--;)if(I[me]===q)return me;return me}function Yo(I){return Go(I)?jN(I):xN(I)}function ti(I){return Go(I)?LN(I):wN(I)}function _v(I){for(var q=I.length;q--&&qn.test(I.charAt(q)););return q}var IN=Rp(fN);function jN(I){for(var q=Np.lastIndex=0;Np.test(I);)++q;return q}function LN(I){return I.match(Np)||[]}function zN(I){return I.match(iN)||[]}var BN=function I(q){q=q==null?Qt:Jo.defaults(Qt.Object(),q,Jo.pick(Qt,lN));var $=q.Array,me=q.Date,De=q.Error,Ye=q.Function,zt=q.Math,it=q.Object,Bp=q.RegExp,FN=q.String,Rr=q.TypeError,uc=$.prototype,$N=Ye.prototype,Qo=it.prototype,cc=q["__core-js_shared__"],fc=$N.toString,Qe=Qo.hasOwnProperty,VN=0,Pv=function(){var l=/[^.]+$/.exec(cc&&cc.keys&&cc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),dc=Qo.toString,HN=fc.call(it),WN=Qt._,UN=Bp("^"+fc.call(Qe).replace(Nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pc=hv?q.Buffer:n,us=q.Symbol,hc=q.Uint8Array,Dv=pc?pc.allocUnsafe:n,mc=Tv(it.getPrototypeOf,it),Av=it.create,Rv=Qo.propertyIsEnumerable,gc=uc.splice,Iv=us?us.isConcatSpreadable:n,da=us?us.iterator:n,so=us?us.toStringTag:n,yc=function(){try{var l=co(it,"defineProperty");return l({},"",{}),l}catch{}}(),KN=q.clearTimeout!==Qt.clearTimeout&&q.clearTimeout,qN=me&&me.now!==Qt.Date.now&&me.now,XN=q.setTimeout!==Qt.setTimeout&&q.setTimeout,vc=zt.ceil,xc=zt.floor,Fp=it.getOwnPropertySymbols,GN=pc?pc.isBuffer:n,jv=q.isFinite,YN=uc.join,JN=Tv(it.keys,it),Bt=zt.max,hn=zt.min,QN=me.now,ZN=q.parseInt,Lv=zt.random,eO=uc.reverse,$p=co(q,"DataView"),pa=co(q,"Map"),Vp=co(q,"Promise"),Zo=co(q,"Set"),ha=co(q,"WeakMap"),ma=co(it,"create"),wc=ha&&new ha,el={},tO=fo($p),nO=fo(pa),rO=fo(Vp),iO=fo(Zo),sO=fo(ha),bc=us?us.prototype:n,ga=bc?bc.valueOf:n,zv=bc?bc.toString:n;function N(l){if(Ct(l)&&!Ae(l)&&!(l instanceof Ue)){if(l instanceof Ir)return l;if(Qe.call(l,"__wrapped__"))return Bx(l)}return new Ir(l)}var tl=function(){function l(){}return function(u){if(!xt(u))return{};if(Av)return Av(u);l.prototype=u;var p=new l;return l.prototype=n,p}}();function Sc(){}function Ir(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}N.templateSettings={escape:Mn,evaluate:Dt,interpolate:Un,variable:"",imports:{_:N}},N.prototype=Sc.prototype,N.prototype.constructor=N,Ir.prototype=tl(Sc.prototype),Ir.prototype.constructor=Ir;function Ue(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ee,this.__views__=[]}function oO(){var l=new Ue(this.__wrapped__);return l.__actions__=Gn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Gn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Gn(this.__views__),l}function lO(){if(this.__filtered__){var l=new Ue(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function aO(){var l=this.__wrapped__.value(),u=this.__dir__,p=Ae(l),y=u<0,C=p?l.length:0,O=wT(0,C,this.__views__),P=O.start,R=O.end,j=R-P,J=y?R:P-1,Q=this.__iteratees__,te=Q.length,ue=0,ve=hn(j,this.__takeCount__);if(!p||!y&&C==j&&ve==j)return ax(l,this.__actions__);var Oe=[];e:for(;j--&&ue<ve;){J+=u;for(var Ie=-1,Te=l[J];++Ie<te;){var Ve=Q[Ie],qe=Ve.iteratee,hr=Ve.type,Rn=qe(Te);if(hr==G)Te=Rn;else if(!Rn){if(hr==oe)continue e;break e}}Oe[ue++]=Te}return Oe}Ue.prototype=tl(Sc.prototype),Ue.prototype.constructor=Ue;function oo(l){var u=-1,p=l==null?0:l.length;for(this.clear();++u<p;){var y=l[u];this.set(y[0],y[1])}}function uO(){this.__data__=ma?ma(null):{},this.size=0}function cO(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function fO(l){var u=this.__data__;if(ma){var p=u[l];return p===c?n:p}return Qe.call(u,l)?u[l]:n}function dO(l){var u=this.__data__;return ma?u[l]!==n:Qe.call(u,l)}function pO(l,u){var p=this.__data__;return this.size+=this.has(l)?0:1,p[l]=ma&&u===n?c:u,this}oo.prototype.clear=uO,oo.prototype.delete=cO,oo.prototype.get=fO,oo.prototype.has=dO,oo.prototype.set=pO;function Ai(l){var u=-1,p=l==null?0:l.length;for(this.clear();++u<p;){var y=l[u];this.set(y[0],y[1])}}function hO(){this.__data__=[],this.size=0}function mO(l){var u=this.__data__,p=kc(u,l);if(p<0)return!1;var y=u.length-1;return p==y?u.pop():gc.call(u,p,1),--this.size,!0}function gO(l){var u=this.__data__,p=kc(u,l);return p<0?n:u[p][1]}function yO(l){return kc(this.__data__,l)>-1}function vO(l,u){var p=this.__data__,y=kc(p,l);return y<0?(++this.size,p.push([l,u])):p[y][1]=u,this}Ai.prototype.clear=hO,Ai.prototype.delete=mO,Ai.prototype.get=gO,Ai.prototype.has=yO,Ai.prototype.set=vO;function Ri(l){var u=-1,p=l==null?0:l.length;for(this.clear();++u<p;){var y=l[u];this.set(y[0],y[1])}}function xO(){this.size=0,this.__data__={hash:new oo,map:new(pa||Ai),string:new oo}}function wO(l){var u=Ic(this,l).delete(l);return this.size-=u?1:0,u}function bO(l){return Ic(this,l).get(l)}function SO(l){return Ic(this,l).has(l)}function kO(l,u){var p=Ic(this,l),y=p.size;return p.set(l,u),this.size+=p.size==y?0:1,this}Ri.prototype.clear=xO,Ri.prototype.delete=wO,Ri.prototype.get=bO,Ri.prototype.has=SO,Ri.prototype.set=kO;function lo(l){var u=-1,p=l==null?0:l.length;for(this.__data__=new Ri;++u<p;)this.add(l[u])}function CO(l){return this.__data__.set(l,c),this}function EO(l){return this.__data__.has(l)}lo.prototype.add=lo.prototype.push=CO,lo.prototype.has=EO;function ni(l){var u=this.__data__=new Ai(l);this.size=u.size}function MO(){this.__data__=new Ai,this.size=0}function NO(l){var u=this.__data__,p=u.delete(l);return this.size=u.size,p}function OO(l){return this.__data__.get(l)}function TO(l){return this.__data__.has(l)}function _O(l,u){var p=this.__data__;if(p instanceof Ai){var y=p.__data__;if(!pa||y.length<i-1)return y.push([l,u]),this.size=++p.size,this;p=this.__data__=new Ri(y)}return p.set(l,u),this.size=p.size,this}ni.prototype.clear=MO,ni.prototype.delete=NO,ni.prototype.get=OO,ni.prototype.has=TO,ni.prototype.set=_O;function Bv(l,u){var p=Ae(l),y=!p&&po(l),C=!p&&!y&&hs(l),O=!p&&!y&&!C&&sl(l),P=p||y||C||O,R=P?jp(l.length,FN):[],j=R.length;for(var J in l)(u||Qe.call(l,J))&&!(P&&(J=="length"||C&&(J=="offset"||J=="parent")||O&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||zi(J,j)))&&R.push(J);return R}function Fv(l){var u=l.length;return u?l[Zp(0,u-1)]:n}function PO(l,u){return jc(Gn(l),ao(u,0,l.length))}function DO(l){return jc(Gn(l))}function Hp(l,u,p){(p!==n&&!ri(l[u],p)||p===n&&!(u in l))&&Ii(l,u,p)}function ya(l,u,p){var y=l[u];(!(Qe.call(l,u)&&ri(y,p))||p===n&&!(u in l))&&Ii(l,u,p)}function kc(l,u){for(var p=l.length;p--;)if(ri(l[p][0],u))return p;return-1}function AO(l,u,p,y){return cs(l,function(C,O,P){u(y,C,p(C),P)}),y}function $v(l,u){return l&&yi(u,Ht(u),l)}function RO(l,u){return l&&yi(u,Jn(u),l)}function Ii(l,u,p){u=="__proto__"&&yc?yc(l,u,{configurable:!0,enumerable:!0,value:p,writable:!0}):l[u]=p}function Wp(l,u){for(var p=-1,y=u.length,C=$(y),O=l==null;++p<y;)C[p]=O?n:Ch(l,u[p]);return C}function ao(l,u,p){return l===l&&(p!==n&&(l=l<=p?l:p),u!==n&&(l=l>=u?l:u)),l}function jr(l,u,p,y,C,O){var P,R=u&h,j=u&m,J=u&g;if(p&&(P=C?p(l,y,C,O):p(l)),P!==n)return P;if(!xt(l))return l;var Q=Ae(l);if(Q){if(P=ST(l),!R)return Gn(l,P)}else{var te=mn(l),ue=te==Je||te==Se;if(hs(l))return fx(l,R);if(te==yt||te==be||ue&&!C){if(P=j||ue?{}:_x(l),!R)return j?fT(l,RO(P,l)):cT(l,$v(P,l))}else{if(!lt[te])return C?l:{};P=kT(l,te,R)}}O||(O=new ni);var ve=O.get(l);if(ve)return ve;O.set(l,P),s1(l)?l.forEach(function(Te){P.add(jr(Te,u,p,Te,l,O))}):r1(l)&&l.forEach(function(Te,Ve){P.set(Ve,jr(Te,u,p,Ve,l,O))});var Oe=J?j?ch:uh:j?Jn:Ht,Ie=Q?n:Oe(l);return Ar(Ie||l,function(Te,Ve){Ie&&(Ve=Te,Te=l[Ve]),ya(P,Ve,jr(Te,u,p,Ve,l,O))}),P}function IO(l){var u=Ht(l);return function(p){return Vv(p,l,u)}}function Vv(l,u,p){var y=p.length;if(l==null)return!y;for(l=it(l);y--;){var C=p[y],O=u[C],P=l[C];if(P===n&&!(C in l)||!O(P))return!1}return!0}function Hv(l,u,p){if(typeof l!="function")throw new Rr(o);return Ca(function(){l.apply(n,p)},u)}function va(l,u,p,y){var C=-1,O=oc,P=!0,R=l.length,j=[],J=u.length;if(!R)return j;p&&(u=mt(u,fr(p))),y?(O=_p,P=!1):u.length>=i&&(O=fa,P=!1,u=new lo(u));e:for(;++C<R;){var Q=l[C],te=p==null?Q:p(Q);if(Q=y||Q!==0?Q:0,P&&te===te){for(var ue=J;ue--;)if(u[ue]===te)continue e;j.push(Q)}else O(u,te,y)||j.push(Q)}return j}var cs=gx(gi),Wv=gx(Kp,!0);function jO(l,u){var p=!0;return cs(l,function(y,C,O){return p=!!u(y,C,O),p}),p}function Cc(l,u,p){for(var y=-1,C=l.length;++y<C;){var O=l[y],P=u(O);if(P!=null&&(R===n?P===P&&!pr(P):p(P,R)))var R=P,j=O}return j}function LO(l,u,p,y){var C=l.length;for(p=Re(p),p<0&&(p=-p>C?0:C+p),y=y===n||y>C?C:Re(y),y<0&&(y+=C),y=p>y?0:l1(y);p<y;)l[p++]=u;return l}function Uv(l,u){var p=[];return cs(l,function(y,C,O){u(y,C,O)&&p.push(y)}),p}function Zt(l,u,p,y,C){var O=-1,P=l.length;for(p||(p=ET),C||(C=[]);++O<P;){var R=l[O];u>0&&p(R)?u>1?Zt(R,u-1,p,y,C):ls(C,R):y||(C[C.length]=R)}return C}var Up=yx(),Kv=yx(!0);function gi(l,u){return l&&Up(l,u,Ht)}function Kp(l,u){return l&&Kv(l,u,Ht)}function Ec(l,u){return ss(u,function(p){return Bi(l[p])})}function uo(l,u){u=ds(u,l);for(var p=0,y=u.length;l!=null&&p<y;)l=l[vi(u[p++])];return p&&p==y?l:n}function qv(l,u,p){var y=u(l);return Ae(l)?y:ls(y,p(l))}function Dn(l){return l==null?l===n?En:Wn:so&&so in it(l)?xT(l):DT(l)}function qp(l,u){return l>u}function zO(l,u){return l!=null&&Qe.call(l,u)}function BO(l,u){return l!=null&&u in it(l)}function FO(l,u,p){return l>=hn(u,p)&&l<Bt(u,p)}function Xp(l,u,p){for(var y=p?_p:oc,C=l[0].length,O=l.length,P=O,R=$(O),j=1/0,J=[];P--;){var Q=l[P];P&&u&&(Q=mt(Q,fr(u))),j=hn(Q.length,j),R[P]=!p&&(u||C>=120&&Q.length>=120)?new lo(P&&Q):n}Q=l[0];var te=-1,ue=R[0];e:for(;++te<C&&J.length<j;){var ve=Q[te],Oe=u?u(ve):ve;if(ve=p||ve!==0?ve:0,!(ue?fa(ue,Oe):y(J,Oe,p))){for(P=O;--P;){var Ie=R[P];if(!(Ie?fa(Ie,Oe):y(l[P],Oe,p)))continue e}ue&&ue.push(Oe),J.push(ve)}}return J}function $O(l,u,p,y){return gi(l,function(C,O,P){u(y,p(C),O,P)}),y}function xa(l,u,p){u=ds(u,l),l=Rx(l,u);var y=l==null?l:l[vi(zr(u))];return y==null?n:cr(y,l,p)}function Xv(l){return Ct(l)&&Dn(l)==be}function VO(l){return Ct(l)&&Dn(l)==dn}function HO(l){return Ct(l)&&Dn(l)==se}function wa(l,u,p,y,C){return l===u?!0:l==null||u==null||!Ct(l)&&!Ct(u)?l!==l&&u!==u:WO(l,u,p,y,wa,C)}function WO(l,u,p,y,C,O){var P=Ae(l),R=Ae(u),j=P?We:mn(l),J=R?We:mn(u);j=j==be?yt:j,J=J==be?yt:J;var Q=j==yt,te=J==yt,ue=j==J;if(ue&&hs(l)){if(!hs(u))return!1;P=!0,Q=!1}if(ue&&!Q)return O||(O=new ni),P||sl(l)?Nx(l,u,p,y,C,O):yT(l,u,j,p,y,C,O);if(!(p&v)){var ve=Q&&Qe.call(l,"__wrapped__"),Oe=te&&Qe.call(u,"__wrapped__");if(ve||Oe){var Ie=ve?l.value():l,Te=Oe?u.value():u;return O||(O=new ni),C(Ie,Te,p,y,O)}}return ue?(O||(O=new ni),vT(l,u,p,y,C,O)):!1}function UO(l){return Ct(l)&&mn(l)==Ne}function Gp(l,u,p,y){var C=p.length,O=C,P=!y;if(l==null)return!O;for(l=it(l);C--;){var R=p[C];if(P&&R[2]?R[1]!==l[R[0]]:!(R[0]in l))return!1}for(;++C<O;){R=p[C];var j=R[0],J=l[j],Q=R[1];if(P&&R[2]){if(J===n&&!(j in l))return!1}else{var te=new ni;if(y)var ue=y(J,Q,j,l,u,te);if(!(ue===n?wa(Q,J,v|S,y,te):ue))return!1}}return!0}function Gv(l){if(!xt(l)||NT(l))return!1;var u=Bi(l)?UN:Ju;return u.test(fo(l))}function KO(l){return Ct(l)&&Dn(l)==tt}function qO(l){return Ct(l)&&mn(l)==Fe}function XO(l){return Ct(l)&&Vc(l.length)&&!!ct[Dn(l)]}function Yv(l){return typeof l=="function"?l:l==null?Qn:typeof l=="object"?Ae(l)?Zv(l[0],l[1]):Qv(l):v1(l)}function Yp(l){if(!ka(l))return JN(l);var u=[];for(var p in it(l))Qe.call(l,p)&&p!="constructor"&&u.push(p);return u}function GO(l){if(!xt(l))return PT(l);var u=ka(l),p=[];for(var y in l)y=="constructor"&&(u||!Qe.call(l,y))||p.push(y);return p}function Jp(l,u){return l<u}function Jv(l,u){var p=-1,y=Yn(l)?$(l.length):[];return cs(l,function(C,O,P){y[++p]=u(C,O,P)}),y}function Qv(l){var u=dh(l);return u.length==1&&u[0][2]?Dx(u[0][0],u[0][1]):function(p){return p===l||Gp(p,l,u)}}function Zv(l,u){return hh(l)&&Px(u)?Dx(vi(l),u):function(p){var y=Ch(p,l);return y===n&&y===u?Eh(p,l):wa(u,y,v|S)}}function Mc(l,u,p,y,C){l!==u&&Up(u,function(O,P){if(C||(C=new ni),xt(O))YO(l,u,P,p,Mc,y,C);else{var R=y?y(gh(l,P),O,P+"",l,u,C):n;R===n&&(R=O),Hp(l,P,R)}},Jn)}function YO(l,u,p,y,C,O,P){var R=gh(l,p),j=gh(u,p),J=P.get(j);if(J){Hp(l,p,J);return}var Q=O?O(R,j,p+"",l,u,P):n,te=Q===n;if(te){var ue=Ae(j),ve=!ue&&hs(j),Oe=!ue&&!ve&&sl(j);Q=j,ue||ve||Oe?Ae(R)?Q=R:Tt(R)?Q=Gn(R):ve?(te=!1,Q=fx(j,!0)):Oe?(te=!1,Q=dx(j,!0)):Q=[]:Ea(j)||po(j)?(Q=R,po(R)?Q=a1(R):(!xt(R)||Bi(R))&&(Q=_x(j))):te=!1}te&&(P.set(j,Q),C(Q,j,y,O,P),P.delete(j)),Hp(l,p,Q)}function ex(l,u){var p=l.length;if(p)return u+=u<0?p:0,zi(u,p)?l[u]:n}function tx(l,u,p){u.length?u=mt(u,function(O){return Ae(O)?function(P){return uo(P,O.length===1?O[0]:O)}:O}):u=[Qn];var y=-1;u=mt(u,fr(Me()));var C=Jv(l,function(O,P,R){var j=mt(u,function(J){return J(O)});return{criteria:j,index:++y,value:O}});return kN(C,function(O,P){return uT(O,P,p)})}function JO(l,u){return nx(l,u,function(p,y){return Eh(l,y)})}function nx(l,u,p){for(var y=-1,C=u.length,O={};++y<C;){var P=u[y],R=uo(l,P);p(R,P)&&ba(O,ds(P,l),R)}return O}function QO(l){return function(u){return uo(u,l)}}function Qp(l,u,p,y){var C=y?SN:Xo,O=-1,P=u.length,R=l;for(l===u&&(u=Gn(u)),p&&(R=mt(l,fr(p)));++O<P;)for(var j=0,J=u[O],Q=p?p(J):J;(j=C(R,Q,j,y))>-1;)R!==l&&gc.call(R,j,1),gc.call(l,j,1);return l}function rx(l,u){for(var p=l?u.length:0,y=p-1;p--;){var C=u[p];if(p==y||C!==O){var O=C;zi(C)?gc.call(l,C,1):nh(l,C)}}return l}function Zp(l,u){return l+xc(Lv()*(u-l+1))}function ZO(l,u,p,y){for(var C=-1,O=Bt(vc((u-l)/(p||1)),0),P=$(O);O--;)P[y?O:++C]=l,l+=p;return P}function eh(l,u){var p="";if(!l||u<1||u>L)return p;do u%2&&(p+=l),u=xc(u/2),u&&(l+=l);while(u);return p}function ze(l,u){return yh(Ax(l,u,Qn),l+"")}function eT(l){return Fv(ol(l))}function tT(l,u){var p=ol(l);return jc(p,ao(u,0,p.length))}function ba(l,u,p,y){if(!xt(l))return l;u=ds(u,l);for(var C=-1,O=u.length,P=O-1,R=l;R!=null&&++C<O;){var j=vi(u[C]),J=p;if(j==="__proto__"||j==="constructor"||j==="prototype")return l;if(C!=P){var Q=R[j];J=y?y(Q,j,R):n,J===n&&(J=xt(Q)?Q:zi(u[C+1])?[]:{})}ya(R,j,J),R=R[j]}return l}var ix=wc?function(l,u){return wc.set(l,u),l}:Qn,nT=yc?function(l,u){return yc(l,"toString",{configurable:!0,enumerable:!1,value:Nh(u),writable:!0})}:Qn;function rT(l){return jc(ol(l))}function Lr(l,u,p){var y=-1,C=l.length;u<0&&(u=-u>C?0:C+u),p=p>C?C:p,p<0&&(p+=C),C=u>p?0:p-u>>>0,u>>>=0;for(var O=$(C);++y<C;)O[y]=l[y+u];return O}function iT(l,u){var p;return cs(l,function(y,C,O){return p=u(y,C,O),!p}),!!p}function Nc(l,u,p){var y=0,C=l==null?y:l.length;if(typeof u=="number"&&u===u&&C<=K){for(;y<C;){var O=y+C>>>1,P=l[O];P!==null&&!pr(P)&&(p?P<=u:P<u)?y=O+1:C=O}return C}return th(l,u,Qn,p)}function th(l,u,p,y){var C=0,O=l==null?0:l.length;if(O===0)return 0;u=p(u);for(var P=u!==u,R=u===null,j=pr(u),J=u===n;C<O;){var Q=xc((C+O)/2),te=p(l[Q]),ue=te!==n,ve=te===null,Oe=te===te,Ie=pr(te);if(P)var Te=y||Oe;else J?Te=Oe&&(y||ue):R?Te=Oe&&ue&&(y||!ve):j?Te=Oe&&ue&&!ve&&(y||!Ie):ve||Ie?Te=!1:Te=y?te<=u:te<u;Te?C=Q+1:O=Q}return hn(O,re)}function sx(l,u){for(var p=-1,y=l.length,C=0,O=[];++p<y;){var P=l[p],R=u?u(P):P;if(!p||!ri(R,j)){var j=R;O[C++]=P===0?0:P}}return O}function ox(l){return typeof l=="number"?l:pr(l)?B:+l}function dr(l){if(typeof l=="string")return l;if(Ae(l))return mt(l,dr)+"";if(pr(l))return zv?zv.call(l):"";var u=l+"";return u=="0"&&1/l==-Z?"-0":u}function fs(l,u,p){var y=-1,C=oc,O=l.length,P=!0,R=[],j=R;if(p)P=!1,C=_p;else if(O>=i){var J=u?null:mT(l);if(J)return ac(J);P=!1,C=fa,j=new lo}else j=u?[]:R;e:for(;++y<O;){var Q=l[y],te=u?u(Q):Q;if(Q=p||Q!==0?Q:0,P&&te===te){for(var ue=j.length;ue--;)if(j[ue]===te)continue e;u&&j.push(te),R.push(Q)}else C(j,te,p)||(j!==R&&j.push(te),R.push(Q))}return R}function nh(l,u){u=ds(u,l);var p=-1,y=u.length;if(!y)return!0;for(var C=l==null||typeof l!="object"&&typeof l!="function";++p<y;){var O=u[p];if(typeof O=="string"){if(O==="__proto__"&&!Qe.call(l,"__proto__"))return!1;if(O==="constructor"&&p+1<y&&typeof u[p+1]=="string"&&u[p+1]==="prototype"){if(C&&p===0)continue;return!1}}}var P=Rx(l,u);return P==null||delete P[vi(zr(u))]}function lx(l,u,p,y){return ba(l,u,p(uo(l,u)),y)}function Oc(l,u,p,y){for(var C=l.length,O=y?C:-1;(y?O--:++O<C)&&u(l[O],O,l););return p?Lr(l,y?0:O,y?O+1:C):Lr(l,y?O+1:0,y?C:O)}function ax(l,u){var p=l;return p instanceof Ue&&(p=p.value()),Pp(u,function(y,C){return C.func.apply(C.thisArg,ls([y],C.args))},p)}function rh(l,u,p){var y=l.length;if(y<2)return y?fs(l[0]):[];for(var C=-1,O=$(y);++C<y;)for(var P=l[C],R=-1;++R<y;)R!=C&&(O[C]=va(O[C]||P,l[R],u,p));return fs(Zt(O,1),u,p)}function ux(l,u,p){for(var y=-1,C=l.length,O=u.length,P={};++y<C;){var R=y<O?u[y]:n;p(P,l[y],R)}return P}function ih(l){return Tt(l)?l:[]}function sh(l){return typeof l=="function"?l:Qn}function ds(l,u){return Ae(l)?l:hh(l,u)?[l]:zx(Ze(l))}var sT=ze;function ps(l,u,p){var y=l.length;return p=p===n?y:p,!u&&p>=y?l:Lr(l,u,p)}var cx=KN||function(l){return Qt.clearTimeout(l)};function fx(l,u){if(u)return l.slice();var p=l.length,y=Dv?Dv(p):new l.constructor(p);return l.copy(y),y}function oh(l){var u=new l.constructor(l.byteLength);return new hc(u).set(new hc(l)),u}function oT(l,u){var p=u?oh(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.byteLength)}function lT(l){var u=new l.constructor(l.source,Pn.exec(l));return u.lastIndex=l.lastIndex,u}function aT(l){return ga?it(ga.call(l)):{}}function dx(l,u){var p=u?oh(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.length)}function px(l,u){if(l!==u){var p=l!==n,y=l===null,C=l===l,O=pr(l),P=u!==n,R=u===null,j=u===u,J=pr(u);if(!R&&!J&&!O&&l>u||O&&P&&j&&!R&&!J||y&&P&&j||!p&&j||!C)return 1;if(!y&&!O&&!J&&l<u||J&&p&&C&&!y&&!O||R&&p&&C||!P&&C||!j)return-1}return 0}function uT(l,u,p){for(var y=-1,C=l.criteria,O=u.criteria,P=C.length,R=p.length;++y<P;){var j=px(C[y],O[y]);if(j){if(y>=R)return j;var J=p[y];return j*(J=="desc"?-1:1)}}return l.index-u.index}function hx(l,u,p,y){for(var C=-1,O=l.length,P=p.length,R=-1,j=u.length,J=Bt(O-P,0),Q=$(j+J),te=!y;++R<j;)Q[R]=u[R];for(;++C<P;)(te||C<O)&&(Q[p[C]]=l[C]);for(;J--;)Q[R++]=l[C++];return Q}function mx(l,u,p,y){for(var C=-1,O=l.length,P=-1,R=p.length,j=-1,J=u.length,Q=Bt(O-R,0),te=$(Q+J),ue=!y;++C<Q;)te[C]=l[C];for(var ve=C;++j<J;)te[ve+j]=u[j];for(;++P<R;)(ue||C<O)&&(te[ve+p[P]]=l[C++]);return te}function Gn(l,u){var p=-1,y=l.length;for(u||(u=$(y));++p<y;)u[p]=l[p];return u}function yi(l,u,p,y){var C=!p;p||(p={});for(var O=-1,P=u.length;++O<P;){var R=u[O],j=y?y(p[R],l[R],R,p,l):n;j===n&&(j=l[R]),C?Ii(p,R,j):ya(p,R,j)}return p}function cT(l,u){return yi(l,ph(l),u)}function fT(l,u){return yi(l,Ox(l),u)}function Tc(l,u){return function(p,y){var C=Ae(p)?gN:AO,O=u?u():{};return C(p,l,Me(y,2),O)}}function nl(l){return ze(function(u,p){var y=-1,C=p.length,O=C>1?p[C-1]:n,P=C>2?p[2]:n;for(O=l.length>3&&typeof O=="function"?(C--,O):n,P&&An(p[0],p[1],P)&&(O=C<3?n:O,C=1),u=it(u);++y<C;){var R=p[y];R&&l(u,R,y,O)}return u})}function gx(l,u){return function(p,y){if(p==null)return p;if(!Yn(p))return l(p,y);for(var C=p.length,O=u?C:-1,P=it(p);(u?O--:++O<C)&&y(P[O],O,P)!==!1;);return p}}function yx(l){return function(u,p,y){for(var C=-1,O=it(u),P=y(u),R=P.length;R--;){var j=P[l?R:++C];if(p(O[j],j,O)===!1)break}return u}}function dT(l,u,p){var y=u&M,C=Sa(l);function O(){var P=this&&this!==Qt&&this instanceof O?C:l;return P.apply(y?p:this,arguments)}return O}function vx(l){return function(u){u=Ze(u);var p=Go(u)?ti(u):n,y=p?p[0]:u.charAt(0),C=p?ps(p,1).join(""):u.slice(1);return y[l]()+C}}function rl(l){return function(u){return Pp(g1(m1(u).replace(nN,"")),l,"")}}function Sa(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var p=tl(l.prototype),y=l.apply(p,u);return xt(y)?y:p}}function pT(l,u,p){var y=Sa(l);function C(){for(var O=arguments.length,P=$(O),R=O,j=il(C);R--;)P[R]=arguments[R];var J=O<3&&P[0]!==j&&P[O-1]!==j?[]:as(P,j);if(O-=J.length,O<p)return kx(l,u,_c,C.placeholder,n,P,J,n,n,p-O);var Q=this&&this!==Qt&&this instanceof C?y:l;return cr(Q,this,P)}return C}function xx(l){return function(u,p,y){var C=it(u);if(!Yn(u)){var O=Me(p,3);u=Ht(u),p=function(R){return O(C[R],R,C)}}var P=l(u,p,y);return P>-1?C[O?u[P]:P]:n}}function wx(l){return Li(function(u){var p=u.length,y=p,C=Ir.prototype.thru;for(l&&u.reverse();y--;){var O=u[y];if(typeof O!="function")throw new Rr(o);if(C&&!P&&Rc(O)=="wrapper")var P=new Ir([],!0)}for(y=P?y:p;++y<p;){O=u[y];var R=Rc(O),j=R=="wrapper"?fh(O):n;j&&mh(j[0])&&j[1]==(D|E|_|A)&&!j[4].length&&j[9]==1?P=P[Rc(j[0])].apply(P,j[3]):P=O.length==1&&mh(O)?P[R]():P.thru(O)}return function(){var J=arguments,Q=J[0];if(P&&J.length==1&&Ae(Q))return P.plant(Q).value();for(var te=0,ue=p?u[te].apply(this,J):Q;++te<p;)ue=u[te].call(this,ue);return ue}})}function _c(l,u,p,y,C,O,P,R,j,J){var Q=u&D,te=u&M,ue=u&b,ve=u&(E|k),Oe=u&F,Ie=ue?n:Sa(l);function Te(){for(var Ve=arguments.length,qe=$(Ve),hr=Ve;hr--;)qe[hr]=arguments[hr];if(ve)var Rn=il(Te),mr=EN(qe,Rn);if(y&&(qe=hx(qe,y,C,ve)),O&&(qe=mx(qe,O,P,ve)),Ve-=mr,ve&&Ve<J){var _t=as(qe,Rn);return kx(l,u,_c,Te.placeholder,p,qe,_t,R,j,J-Ve)}var ii=te?p:this,$i=ue?ii[l]:l;return Ve=qe.length,R?qe=AT(qe,R):Oe&&Ve>1&&qe.reverse(),Q&&j<Ve&&(qe.length=j),this&&this!==Qt&&this instanceof Te&&($i=Ie||Sa($i)),$i.apply(ii,qe)}return Te}function bx(l,u){return function(p,y){return $O(p,l,u(y),{})}}function Pc(l,u){return function(p,y){var C;if(p===n&&y===n)return u;if(p!==n&&(C=p),y!==n){if(C===n)return y;typeof p=="string"||typeof y=="string"?(p=dr(p),y=dr(y)):(p=ox(p),y=ox(y)),C=l(p,y)}return C}}function lh(l){return Li(function(u){return u=mt(u,fr(Me())),ze(function(p){var y=this;return l(u,function(C){return cr(C,y,p)})})})}function Dc(l,u){u=u===n?" ":dr(u);var p=u.length;if(p<2)return p?eh(u,l):u;var y=eh(u,vc(l/Yo(u)));return Go(u)?ps(ti(y),0,l).join(""):y.slice(0,l)}function hT(l,u,p,y){var C=u&M,O=Sa(l);function P(){for(var R=-1,j=arguments.length,J=-1,Q=y.length,te=$(Q+j),ue=this&&this!==Qt&&this instanceof P?O:l;++J<Q;)te[J]=y[J];for(;j--;)te[J++]=arguments[++R];return cr(ue,C?p:this,te)}return P}function Sx(l){return function(u,p,y){return y&&typeof y!="number"&&An(u,p,y)&&(p=y=n),u=Fi(u),p===n?(p=u,u=0):p=Fi(p),y=y===n?u<p?1:-1:Fi(y),ZO(u,p,y,l)}}function Ac(l){return function(u,p){return typeof u=="string"&&typeof p=="string"||(u=Br(u),p=Br(p)),l(u,p)}}function kx(l,u,p,y,C,O,P,R,j,J){var Q=u&E,te=Q?P:n,ue=Q?n:P,ve=Q?O:n,Oe=Q?n:O;u|=Q?_:T,u&=~(Q?T:_),u&w||(u&=-4);var Ie=[l,u,C,ve,te,Oe,ue,R,j,J],Te=p.apply(n,Ie);return mh(l)&&Ix(Te,Ie),Te.placeholder=y,jx(Te,l,u)}function ah(l){var u=zt[l];return function(p,y){if(p=Br(p),y=y==null?0:hn(Re(y),292),y&&jv(p)){var C=(Ze(p)+"e").split("e"),O=u(C[0]+"e"+(+C[1]+y));return C=(Ze(O)+"e").split("e"),+(C[0]+"e"+(+C[1]-y))}return u(p)}}var mT=Zo&&1/ac(new Zo([,-0]))[1]==Z?function(l){return new Zo(l)}:_h;function Cx(l){return function(u){var p=mn(u);return p==Ne?zp(u):p==Fe?DN(u):CN(u,l(u))}}function ji(l,u,p,y,C,O,P,R){var j=u&b;if(!j&&typeof l!="function")throw new Rr(o);var J=y?y.length:0;if(J||(u&=-97,y=C=n),P=P===n?P:Bt(Re(P),0),R=R===n?R:Re(R),J-=C?C.length:0,u&T){var Q=y,te=C;y=C=n}var ue=j?n:fh(l),ve=[l,u,p,y,C,Q,te,O,P,R];if(ue&&_T(ve,ue),l=ve[0],u=ve[1],p=ve[2],y=ve[3],C=ve[4],R=ve[9]=ve[9]===n?j?0:l.length:Bt(ve[9]-J,0),!R&&u&(E|k)&&(u&=-25),!u||u==M)var Oe=dT(l,u,p);else u==E||u==k?Oe=pT(l,u,R):(u==_||u==(M|_))&&!C.length?Oe=hT(l,u,p,y):Oe=_c.apply(n,ve);var Ie=ue?ix:Ix;return jx(Ie(Oe,ve),l,u)}function Ex(l,u,p,y){return l===n||ri(l,Qo[p])&&!Qe.call(y,p)?u:l}function Mx(l,u,p,y,C,O){return xt(l)&&xt(u)&&(O.set(u,l),Mc(l,u,n,Mx,O),O.delete(u)),l}function gT(l){return Ea(l)?n:l}function Nx(l,u,p,y,C,O){var P=p&v,R=l.length,j=u.length;if(R!=j&&!(P&&j>R))return!1;var J=O.get(l),Q=O.get(u);if(J&&Q)return J==u&&Q==l;var te=-1,ue=!0,ve=p&S?new lo:n;for(O.set(l,u),O.set(u,l);++te<R;){var Oe=l[te],Ie=u[te];if(y)var Te=P?y(Ie,Oe,te,u,l,O):y(Oe,Ie,te,l,u,O);if(Te!==n){if(Te)continue;ue=!1;break}if(ve){if(!Dp(u,function(Ve,qe){if(!fa(ve,qe)&&(Oe===Ve||C(Oe,Ve,p,y,O)))return ve.push(qe)})){ue=!1;break}}else if(!(Oe===Ie||C(Oe,Ie,p,y,O))){ue=!1;break}}return O.delete(l),O.delete(u),ue}function yT(l,u,p,y,C,O,P){switch(p){case Vt:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case dn:return!(l.byteLength!=u.byteLength||!O(new hc(l),new hc(u)));case H:case se:case kt:return ri(+l,+u);case we:return l.name==u.name&&l.message==u.message;case tt:case ot:return l==u+"";case Ne:var R=zp;case Fe:var j=y&v;if(R||(R=ac),l.size!=u.size&&!j)return!1;var J=P.get(l);if(J)return J==u;y|=S,P.set(l,u);var Q=Nx(R(l),R(u),y,C,O,P);return P.delete(l),Q;case nt:if(ga)return ga.call(l)==ga.call(u)}return!1}function vT(l,u,p,y,C,O){var P=p&v,R=uh(l),j=R.length,J=uh(u),Q=J.length;if(j!=Q&&!P)return!1;for(var te=j;te--;){var ue=R[te];if(!(P?ue in u:Qe.call(u,ue)))return!1}var ve=O.get(l),Oe=O.get(u);if(ve&&Oe)return ve==u&&Oe==l;var Ie=!0;O.set(l,u),O.set(u,l);for(var Te=P;++te<j;){ue=R[te];var Ve=l[ue],qe=u[ue];if(y)var hr=P?y(qe,Ve,ue,u,l,O):y(Ve,qe,ue,l,u,O);if(!(hr===n?Ve===qe||C(Ve,qe,p,y,O):hr)){Ie=!1;break}Te||(Te=ue=="constructor")}if(Ie&&!Te){var Rn=l.constructor,mr=u.constructor;Rn!=mr&&"constructor"in l&&"constructor"in u&&!(typeof Rn=="function"&&Rn instanceof Rn&&typeof mr=="function"&&mr instanceof mr)&&(Ie=!1)}return O.delete(l),O.delete(u),Ie}function Li(l){return yh(Ax(l,n,Vx),l+"")}function uh(l){return qv(l,Ht,ph)}function ch(l){return qv(l,Jn,Ox)}var fh=wc?function(l){return wc.get(l)}:_h;function Rc(l){for(var u=l.name+"",p=el[u],y=Qe.call(el,u)?p.length:0;y--;){var C=p[y],O=C.func;if(O==null||O==l)return C.name}return u}function il(l){var u=Qe.call(N,"placeholder")?N:l;return u.placeholder}function Me(){var l=N.iteratee||Oh;return l=l===Oh?Yv:l,arguments.length?l(arguments[0],arguments[1]):l}function Ic(l,u){var p=l.__data__;return MT(u)?p[typeof u=="string"?"string":"hash"]:p.map}function dh(l){for(var u=Ht(l),p=u.length;p--;){var y=u[p],C=l[y];u[p]=[y,C,Px(C)]}return u}function co(l,u){var p=TN(l,u);return Gv(p)?p:n}function xT(l){var u=Qe.call(l,so),p=l[so];try{l[so]=n;var y=!0}catch{}var C=dc.call(l);return y&&(u?l[so]=p:delete l[so]),C}var ph=Fp?function(l){return l==null?[]:(l=it(l),ss(Fp(l),function(u){return Rv.call(l,u)}))}:Ph,Ox=Fp?function(l){for(var u=[];l;)ls(u,ph(l)),l=mc(l);return u}:Ph,mn=Dn;($p&&mn(new $p(new ArrayBuffer(1)))!=Vt||pa&&mn(new pa)!=Ne||Vp&&mn(Vp.resolve())!=Lt||Zo&&mn(new Zo)!=Fe||ha&&mn(new ha)!=fn)&&(mn=function(l){var u=Dn(l),p=u==yt?l.constructor:n,y=p?fo(p):"";if(y)switch(y){case tO:return Vt;case nO:return Ne;case rO:return Lt;case iO:return Fe;case sO:return fn}return u});function wT(l,u,p){for(var y=-1,C=p.length;++y<C;){var O=p[y],P=O.size;switch(O.type){case"drop":l+=P;break;case"dropRight":u-=P;break;case"take":u=hn(u,l+P);break;case"takeRight":l=Bt(l,u-P);break}}return{start:l,end:u}}function bT(l){var u=l.match(Pr);return u?u[1].split(wp):[]}function Tx(l,u,p){u=ds(u,l);for(var y=-1,C=u.length,O=!1;++y<C;){var P=vi(u[y]);if(!(O=l!=null&&p(l,P)))break;l=l[P]}return O||++y!=C?O:(C=l==null?0:l.length,!!C&&Vc(C)&&zi(P,C)&&(Ae(l)||po(l)))}function ST(l){var u=l.length,p=new l.constructor(u);return u&&typeof l[0]=="string"&&Qe.call(l,"index")&&(p.index=l.index,p.input=l.input),p}function _x(l){return typeof l.constructor=="function"&&!ka(l)?tl(mc(l)):{}}function kT(l,u,p){var y=l.constructor;switch(u){case dn:return oh(l);case H:case se:return new y(+l);case Vt:return oT(l,p);case pt:case he:case $e:case Xe:case mi:case W:case ce:case pe:case Ce:return dx(l,p);case Ne:return new y;case kt:case ot:return new y(l);case tt:return lT(l);case Fe:return new y;case nt:return aT(l)}}function CT(l,u){var p=u.length;if(!p)return l;var y=p-1;return u[y]=(p>1?"& ":"")+u[y],u=u.join(p>2?", ":" "),l.replace(_r,`{
/* [wrapped with `+u+`] */
`)}function ET(l){return Ae(l)||po(l)||!!(Iv&&l&&l[Iv])}function zi(l,u){var p=typeof l;return u=u??L,!!u&&(p=="number"||p!="symbol"&&Zu.test(l))&&l>-1&&l%1==0&&l<u}function An(l,u,p){if(!xt(p))return!1;var y=typeof u;return(y=="number"?Yn(p)&&zi(u,p.length):y=="string"&&u in p)?ri(p[u],l):!1}function hh(l,u){if(Ae(l))return!1;var p=typeof l;return p=="number"||p=="symbol"||p=="boolean"||l==null||pr(l)?!0:Jt.test(l)||!At.test(l)||u!=null&&l in it(u)}function MT(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function mh(l){var u=Rc(l),p=N[u];if(typeof p!="function"||!(u in Ue.prototype))return!1;if(l===p)return!0;var y=fh(p);return!!y&&l===y[0]}function NT(l){return!!Pv&&Pv in l}var OT=cc?Bi:Dh;function ka(l){var u=l&&l.constructor,p=typeof u=="function"&&u.prototype||Qo;return l===p}function Px(l){return l===l&&!xt(l)}function Dx(l,u){return function(p){return p==null?!1:p[l]===u&&(u!==n||l in it(p))}}function TT(l){var u=Fc(l,function(y){return p.size===f&&p.clear(),y}),p=u.cache;return u}function _T(l,u){var p=l[1],y=u[1],C=p|y,O=C<(M|b|D),P=y==D&&p==E||y==D&&p==A&&l[7].length<=u[8]||y==(D|A)&&u[7].length<=u[8]&&p==E;if(!(O||P))return l;y&M&&(l[2]=u[2],C|=p&M?0:w);var R=u[3];if(R){var j=l[3];l[3]=j?hx(j,R,u[4]):R,l[4]=j?as(l[3],d):u[4]}return R=u[5],R&&(j=l[5],l[5]=j?mx(j,R,u[6]):R,l[6]=j?as(l[5],d):u[6]),R=u[7],R&&(l[7]=R),y&D&&(l[8]=l[8]==null?u[8]:hn(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=C,l}function PT(l){var u=[];if(l!=null)for(var p in it(l))u.push(p);return u}function DT(l){return dc.call(l)}function Ax(l,u,p){return u=Bt(u===n?l.length-1:u,0),function(){for(var y=arguments,C=-1,O=Bt(y.length-u,0),P=$(O);++C<O;)P[C]=y[u+C];C=-1;for(var R=$(u+1);++C<u;)R[C]=y[C];return R[u]=p(P),cr(l,this,R)}}function Rx(l,u){return u.length<2?l:uo(l,Lr(u,0,-1))}function AT(l,u){for(var p=l.length,y=hn(u.length,p),C=Gn(l);y--;){var O=u[y];l[y]=zi(O,p)?C[O]:n}return l}function gh(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var Ix=Lx(ix),Ca=XN||function(l,u){return Qt.setTimeout(l,u)},yh=Lx(nT);function jx(l,u,p){var y=u+"";return yh(l,CT(y,RT(bT(y),p)))}function Lx(l){var u=0,p=0;return function(){var y=QN(),C=X-(y-p);if(p=y,C>0){if(++u>=ae)return arguments[0]}else u=0;return l.apply(n,arguments)}}function jc(l,u){var p=-1,y=l.length,C=y-1;for(u=u===n?y:u;++p<u;){var O=Zp(p,C),P=l[O];l[O]=l[p],l[p]=P}return l.length=u,l}var zx=TT(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(no,function(p,y,C,O){u.push(C?O.replace(_n,"$1"):y||p)}),u});function vi(l){if(typeof l=="string"||pr(l))return l;var u=l+"";return u=="0"&&1/l==-Z?"-0":u}function fo(l){if(l!=null){try{return fc.call(l)}catch{}try{return l+""}catch{}}return""}function RT(l,u){return Ar(xe,function(p){var y="_."+p[0];u&p[1]&&!oc(l,y)&&l.push(y)}),l.sort()}function Bx(l){if(l instanceof Ue)return l.clone();var u=new Ir(l.__wrapped__,l.__chain__);return u.__actions__=Gn(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function IT(l,u,p){(p?An(l,u,p):u===n)?u=1:u=Bt(Re(u),0);var y=l==null?0:l.length;if(!y||u<1)return[];for(var C=0,O=0,P=$(vc(y/u));C<y;)P[O++]=Lr(l,C,C+=u);return P}function jT(l){for(var u=-1,p=l==null?0:l.length,y=0,C=[];++u<p;){var O=l[u];O&&(C[y++]=O)}return C}function LT(){var l=arguments.length;if(!l)return[];for(var u=$(l-1),p=arguments[0],y=l;y--;)u[y-1]=arguments[y];return ls(Ae(p)?Gn(p):[p],Zt(u,1))}var zT=ze(function(l,u){return Tt(l)?va(l,Zt(u,1,Tt,!0)):[]}),BT=ze(function(l,u){var p=zr(u);return Tt(p)&&(p=n),Tt(l)?va(l,Zt(u,1,Tt,!0),Me(p,2)):[]}),FT=ze(function(l,u){var p=zr(u);return Tt(p)&&(p=n),Tt(l)?va(l,Zt(u,1,Tt,!0),n,p):[]});function $T(l,u,p){var y=l==null?0:l.length;return y?(u=p||u===n?1:Re(u),Lr(l,u<0?0:u,y)):[]}function VT(l,u,p){var y=l==null?0:l.length;return y?(u=p||u===n?1:Re(u),u=y-u,Lr(l,0,u<0?0:u)):[]}function HT(l,u){return l&&l.length?Oc(l,Me(u,3),!0,!0):[]}function WT(l,u){return l&&l.length?Oc(l,Me(u,3),!0):[]}function UT(l,u,p,y){var C=l==null?0:l.length;return C?(p&&typeof p!="number"&&An(l,u,p)&&(p=0,y=C),LO(l,u,p,y)):[]}function Fx(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var C=p==null?0:Re(p);return C<0&&(C=Bt(y+C,0)),lc(l,Me(u,3),C)}function $x(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var C=y-1;return p!==n&&(C=Re(p),C=p<0?Bt(y+C,0):hn(C,y-1)),lc(l,Me(u,3),C,!0)}function Vx(l){var u=l==null?0:l.length;return u?Zt(l,1):[]}function KT(l){var u=l==null?0:l.length;return u?Zt(l,Z):[]}function qT(l,u){var p=l==null?0:l.length;return p?(u=u===n?1:Re(u),Zt(l,u)):[]}function XT(l){for(var u=-1,p=l==null?0:l.length,y={};++u<p;){var C=l[u];y[C[0]]=C[1]}return y}function Hx(l){return l&&l.length?l[0]:n}function GT(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var C=p==null?0:Re(p);return C<0&&(C=Bt(y+C,0)),Xo(l,u,C)}function YT(l){var u=l==null?0:l.length;return u?Lr(l,0,-1):[]}var JT=ze(function(l){var u=mt(l,ih);return u.length&&u[0]===l[0]?Xp(u):[]}),QT=ze(function(l){var u=zr(l),p=mt(l,ih);return u===zr(p)?u=n:p.pop(),p.length&&p[0]===l[0]?Xp(p,Me(u,2)):[]}),ZT=ze(function(l){var u=zr(l),p=mt(l,ih);return u=typeof u=="function"?u:n,u&&p.pop(),p.length&&p[0]===l[0]?Xp(p,n,u):[]});function e_(l,u){return l==null?"":YN.call(l,u)}function zr(l){var u=l==null?0:l.length;return u?l[u-1]:n}function t_(l,u,p){var y=l==null?0:l.length;if(!y)return-1;var C=y;return p!==n&&(C=Re(p),C=C<0?Bt(y+C,0):hn(C,y-1)),u===u?RN(l,u,C):lc(l,kv,C,!0)}function n_(l,u){return l&&l.length?ex(l,Re(u)):n}var r_=ze(Wx);function Wx(l,u){return l&&l.length&&u&&u.length?Qp(l,u):l}function i_(l,u,p){return l&&l.length&&u&&u.length?Qp(l,u,Me(p,2)):l}function s_(l,u,p){return l&&l.length&&u&&u.length?Qp(l,u,n,p):l}var o_=Li(function(l,u){var p=l==null?0:l.length,y=Wp(l,u);return rx(l,mt(u,function(C){return zi(C,p)?+C:C}).sort(px)),y});function l_(l,u){var p=[];if(!(l&&l.length))return p;var y=-1,C=[],O=l.length;for(u=Me(u,3);++y<O;){var P=l[y];u(P,y,l)&&(p.push(P),C.push(y))}return rx(l,C),p}function vh(l){return l==null?l:eO.call(l)}function a_(l,u,p){var y=l==null?0:l.length;return y?(p&&typeof p!="number"&&An(l,u,p)?(u=0,p=y):(u=u==null?0:Re(u),p=p===n?y:Re(p)),Lr(l,u,p)):[]}function u_(l,u){return Nc(l,u)}function c_(l,u,p){return th(l,u,Me(p,2))}function f_(l,u){var p=l==null?0:l.length;if(p){var y=Nc(l,u);if(y<p&&ri(l[y],u))return y}return-1}function d_(l,u){return Nc(l,u,!0)}function p_(l,u,p){return th(l,u,Me(p,2),!0)}function h_(l,u){var p=l==null?0:l.length;if(p){var y=Nc(l,u,!0)-1;if(ri(l[y],u))return y}return-1}function m_(l){return l&&l.length?sx(l):[]}function g_(l,u){return l&&l.length?sx(l,Me(u,2)):[]}function y_(l){var u=l==null?0:l.length;return u?Lr(l,1,u):[]}function v_(l,u,p){return l&&l.length?(u=p||u===n?1:Re(u),Lr(l,0,u<0?0:u)):[]}function x_(l,u,p){var y=l==null?0:l.length;return y?(u=p||u===n?1:Re(u),u=y-u,Lr(l,u<0?0:u,y)):[]}function w_(l,u){return l&&l.length?Oc(l,Me(u,3),!1,!0):[]}function b_(l,u){return l&&l.length?Oc(l,Me(u,3)):[]}var S_=ze(function(l){return fs(Zt(l,1,Tt,!0))}),k_=ze(function(l){var u=zr(l);return Tt(u)&&(u=n),fs(Zt(l,1,Tt,!0),Me(u,2))}),C_=ze(function(l){var u=zr(l);return u=typeof u=="function"?u:n,fs(Zt(l,1,Tt,!0),n,u)});function E_(l){return l&&l.length?fs(l):[]}function M_(l,u){return l&&l.length?fs(l,Me(u,2)):[]}function N_(l,u){return u=typeof u=="function"?u:n,l&&l.length?fs(l,n,u):[]}function xh(l){if(!(l&&l.length))return[];var u=0;return l=ss(l,function(p){if(Tt(p))return u=Bt(p.length,u),!0}),jp(u,function(p){return mt(l,Ap(p))})}function Ux(l,u){if(!(l&&l.length))return[];var p=xh(l);return u==null?p:mt(p,function(y){return cr(u,n,y)})}var O_=ze(function(l,u){return Tt(l)?va(l,u):[]}),T_=ze(function(l){return rh(ss(l,Tt))}),__=ze(function(l){var u=zr(l);return Tt(u)&&(u=n),rh(ss(l,Tt),Me(u,2))}),P_=ze(function(l){var u=zr(l);return u=typeof u=="function"?u:n,rh(ss(l,Tt),n,u)}),D_=ze(xh);function A_(l,u){return ux(l||[],u||[],ya)}function R_(l,u){return ux(l||[],u||[],ba)}var I_=ze(function(l){var u=l.length,p=u>1?l[u-1]:n;return p=typeof p=="function"?(l.pop(),p):n,Ux(l,p)});function Kx(l){var u=N(l);return u.__chain__=!0,u}function j_(l,u){return u(l),l}function Lc(l,u){return u(l)}var L_=Li(function(l){var u=l.length,p=u?l[0]:0,y=this.__wrapped__,C=function(O){return Wp(O,l)};return u>1||this.__actions__.length||!(y instanceof Ue)||!zi(p)?this.thru(C):(y=y.slice(p,+p+(u?1:0)),y.__actions__.push({func:Lc,args:[C],thisArg:n}),new Ir(y,this.__chain__).thru(function(O){return u&&!O.length&&O.push(n),O}))});function z_(){return Kx(this)}function B_(){return new Ir(this.value(),this.__chain__)}function F_(){this.__values__===n&&(this.__values__=o1(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function $_(){return this}function V_(l){for(var u,p=this;p instanceof Sc;){var y=Bx(p);y.__index__=0,y.__values__=n,u?C.__wrapped__=y:u=y;var C=y;p=p.__wrapped__}return C.__wrapped__=l,u}function H_(){var l=this.__wrapped__;if(l instanceof Ue){var u=l;return this.__actions__.length&&(u=new Ue(this)),u=u.reverse(),u.__actions__.push({func:Lc,args:[vh],thisArg:n}),new Ir(u,this.__chain__)}return this.thru(vh)}function W_(){return ax(this.__wrapped__,this.__actions__)}var U_=Tc(function(l,u,p){Qe.call(l,p)?++l[p]:Ii(l,p,1)});function K_(l,u,p){var y=Ae(l)?bv:jO;return p&&An(l,u,p)&&(u=n),y(l,Me(u,3))}function q_(l,u){var p=Ae(l)?ss:Uv;return p(l,Me(u,3))}var X_=xx(Fx),G_=xx($x);function Y_(l,u){return Zt(zc(l,u),1)}function J_(l,u){return Zt(zc(l,u),Z)}function Q_(l,u,p){return p=p===n?1:Re(p),Zt(zc(l,u),p)}function qx(l,u){var p=Ae(l)?Ar:cs;return p(l,Me(u,3))}function Xx(l,u){var p=Ae(l)?yN:Wv;return p(l,Me(u,3))}var Z_=Tc(function(l,u,p){Qe.call(l,p)?l[p].push(u):Ii(l,p,[u])});function eP(l,u,p,y){l=Yn(l)?l:ol(l),p=p&&!y?Re(p):0;var C=l.length;return p<0&&(p=Bt(C+p,0)),Hc(l)?p<=C&&l.indexOf(u,p)>-1:!!C&&Xo(l,u,p)>-1}var tP=ze(function(l,u,p){var y=-1,C=typeof u=="function",O=Yn(l)?$(l.length):[];return cs(l,function(P){O[++y]=C?cr(u,P,p):xa(P,u,p)}),O}),nP=Tc(function(l,u,p){Ii(l,p,u)});function zc(l,u){var p=Ae(l)?mt:Jv;return p(l,Me(u,3))}function rP(l,u,p,y){return l==null?[]:(Ae(u)||(u=u==null?[]:[u]),p=y?n:p,Ae(p)||(p=p==null?[]:[p]),tx(l,u,p))}var iP=Tc(function(l,u,p){l[p?0:1].push(u)},function(){return[[],[]]});function sP(l,u,p){var y=Ae(l)?Pp:Ev,C=arguments.length<3;return y(l,Me(u,4),p,C,cs)}function oP(l,u,p){var y=Ae(l)?vN:Ev,C=arguments.length<3;return y(l,Me(u,4),p,C,Wv)}function lP(l,u){var p=Ae(l)?ss:Uv;return p(l,$c(Me(u,3)))}function aP(l){var u=Ae(l)?Fv:eT;return u(l)}function uP(l,u,p){(p?An(l,u,p):u===n)?u=1:u=Re(u);var y=Ae(l)?PO:tT;return y(l,u)}function cP(l){var u=Ae(l)?DO:rT;return u(l)}function fP(l){if(l==null)return 0;if(Yn(l))return Hc(l)?Yo(l):l.length;var u=mn(l);return u==Ne||u==Fe?l.size:Yp(l).length}function dP(l,u,p){var y=Ae(l)?Dp:iT;return p&&An(l,u,p)&&(u=n),y(l,Me(u,3))}var pP=ze(function(l,u){if(l==null)return[];var p=u.length;return p>1&&An(l,u[0],u[1])?u=[]:p>2&&An(u[0],u[1],u[2])&&(u=[u[0]]),tx(l,Zt(u,1),[])}),Bc=qN||function(){return Qt.Date.now()};function hP(l,u){if(typeof u!="function")throw new Rr(o);return l=Re(l),function(){if(--l<1)return u.apply(this,arguments)}}function Gx(l,u,p){return u=p?n:u,u=l&&u==null?l.length:u,ji(l,D,n,n,n,n,u)}function Yx(l,u){var p;if(typeof u!="function")throw new Rr(o);return l=Re(l),function(){return--l>0&&(p=u.apply(this,arguments)),l<=1&&(u=n),p}}var wh=ze(function(l,u,p){var y=M;if(p.length){var C=as(p,il(wh));y|=_}return ji(l,y,u,p,C)}),Jx=ze(function(l,u,p){var y=M|b;if(p.length){var C=as(p,il(Jx));y|=_}return ji(u,y,l,p,C)});function Qx(l,u,p){u=p?n:u;var y=ji(l,E,n,n,n,n,n,u);return y.placeholder=Qx.placeholder,y}function Zx(l,u,p){u=p?n:u;var y=ji(l,k,n,n,n,n,n,u);return y.placeholder=Zx.placeholder,y}function e1(l,u,p){var y,C,O,P,R,j,J=0,Q=!1,te=!1,ue=!0;if(typeof l!="function")throw new Rr(o);u=Br(u)||0,xt(p)&&(Q=!!p.leading,te="maxWait"in p,O=te?Bt(Br(p.maxWait)||0,u):O,ue="trailing"in p?!!p.trailing:ue);function ve(_t){var ii=y,$i=C;return y=C=n,J=_t,P=l.apply($i,ii),P}function Oe(_t){return J=_t,R=Ca(Ve,u),Q?ve(_t):P}function Ie(_t){var ii=_t-j,$i=_t-J,x1=u-ii;return te?hn(x1,O-$i):x1}function Te(_t){var ii=_t-j,$i=_t-J;return j===n||ii>=u||ii<0||te&&$i>=O}function Ve(){var _t=Bc();if(Te(_t))return qe(_t);R=Ca(Ve,Ie(_t))}function qe(_t){return R=n,ue&&y?ve(_t):(y=C=n,P)}function hr(){R!==n&&cx(R),J=0,y=j=C=R=n}function Rn(){return R===n?P:qe(Bc())}function mr(){var _t=Bc(),ii=Te(_t);if(y=arguments,C=this,j=_t,ii){if(R===n)return Oe(j);if(te)return cx(R),R=Ca(Ve,u),ve(j)}return R===n&&(R=Ca(Ve,u)),P}return mr.cancel=hr,mr.flush=Rn,mr}var mP=ze(function(l,u){return Hv(l,1,u)}),gP=ze(function(l,u,p){return Hv(l,Br(u)||0,p)});function yP(l){return ji(l,F)}function Fc(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Rr(o);var p=function(){var y=arguments,C=u?u.apply(this,y):y[0],O=p.cache;if(O.has(C))return O.get(C);var P=l.apply(this,y);return p.cache=O.set(C,P)||O,P};return p.cache=new(Fc.Cache||Ri),p}Fc.Cache=Ri;function $c(l){if(typeof l!="function")throw new Rr(o);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function vP(l){return Yx(2,l)}var xP=sT(function(l,u){u=u.length==1&&Ae(u[0])?mt(u[0],fr(Me())):mt(Zt(u,1),fr(Me()));var p=u.length;return ze(function(y){for(var C=-1,O=hn(y.length,p);++C<O;)y[C]=u[C].call(this,y[C]);return cr(l,this,y)})}),bh=ze(function(l,u){var p=as(u,il(bh));return ji(l,_,n,u,p)}),t1=ze(function(l,u){var p=as(u,il(t1));return ji(l,T,n,u,p)}),wP=Li(function(l,u){return ji(l,A,n,n,n,u)});function bP(l,u){if(typeof l!="function")throw new Rr(o);return u=u===n?u:Re(u),ze(l,u)}function SP(l,u){if(typeof l!="function")throw new Rr(o);return u=u==null?0:Bt(Re(u),0),ze(function(p){var y=p[u],C=ps(p,0,u);return y&&ls(C,y),cr(l,this,C)})}function kP(l,u,p){var y=!0,C=!0;if(typeof l!="function")throw new Rr(o);return xt(p)&&(y="leading"in p?!!p.leading:y,C="trailing"in p?!!p.trailing:C),e1(l,u,{leading:y,maxWait:u,trailing:C})}function CP(l){return Gx(l,1)}function EP(l,u){return bh(sh(u),l)}function MP(){if(!arguments.length)return[];var l=arguments[0];return Ae(l)?l:[l]}function NP(l){return jr(l,g)}function OP(l,u){return u=typeof u=="function"?u:n,jr(l,g,u)}function TP(l){return jr(l,h|g)}function _P(l,u){return u=typeof u=="function"?u:n,jr(l,h|g,u)}function PP(l,u){return u==null||Vv(l,u,Ht(u))}function ri(l,u){return l===u||l!==l&&u!==u}var DP=Ac(qp),AP=Ac(function(l,u){return l>=u}),po=Xv(function(){return arguments}())?Xv:function(l){return Ct(l)&&Qe.call(l,"callee")&&!Rv.call(l,"callee")},Ae=$.isArray,RP=mv?fr(mv):VO;function Yn(l){return l!=null&&Vc(l.length)&&!Bi(l)}function Tt(l){return Ct(l)&&Yn(l)}function IP(l){return l===!0||l===!1||Ct(l)&&Dn(l)==H}var hs=GN||Dh,jP=gv?fr(gv):HO;function LP(l){return Ct(l)&&l.nodeType===1&&!Ea(l)}function zP(l){if(l==null)return!0;if(Yn(l)&&(Ae(l)||typeof l=="string"||typeof l.splice=="function"||hs(l)||sl(l)||po(l)))return!l.length;var u=mn(l);if(u==Ne||u==Fe)return!l.size;if(ka(l))return!Yp(l).length;for(var p in l)if(Qe.call(l,p))return!1;return!0}function BP(l,u){return wa(l,u)}function FP(l,u,p){p=typeof p=="function"?p:n;var y=p?p(l,u):n;return y===n?wa(l,u,n,p):!!y}function Sh(l){if(!Ct(l))return!1;var u=Dn(l);return u==we||u==fe||typeof l.message=="string"&&typeof l.name=="string"&&!Ea(l)}function $P(l){return typeof l=="number"&&jv(l)}function Bi(l){if(!xt(l))return!1;var u=Dn(l);return u==Je||u==Se||u==Ke||u==Cn}function n1(l){return typeof l=="number"&&l==Re(l)}function Vc(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=L}function xt(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function Ct(l){return l!=null&&typeof l=="object"}var r1=yv?fr(yv):UO;function VP(l,u){return l===u||Gp(l,u,dh(u))}function HP(l,u,p){return p=typeof p=="function"?p:n,Gp(l,u,dh(u),p)}function WP(l){return i1(l)&&l!=+l}function UP(l){if(OT(l))throw new De(s);return Gv(l)}function KP(l){return l===null}function qP(l){return l==null}function i1(l){return typeof l=="number"||Ct(l)&&Dn(l)==kt}function Ea(l){if(!Ct(l)||Dn(l)!=yt)return!1;var u=mc(l);if(u===null)return!0;var p=Qe.call(u,"constructor")&&u.constructor;return typeof p=="function"&&p instanceof p&&fc.call(p)==HN}var kh=vv?fr(vv):KO;function XP(l){return n1(l)&&l>=-L&&l<=L}var s1=xv?fr(xv):qO;function Hc(l){return typeof l=="string"||!Ae(l)&&Ct(l)&&Dn(l)==ot}function pr(l){return typeof l=="symbol"||Ct(l)&&Dn(l)==nt}var sl=wv?fr(wv):XO;function GP(l){return l===n}function YP(l){return Ct(l)&&mn(l)==fn}function JP(l){return Ct(l)&&Dn(l)==ei}var QP=Ac(Jp),ZP=Ac(function(l,u){return l<=u});function o1(l){if(!l)return[];if(Yn(l))return Hc(l)?ti(l):Gn(l);if(da&&l[da])return PN(l[da]());var u=mn(l),p=u==Ne?zp:u==Fe?ac:ol;return p(l)}function Fi(l){if(!l)return l===0?l:0;if(l=Br(l),l===Z||l===-Z){var u=l<0?-1:1;return u*V}return l===l?l:0}function Re(l){var u=Fi(l),p=u%1;return u===u?p?u-p:u:0}function l1(l){return l?ao(Re(l),0,ee):0}function Br(l){if(typeof l=="number")return l;if(pr(l))return B;if(xt(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=xt(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=Mv(l);var p=ur.test(l);return p||Qu.test(l)?hN(l.slice(2),p?2:8):la.test(l)?B:+l}function a1(l){return yi(l,Jn(l))}function eD(l){return l?ao(Re(l),-L,L):l===0?l:0}function Ze(l){return l==null?"":dr(l)}var tD=nl(function(l,u){if(ka(u)||Yn(u)){yi(u,Ht(u),l);return}for(var p in u)Qe.call(u,p)&&ya(l,p,u[p])}),u1=nl(function(l,u){yi(u,Jn(u),l)}),Wc=nl(function(l,u,p,y){yi(u,Jn(u),l,y)}),nD=nl(function(l,u,p,y){yi(u,Ht(u),l,y)}),rD=Li(Wp);function iD(l,u){var p=tl(l);return u==null?p:$v(p,u)}var sD=ze(function(l,u){l=it(l);var p=-1,y=u.length,C=y>2?u[2]:n;for(C&&An(u[0],u[1],C)&&(y=1);++p<y;)for(var O=u[p],P=Jn(O),R=-1,j=P.length;++R<j;){var J=P[R],Q=l[J];(Q===n||ri(Q,Qo[J])&&!Qe.call(l,J))&&(l[J]=O[J])}return l}),oD=ze(function(l){return l.push(n,Mx),cr(c1,n,l)});function lD(l,u){return Sv(l,Me(u,3),gi)}function aD(l,u){return Sv(l,Me(u,3),Kp)}function uD(l,u){return l==null?l:Up(l,Me(u,3),Jn)}function cD(l,u){return l==null?l:Kv(l,Me(u,3),Jn)}function fD(l,u){return l&&gi(l,Me(u,3))}function dD(l,u){return l&&Kp(l,Me(u,3))}function pD(l){return l==null?[]:Ec(l,Ht(l))}function hD(l){return l==null?[]:Ec(l,Jn(l))}function Ch(l,u,p){var y=l==null?n:uo(l,u);return y===n?p:y}function mD(l,u){return l!=null&&Tx(l,u,zO)}function Eh(l,u){return l!=null&&Tx(l,u,BO)}var gD=bx(function(l,u,p){u!=null&&typeof u.toString!="function"&&(u=dc.call(u)),l[u]=p},Nh(Qn)),yD=bx(function(l,u,p){u!=null&&typeof u.toString!="function"&&(u=dc.call(u)),Qe.call(l,u)?l[u].push(p):l[u]=[p]},Me),vD=ze(xa);function Ht(l){return Yn(l)?Bv(l):Yp(l)}function Jn(l){return Yn(l)?Bv(l,!0):GO(l)}function xD(l,u){var p={};return u=Me(u,3),gi(l,function(y,C,O){Ii(p,u(y,C,O),y)}),p}function wD(l,u){var p={};return u=Me(u,3),gi(l,function(y,C,O){Ii(p,C,u(y,C,O))}),p}var bD=nl(function(l,u,p){Mc(l,u,p)}),c1=nl(function(l,u,p,y){Mc(l,u,p,y)}),SD=Li(function(l,u){var p={};if(l==null)return p;var y=!1;u=mt(u,function(O){return O=ds(O,l),y||(y=O.length>1),O}),yi(l,ch(l),p),y&&(p=jr(p,h|m|g,gT));for(var C=u.length;C--;)nh(p,u[C]);return p});function kD(l,u){return f1(l,$c(Me(u)))}var CD=Li(function(l,u){return l==null?{}:JO(l,u)});function f1(l,u){if(l==null)return{};var p=mt(ch(l),function(y){return[y]});return u=Me(u),nx(l,p,function(y,C){return u(y,C[0])})}function ED(l,u,p){u=ds(u,l);var y=-1,C=u.length;for(C||(C=1,l=n);++y<C;){var O=l==null?n:l[vi(u[y])];O===n&&(y=C,O=p),l=Bi(O)?O.call(l):O}return l}function MD(l,u,p){return l==null?l:ba(l,u,p)}function ND(l,u,p,y){return y=typeof y=="function"?y:n,l==null?l:ba(l,u,p,y)}var d1=Cx(Ht),p1=Cx(Jn);function OD(l,u,p){var y=Ae(l),C=y||hs(l)||sl(l);if(u=Me(u,4),p==null){var O=l&&l.constructor;C?p=y?new O:[]:xt(l)?p=Bi(O)?tl(mc(l)):{}:p={}}return(C?Ar:gi)(l,function(P,R,j){return u(p,P,R,j)}),p}function TD(l,u){return l==null?!0:nh(l,u)}function _D(l,u,p){return l==null?l:lx(l,u,sh(p))}function PD(l,u,p,y){return y=typeof y=="function"?y:n,l==null?l:lx(l,u,sh(p),y)}function ol(l){return l==null?[]:Lp(l,Ht(l))}function DD(l){return l==null?[]:Lp(l,Jn(l))}function AD(l,u,p){return p===n&&(p=u,u=n),p!==n&&(p=Br(p),p=p===p?p:0),u!==n&&(u=Br(u),u=u===u?u:0),ao(Br(l),u,p)}function RD(l,u,p){return u=Fi(u),p===n?(p=u,u=0):p=Fi(p),l=Br(l),FO(l,u,p)}function ID(l,u,p){if(p&&typeof p!="boolean"&&An(l,u,p)&&(u=p=n),p===n&&(typeof u=="boolean"?(p=u,u=n):typeof l=="boolean"&&(p=l,l=n)),l===n&&u===n?(l=0,u=1):(l=Fi(l),u===n?(u=l,l=0):u=Fi(u)),l>u){var y=l;l=u,u=y}if(p||l%1||u%1){var C=Lv();return hn(l+C*(u-l+pN("1e-"+((C+"").length-1))),u)}return Zp(l,u)}var jD=rl(function(l,u,p){return u=u.toLowerCase(),l+(p?h1(u):u)});function h1(l){return Mh(Ze(l).toLowerCase())}function m1(l){return l=Ze(l),l&&l.replace(ec,MN).replace(rN,"")}function LD(l,u,p){l=Ze(l),u=dr(u);var y=l.length;p=p===n?y:ao(Re(p),0,y);var C=p;return p-=u.length,p>=0&&l.slice(p,C)==u}function zD(l){return l=Ze(l),l&&ut.test(l)?l.replace(pn,NN):l}function BD(l){return l=Ze(l),l&&Kn.test(l)?l.replace(Nn,"\\$&"):l}var FD=rl(function(l,u,p){return l+(p?"-":"")+u.toLowerCase()}),$D=rl(function(l,u,p){return l+(p?" ":"")+u.toLowerCase()}),VD=vx("toLowerCase");function HD(l,u,p){l=Ze(l),u=Re(u);var y=u?Yo(l):0;if(!u||y>=u)return l;var C=(u-y)/2;return Dc(xc(C),p)+l+Dc(vc(C),p)}function WD(l,u,p){l=Ze(l),u=Re(u);var y=u?Yo(l):0;return u&&y<u?l+Dc(u-y,p):l}function UD(l,u,p){l=Ze(l),u=Re(u);var y=u?Yo(l):0;return u&&y<u?Dc(u-y,p)+l:l}function KD(l,u,p){return p||u==null?u=0:u&&(u=+u),ZN(Ze(l).replace(On,""),u||0)}function qD(l,u,p){return(p?An(l,u,p):u===n)?u=1:u=Re(u),eh(Ze(l),u)}function XD(){var l=arguments,u=Ze(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var GD=rl(function(l,u,p){return l+(p?"_":"")+u.toLowerCase()});function YD(l,u,p){return p&&typeof p!="number"&&An(l,u,p)&&(u=p=n),p=p===n?ee:p>>>0,p?(l=Ze(l),l&&(typeof u=="string"||u!=null&&!kh(u))&&(u=dr(u),!u&&Go(l))?ps(ti(l),0,p):l.split(u,p)):[]}var JD=rl(function(l,u,p){return l+(p?" ":"")+Mh(u)});function QD(l,u,p){return l=Ze(l),p=p==null?0:ao(Re(p),0,l.length),u=dr(u),l.slice(p,p+u.length)==u}function ZD(l,u,p){var y=N.templateSettings;p&&An(l,u,p)&&(u=n),l=Ze(l),u=Wc({},u,y,Ex);var C=Wc({},u.imports,y.imports,Ex),O=Ht(C),P=Lp(C,O),R,j,J=0,Q=u.interpolate||ro,te="__p += '",ue=Bp((u.escape||ro).source+"|"+Q.source+"|"+(Q===Un?Xn:ro).source+"|"+(u.evaluate||ro).source+"|$","g"),ve="//# sourceURL="+(Qe.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++aN+"]")+`
`;l.replace(ue,function(Te,Ve,qe,hr,Rn,mr){return qe||(qe=hr),te+=l.slice(J,mr).replace(tc,ON),Ve&&(R=!0,te+=`' +
__e(`+Ve+`) +
'`),Rn&&(j=!0,te+=`';
`+Rn+`;
__p += '`),qe&&(te+=`' +
((__t = (`+qe+`)) == null ? '' : __t) +
'`),J=mr+Te.length,Te}),te+=`';
`;var Oe=Qe.call(u,"variable")&&u.variable;if(!Oe)te=`with (obj) {
`+te+`
}
`;else if(Tn.test(Oe))throw new De(a);te=(j?te.replace(Pe,""):te).replace(rt,"$1").replace(ht,"$1;"),te="function("+(Oe||"obj")+`) {
`+(Oe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(j?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+te+`return __p
}`;var Ie=y1(function(){return Ye(O,ve+"return "+te).apply(n,P)});if(Ie.source=te,Sh(Ie))throw Ie;return Ie}function eA(l){return Ze(l).toLowerCase()}function tA(l){return Ze(l).toUpperCase()}function nA(l,u,p){if(l=Ze(l),l&&(p||u===n))return Mv(l);if(!l||!(u=dr(u)))return l;var y=ti(l),C=ti(u),O=Nv(y,C),P=Ov(y,C)+1;return ps(y,O,P).join("")}function rA(l,u,p){if(l=Ze(l),l&&(p||u===n))return l.slice(0,_v(l)+1);if(!l||!(u=dr(u)))return l;var y=ti(l),C=Ov(y,ti(u))+1;return ps(y,0,C).join("")}function iA(l,u,p){if(l=Ze(l),l&&(p||u===n))return l.replace(On,"");if(!l||!(u=dr(u)))return l;var y=ti(l),C=Nv(y,ti(u));return ps(y,C).join("")}function sA(l,u){var p=U,y=le;if(xt(u)){var C="separator"in u?u.separator:C;p="length"in u?Re(u.length):p,y="omission"in u?dr(u.omission):y}l=Ze(l);var O=l.length;if(Go(l)){var P=ti(l);O=P.length}if(p>=O)return l;var R=p-Yo(y);if(R<1)return y;var j=P?ps(P,0,R).join(""):l.slice(0,R);if(C===n)return j+y;if(P&&(R+=j.length-R),kh(C)){if(l.slice(R).search(C)){var J,Q=j;for(C.global||(C=Bp(C.source,Ze(Pn.exec(C))+"g")),C.lastIndex=0;J=C.exec(Q);)var te=J.index;j=j.slice(0,te===n?R:te)}}else if(l.indexOf(dr(C),R)!=R){var ue=j.lastIndexOf(C);ue>-1&&(j=j.slice(0,ue))}return j+y}function oA(l){return l=Ze(l),l&&vt.test(l)?l.replace(Ot,IN):l}var lA=rl(function(l,u,p){return l+(p?" ":"")+u.toUpperCase()}),Mh=vx("toUpperCase");function g1(l,u,p){return l=Ze(l),u=p?n:u,u===n?_N(l)?zN(l):bN(l):l.match(u)||[]}var y1=ze(function(l,u){try{return cr(l,n,u)}catch(p){return Sh(p)?p:new De(p)}}),aA=Li(function(l,u){return Ar(u,function(p){p=vi(p),Ii(l,p,wh(l[p],l))}),l});function uA(l){var u=l==null?0:l.length,p=Me();return l=u?mt(l,function(y){if(typeof y[1]!="function")throw new Rr(o);return[p(y[0]),y[1]]}):[],ze(function(y){for(var C=-1;++C<u;){var O=l[C];if(cr(O[0],this,y))return cr(O[1],this,y)}})}function cA(l){return IO(jr(l,h))}function Nh(l){return function(){return l}}function fA(l,u){return l==null||l!==l?u:l}var dA=wx(),pA=wx(!0);function Qn(l){return l}function Oh(l){return Yv(typeof l=="function"?l:jr(l,h))}function hA(l){return Qv(jr(l,h))}function mA(l,u){return Zv(l,jr(u,h))}var gA=ze(function(l,u){return function(p){return xa(p,l,u)}}),yA=ze(function(l,u){return function(p){return xa(l,p,u)}});function Th(l,u,p){var y=Ht(u),C=Ec(u,y);p==null&&!(xt(u)&&(C.length||!y.length))&&(p=u,u=l,l=this,C=Ec(u,Ht(u)));var O=!(xt(p)&&"chain"in p)||!!p.chain,P=Bi(l);return Ar(C,function(R){var j=u[R];l[R]=j,P&&(l.prototype[R]=function(){var J=this.__chain__;if(O||J){var Q=l(this.__wrapped__),te=Q.__actions__=Gn(this.__actions__);return te.push({func:j,args:arguments,thisArg:l}),Q.__chain__=J,Q}return j.apply(l,ls([this.value()],arguments))})}),l}function vA(){return Qt._===this&&(Qt._=WN),this}function _h(){}function xA(l){return l=Re(l),ze(function(u){return ex(u,l)})}var wA=lh(mt),bA=lh(bv),SA=lh(Dp);function v1(l){return hh(l)?Ap(vi(l)):QO(l)}function kA(l){return function(u){return l==null?n:uo(l,u)}}var CA=Sx(),EA=Sx(!0);function Ph(){return[]}function Dh(){return!1}function MA(){return{}}function NA(){return""}function OA(){return!0}function TA(l,u){if(l=Re(l),l<1||l>L)return[];var p=ee,y=hn(l,ee);u=Me(u),l-=ee;for(var C=jp(y,u);++p<l;)u(p);return C}function _A(l){return Ae(l)?mt(l,vi):pr(l)?[l]:Gn(zx(Ze(l)))}function PA(l){var u=++VN;return Ze(l)+u}var DA=Pc(function(l,u){return l+u},0),AA=ah("ceil"),RA=Pc(function(l,u){return l/u},1),IA=ah("floor");function jA(l){return l&&l.length?Cc(l,Qn,qp):n}function LA(l,u){return l&&l.length?Cc(l,Me(u,2),qp):n}function zA(l){return Cv(l,Qn)}function BA(l,u){return Cv(l,Me(u,2))}function FA(l){return l&&l.length?Cc(l,Qn,Jp):n}function $A(l,u){return l&&l.length?Cc(l,Me(u,2),Jp):n}var VA=Pc(function(l,u){return l*u},1),HA=ah("round"),WA=Pc(function(l,u){return l-u},0);function UA(l){return l&&l.length?Ip(l,Qn):0}function KA(l,u){return l&&l.length?Ip(l,Me(u,2)):0}return N.after=hP,N.ary=Gx,N.assign=tD,N.assignIn=u1,N.assignInWith=Wc,N.assignWith=nD,N.at=rD,N.before=Yx,N.bind=wh,N.bindAll=aA,N.bindKey=Jx,N.castArray=MP,N.chain=Kx,N.chunk=IT,N.compact=jT,N.concat=LT,N.cond=uA,N.conforms=cA,N.constant=Nh,N.countBy=U_,N.create=iD,N.curry=Qx,N.curryRight=Zx,N.debounce=e1,N.defaults=sD,N.defaultsDeep=oD,N.defer=mP,N.delay=gP,N.difference=zT,N.differenceBy=BT,N.differenceWith=FT,N.drop=$T,N.dropRight=VT,N.dropRightWhile=HT,N.dropWhile=WT,N.fill=UT,N.filter=q_,N.flatMap=Y_,N.flatMapDeep=J_,N.flatMapDepth=Q_,N.flatten=Vx,N.flattenDeep=KT,N.flattenDepth=qT,N.flip=yP,N.flow=dA,N.flowRight=pA,N.fromPairs=XT,N.functions=pD,N.functionsIn=hD,N.groupBy=Z_,N.initial=YT,N.intersection=JT,N.intersectionBy=QT,N.intersectionWith=ZT,N.invert=gD,N.invertBy=yD,N.invokeMap=tP,N.iteratee=Oh,N.keyBy=nP,N.keys=Ht,N.keysIn=Jn,N.map=zc,N.mapKeys=xD,N.mapValues=wD,N.matches=hA,N.matchesProperty=mA,N.memoize=Fc,N.merge=bD,N.mergeWith=c1,N.method=gA,N.methodOf=yA,N.mixin=Th,N.negate=$c,N.nthArg=xA,N.omit=SD,N.omitBy=kD,N.once=vP,N.orderBy=rP,N.over=wA,N.overArgs=xP,N.overEvery=bA,N.overSome=SA,N.partial=bh,N.partialRight=t1,N.partition=iP,N.pick=CD,N.pickBy=f1,N.property=v1,N.propertyOf=kA,N.pull=r_,N.pullAll=Wx,N.pullAllBy=i_,N.pullAllWith=s_,N.pullAt=o_,N.range=CA,N.rangeRight=EA,N.rearg=wP,N.reject=lP,N.remove=l_,N.rest=bP,N.reverse=vh,N.sampleSize=uP,N.set=MD,N.setWith=ND,N.shuffle=cP,N.slice=a_,N.sortBy=pP,N.sortedUniq=m_,N.sortedUniqBy=g_,N.split=YD,N.spread=SP,N.tail=y_,N.take=v_,N.takeRight=x_,N.takeRightWhile=w_,N.takeWhile=b_,N.tap=j_,N.throttle=kP,N.thru=Lc,N.toArray=o1,N.toPairs=d1,N.toPairsIn=p1,N.toPath=_A,N.toPlainObject=a1,N.transform=OD,N.unary=CP,N.union=S_,N.unionBy=k_,N.unionWith=C_,N.uniq=E_,N.uniqBy=M_,N.uniqWith=N_,N.unset=TD,N.unzip=xh,N.unzipWith=Ux,N.update=_D,N.updateWith=PD,N.values=ol,N.valuesIn=DD,N.without=O_,N.words=g1,N.wrap=EP,N.xor=T_,N.xorBy=__,N.xorWith=P_,N.zip=D_,N.zipObject=A_,N.zipObjectDeep=R_,N.zipWith=I_,N.entries=d1,N.entriesIn=p1,N.extend=u1,N.extendWith=Wc,Th(N,N),N.add=DA,N.attempt=y1,N.camelCase=jD,N.capitalize=h1,N.ceil=AA,N.clamp=AD,N.clone=NP,N.cloneDeep=TP,N.cloneDeepWith=_P,N.cloneWith=OP,N.conformsTo=PP,N.deburr=m1,N.defaultTo=fA,N.divide=RA,N.endsWith=LD,N.eq=ri,N.escape=zD,N.escapeRegExp=BD,N.every=K_,N.find=X_,N.findIndex=Fx,N.findKey=lD,N.findLast=G_,N.findLastIndex=$x,N.findLastKey=aD,N.floor=IA,N.forEach=qx,N.forEachRight=Xx,N.forIn=uD,N.forInRight=cD,N.forOwn=fD,N.forOwnRight=dD,N.get=Ch,N.gt=DP,N.gte=AP,N.has=mD,N.hasIn=Eh,N.head=Hx,N.identity=Qn,N.includes=eP,N.indexOf=GT,N.inRange=RD,N.invoke=vD,N.isArguments=po,N.isArray=Ae,N.isArrayBuffer=RP,N.isArrayLike=Yn,N.isArrayLikeObject=Tt,N.isBoolean=IP,N.isBuffer=hs,N.isDate=jP,N.isElement=LP,N.isEmpty=zP,N.isEqual=BP,N.isEqualWith=FP,N.isError=Sh,N.isFinite=$P,N.isFunction=Bi,N.isInteger=n1,N.isLength=Vc,N.isMap=r1,N.isMatch=VP,N.isMatchWith=HP,N.isNaN=WP,N.isNative=UP,N.isNil=qP,N.isNull=KP,N.isNumber=i1,N.isObject=xt,N.isObjectLike=Ct,N.isPlainObject=Ea,N.isRegExp=kh,N.isSafeInteger=XP,N.isSet=s1,N.isString=Hc,N.isSymbol=pr,N.isTypedArray=sl,N.isUndefined=GP,N.isWeakMap=YP,N.isWeakSet=JP,N.join=e_,N.kebabCase=FD,N.last=zr,N.lastIndexOf=t_,N.lowerCase=$D,N.lowerFirst=VD,N.lt=QP,N.lte=ZP,N.max=jA,N.maxBy=LA,N.mean=zA,N.meanBy=BA,N.min=FA,N.minBy=$A,N.stubArray=Ph,N.stubFalse=Dh,N.stubObject=MA,N.stubString=NA,N.stubTrue=OA,N.multiply=VA,N.nth=n_,N.noConflict=vA,N.noop=_h,N.now=Bc,N.pad=HD,N.padEnd=WD,N.padStart=UD,N.parseInt=KD,N.random=ID,N.reduce=sP,N.reduceRight=oP,N.repeat=qD,N.replace=XD,N.result=ED,N.round=HA,N.runInContext=I,N.sample=aP,N.size=fP,N.snakeCase=GD,N.some=dP,N.sortedIndex=u_,N.sortedIndexBy=c_,N.sortedIndexOf=f_,N.sortedLastIndex=d_,N.sortedLastIndexBy=p_,N.sortedLastIndexOf=h_,N.startCase=JD,N.startsWith=QD,N.subtract=WA,N.sum=UA,N.sumBy=KA,N.template=ZD,N.times=TA,N.toFinite=Fi,N.toInteger=Re,N.toLength=l1,N.toLower=eA,N.toNumber=Br,N.toSafeInteger=eD,N.toString=Ze,N.toUpper=tA,N.trim=nA,N.trimEnd=rA,N.trimStart=iA,N.truncate=sA,N.unescape=oA,N.uniqueId=PA,N.upperCase=lA,N.upperFirst=Mh,N.each=qx,N.eachRight=Xx,N.first=Hx,Th(N,function(){var l={};return gi(N,function(u,p){Qe.call(N.prototype,p)||(l[p]=u)}),l}(),{chain:!1}),N.VERSION=r,Ar(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){N[l].placeholder=N}),Ar(["drop","take"],function(l,u){Ue.prototype[l]=function(p){p=p===n?1:Bt(Re(p),0);var y=this.__filtered__&&!u?new Ue(this):this.clone();return y.__filtered__?y.__takeCount__=hn(p,y.__takeCount__):y.__views__.push({size:hn(p,ee),type:l+(y.__dir__<0?"Right":"")}),y},Ue.prototype[l+"Right"]=function(p){return this.reverse()[l](p).reverse()}}),Ar(["filter","map","takeWhile"],function(l,u){var p=u+1,y=p==oe||p==z;Ue.prototype[l]=function(C){var O=this.clone();return O.__iteratees__.push({iteratee:Me(C,3),type:p}),O.__filtered__=O.__filtered__||y,O}}),Ar(["head","last"],function(l,u){var p="take"+(u?"Right":"");Ue.prototype[l]=function(){return this[p](1).value()[0]}}),Ar(["initial","tail"],function(l,u){var p="drop"+(u?"":"Right");Ue.prototype[l]=function(){return this.__filtered__?new Ue(this):this[p](1)}}),Ue.prototype.compact=function(){return this.filter(Qn)},Ue.prototype.find=function(l){return this.filter(l).head()},Ue.prototype.findLast=function(l){return this.reverse().find(l)},Ue.prototype.invokeMap=ze(function(l,u){return typeof l=="function"?new Ue(this):this.map(function(p){return xa(p,l,u)})}),Ue.prototype.reject=function(l){return this.filter($c(Me(l)))},Ue.prototype.slice=function(l,u){l=Re(l);var p=this;return p.__filtered__&&(l>0||u<0)?new Ue(p):(l<0?p=p.takeRight(-l):l&&(p=p.drop(l)),u!==n&&(u=Re(u),p=u<0?p.dropRight(-u):p.take(u-l)),p)},Ue.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Ue.prototype.toArray=function(){return this.take(ee)},gi(Ue.prototype,function(l,u){var p=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),C=N[y?"take"+(u=="last"?"Right":""):u],O=y||/^find/.test(u);C&&(N.prototype[u]=function(){var P=this.__wrapped__,R=y?[1]:arguments,j=P instanceof Ue,J=R[0],Q=j||Ae(P),te=function(Ve){var qe=C.apply(N,ls([Ve],R));return y&&ue?qe[0]:qe};Q&&p&&typeof J=="function"&&J.length!=1&&(j=Q=!1);var ue=this.__chain__,ve=!!this.__actions__.length,Oe=O&&!ue,Ie=j&&!ve;if(!O&&Q){P=Ie?P:new Ue(this);var Te=l.apply(P,R);return Te.__actions__.push({func:Lc,args:[te],thisArg:n}),new Ir(Te,ue)}return Oe&&Ie?l.apply(this,R):(Te=this.thru(te),Oe?y?Te.value()[0]:Te.value():Te)})}),Ar(["pop","push","shift","sort","splice","unshift"],function(l){var u=uc[l],p=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",y=/^(?:pop|shift)$/.test(l);N.prototype[l]=function(){var C=arguments;if(y&&!this.__chain__){var O=this.value();return u.apply(Ae(O)?O:[],C)}return this[p](function(P){return u.apply(Ae(P)?P:[],C)})}}),gi(Ue.prototype,function(l,u){var p=N[u];if(p){var y=p.name+"";Qe.call(el,y)||(el[y]=[]),el[y].push({name:u,func:p})}}),el[_c(n,b).name]=[{name:"wrapper",func:n}],Ue.prototype.clone=oO,Ue.prototype.reverse=lO,Ue.prototype.value=aO,N.prototype.at=L_,N.prototype.chain=z_,N.prototype.commit=B_,N.prototype.next=F_,N.prototype.plant=V_,N.prototype.reverse=H_,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=W_,N.prototype.first=N.prototype.head,da&&(N.prototype[da]=$_),N},Jo=BN();io?((io.exports=Jo)._=Jo,Op._=Jo):Qt._=Jo}).call(pl)}($a,$a.exports)),$a.exports}var sm={exports:{}},om,Dw;function Nj(){if(Dw)return om;Dw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return om=t,om}var lm,Aw;function Oj(){if(Aw)return lm;Aw=1;var t=Nj();function e(){}function n(){}return n.resetWarningCache=e,lm=function(){function r(o,a,c,f,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},lm}var Rw;function Vu(){return Rw||(Rw=1,sm.exports=Oj()()),sm.exports}(function(t,e){(function(r,i){t.exports=i(Y,Mj(),Vu())})(pl,function(n,r,i){return function(){var s={"./src/Xarrow/utils/buzzier.js":function(f,d,h){h.r(d),h.d(d,{bzFunction:function(){return m},buzzierMinSols:function(){return g}});var m=function(S,M,b,w){return function(E){return Math.pow(1-E,3)*S+3*Math.pow(1-E,2)*E*M+3*(1-E)*Math.pow(E,2)*b+Math.pow(E,3)*w}},g=function(S,M,b,w){var E=m(S,M,b,w),k=-6*S+12*M-6*b,_=Math.pow(-6*S+12*M-6*b,2)-4*(3*M-3*S)*(-3*S+9*M-9*b+3*w),T=2*(-3*S+9*M-9*b+3*w),D=E((k+Math.sqrt(_))/T),A=E((k-Math.sqrt(_))/T);return[D,A]}},"./src/Xarrow/Xarrow.tsx":function(f,d,h){var m=this&&this.__assign||function(){return m=Object.assign||function(A){for(var F,U=1,le=arguments.length;U<le;U++){F=arguments[U];for(var ae in F)Object.prototype.hasOwnProperty.call(F,ae)&&(A[ae]=F[ae])}return A},m.apply(this,arguments)},g=this&&this.__createBinding||(Object.create?function(A,F,U,le){le===void 0&&(le=U),Object.defineProperty(A,le,{enumerable:!0,get:function(){return F[U]}})}:function(A,F,U,le){le===void 0&&(le=U),A[le]=F[U]}),v=this&&this.__setModuleDefault||(Object.create?function(A,F){Object.defineProperty(A,"default",{enumerable:!0,value:F})}:function(A,F){A.default=F}),S=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var F={};if(A!=null)for(var U in A)U!=="default"&&Object.prototype.hasOwnProperty.call(A,U)&&g(F,A,U);return v(F,A),F},M=this&&this.__spreadArray||function(A,F){for(var U=0,le=F.length,ae=A.length;U<le;U++,ae++)A[ae]=F[U];return A},b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(d,"__esModule",{value:!0});var w=S(h("react")),E=b(h("./src/Xarrow/useXarrowProps.ts")),k=h("./src/Xwrapper.tsx"),_=b(h("./src/Xarrow/propTypes.ts")),T=h("./src/Xarrow/utils/GetPosition.tsx"),D=function(A){var F,U=w.useRef({svgRef:w.useRef(null),lineRef:w.useRef(null),headRef:w.useRef(null),tailRef:w.useRef(null),lineDrawAnimRef:w.useRef(null),lineDashAnimRef:w.useRef(null),headOpacityAnimRef:w.useRef(null)}),le=U.current,ae=le.svgRef,X=le.lineRef,oe=le.headRef;le.tailRef;var G=le.lineDrawAnimRef,z=le.lineDashAnimRef,Z=le.headOpacityAnimRef;w.useContext(k.XarrowContext);var L=E.default(A,U.current),V=L[0],B=V.labels,ee=V.lineColor,re=V.headColor,K=V.tailColor,xe=V.strokeWidth,be=V.showHead,We=V.showTail,Ke=V.dashness,H=V.headShape,se=V.tailShape,fe=V.showXarrow,we=V.animateDrawing,Je=V.zIndex,Se=V.passProps,Ne=V.arrowBodyProps,kt=V.arrowHeadProps,Wn=V.arrowTailProps,yt=V.SVGcanvasProps,Lt=V.divContainerProps,Cn=V.divContainerStyle,tt=V.SVGcanvasStyle,Fe=V._debug,ot=V.shouldUpdatePosition;we=A.animateDrawing;var nt=w.useState(!we),En=nt[0],fn=nt[1],ei=w.useState({}),dn=ei[1],Vt=function(){return dn({})},pt=w.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),he=pt[0],$e=pt[1];w.useLayoutEffect(function(){if(ot.current){var vt=T.getPosition(L,U);$e(vt),ot.current=!1}});var Xe=he.x2-he.arrowHeadOffset.x,mi=he.y2-he.arrowHeadOffset.y,W=he.x1-he.arrowTailOffset.x,ce=he.y1-he.arrowTailOffset.y,pe=Ke.strokeLen+Ke.nonStrokeLen,Ce=1;Ke.animation<0&&(Ke.animation*=-1,Ce=-1);var Pe,rt,ht,Ot,pn=0;return we&&En==!1?(typeof we=="boolean"&&(we=1),rt=we+"s",Pe=he.lineLength,Ot=he.lineLength,ht=1,we<0&&(F=[pn,Ot],Ot=F[0],pn=F[1],rt=we*-1+"s")):(Pe=Ke.strokeLen+" "+Ke.nonStrokeLen,rt=1/Ke.animation+"s",Ot=pe*Ce,ht="indefinite",pn=0),w.useLayoutEffect(function(){X.current&&$e(function(vt){var ut,Mn;return m(m({},vt),{lineLength:(Mn=(ut=X.current)===null||ut===void 0?void 0:ut.getTotalLength())!==null&&Mn!==void 0?Mn:0})})},[X.current]),w.useEffect(function(){var vt=function(){window.addEventListener("resize",Vt);var Mn=function(){var Un,At;fn(!0),(Un=Z.current)===null||Un===void 0||Un.beginElement(),(At=z.current)===null||At===void 0||At.beginElement()},Dt=function(){return oe.current.style.opacity="0"};return G.current&&oe.current&&(G.current.addEventListener("endEvent",Mn),G.current.addEventListener("beginEvent",Dt)),function(){window.removeEventListener("resize",Vt),G.current&&(G.current.removeEventListener("endEvent",Mn),oe.current&&G.current.removeEventListener("beginEvent",Dt))}},ut=vt();return function(){fn(!1),ut()}},[fe]),w.default.createElement("div",m({},Lt,{style:m({position:"absolute",zIndex:Je},Cn)}),fe?w.default.createElement(w.default.Fragment,null,w.default.createElement("svg",m({ref:ae,width:he.cw,height:he.ch,style:m({position:"absolute",left:he.cx0,top:he.cy0,pointerEvents:"none",border:Fe?"1px dashed yellow":null},tt),overflow:"auto"},yt),w.default.createElement("path",m({ref:X,d:he.arrowPath,stroke:ee,strokeDasharray:Pe,strokeWidth:xe,fill:"transparent",pointerEvents:"visibleStroke"},Se,Ne),w.default.createElement(w.default.Fragment,null,En?w.default.createElement(w.default.Fragment,null,Ke.animation?w.default.createElement("animate",{ref:z,attributeName:"stroke-dashoffset",values:pe*Ce+";0",dur:1/Ke.animation+"s",repeatCount:"indefinite"}):null):w.default.createElement(w.default.Fragment,null,we?w.default.createElement("animate",{ref:G,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:Ot+";"+pn,dur:rt,repeatCount:ht}):null))),We?w.default.createElement("g",m({fill:K,pointerEvents:"auto",transform:"translate("+W+","+ce+") rotate("+he.tailOrient+") scale("+he.fTailSize+")"},Se,Wn),se.svgElem):null,be?w.default.createElement("g",m({ref:oe,fill:re,pointerEvents:"auto",transform:"translate("+Xe+","+mi+") rotate("+he.headOrient+") scale("+he.fHeadSize+")",opacity:we&&!En?0:1},Se,kt),w.default.createElement("animate",{ref:Z,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),H.svgElem):null,Fe?w.default.createElement(w.default.Fragment,null,w.default.createElement("circle",{r:"5",cx:he.cpx1,cy:he.cpy1,fill:"green"}),w.default.createElement("circle",{r:"5",cx:he.cpx2,cy:he.cpy2,fill:"blue"}),w.default.createElement("rect",{x:he.excLeft,y:he.excUp,width:he.absDx,height:he.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),B.start?w.default.createElement("div",{style:{transform:he.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:he.cx0+he.labelStartPos.x,top:he.cy0+he.labelStartPos.y-xe-5}},B.start):null,B.middle?w.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:he.cx0+he.labelMiddlePos.x,top:he.cy0+he.labelMiddlePos.y}},B.middle):null,B.end?w.default.createElement("div",{style:{transform:he.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:he.cx0+he.labelEndPos.x,top:he.cy0+he.labelEndPos.y+xe+5}},B.end):null,Fe?w.default.createElement(w.default.Fragment,null,M(M([],he.startPoints),he.endPoints).map(function(vt,ut){return w.default.createElement("div",{key:ut,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:vt.x-he.mainDivPos.x,top:vt.y-he.mainDivPos.y}})})):null):null)};D.propTypes=_.default,d.default=D},"./src/Xarrow/anchors.ts":function(f,d,h){f=h.nmd(f),Object.defineProperty(d,"__esModule",{value:!0}),d.calcAnchors=void 0;var m=function(v,S){return{middle:{x:v*.5,y:S*.5},left:{x:0,y:S*.5},right:{x:v,y:S*.5},top:{x:v*.5,y:0},bottom:{x:v*.5,y:S}}},g=function(v,S){return v.map(function(M){var b=m(S.right-S.x,S.bottom-S.y),w=b[M.position],E=w.x,k=w.y;return{x:S.x+E+M.offset.x,y:S.y+k+M.offset.y,anchor:M}})};d.calcAnchors=g,h.c[h.s]},"./src/Xarrow/propTypes.ts":function(f,d,h){var m=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(d,"__esModule",{value:!0});var g=m(h("prop-types")),v=h("./src/constants.tsx"),S=g.default.oneOf(v.cAnchorEdge),M=g.default.exact({position:S.isRequired,offset:g.default.exact({x:g.default.number,y:g.default.number}).isRequired}),b=g.default.oneOfType([S,M]),w=g.default.oneOfType([b,g.default.arrayOf(b)]),E=g.default.oneOfType([g.default.string,g.default.exact({current:g.default.any})]),k=g.default.oneOfType([g.default.element,g.default.string]),_=g.default.exact({start:k,middle:k,end:k}),T=g.default.oneOf(Object.keys(v.arrowShapes)),D=g.default.any,A=g.default.oneOfType([T,g.default.exact({svgElem:D,offsetForward:g.default.number}).isRequired]),F={start:E.isRequired,end:E.isRequired,startAnchor:w,endAnchor:w,labels:g.default.oneOfType([k,_]),color:g.default.string,lineColor:g.default.string,showHead:g.default.bool,headColor:g.default.string,headSize:g.default.number,tailSize:g.default.number,tailColor:g.default.string,strokeWidth:g.default.number,showTail:g.default.bool,path:g.default.oneOf(v.cPaths),showXarrow:g.default.bool,curveness:g.default.number,gridBreak:g.default.string,dashness:g.default.oneOfType([g.default.bool,g.default.object]),headShape:A,tailShape:A,animateDrawing:g.default.oneOfType([g.default.bool,g.default.number]),zIndex:g.default.number,passProps:g.default.object,arrowBodyProps:g.default.object,arrowHeadProps:g.default.object,arrowTailProps:g.default.object,SVGcanvasProps:g.default.object,divContainerProps:g.default.object,_extendSVGcanvas:g.default.number,_debug:g.default.bool,_cpx1Offset:g.default.number,_cpy1Offset:g.default.number,_cpx2Offset:g.default.number,_cpy2Offset:g.default.number};d.default=F},"./src/Xarrow/useXarrowProps.ts":function(f,d,h){var m=this&&this.__assign||function(){return m=Object.assign||function(H){for(var se,fe=1,we=arguments.length;fe<we;fe++){se=arguments[fe];for(var Je in se)Object.prototype.hasOwnProperty.call(se,Je)&&(H[Je]=se[Je])}return H},m.apply(this,arguments)},g=this&&this.__createBinding||(Object.create?function(H,se,fe,we){we===void 0&&(we=fe),Object.defineProperty(H,we,{enumerable:!0,get:function(){return se[fe]}})}:function(H,se,fe,we){we===void 0&&(we=fe),H[we]=se[fe]}),v=this&&this.__setModuleDefault||(Object.create?function(H,se){Object.defineProperty(H,"default",{enumerable:!0,value:se})}:function(H,se){H.default=se}),S=this&&this.__importStar||function(H){if(H&&H.__esModule)return H;var se={};if(H!=null)for(var fe in H)fe!=="default"&&Object.prototype.hasOwnProperty.call(H,fe)&&g(se,H,fe);return v(se,H),se},M=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(d,"__esModule",{value:!0});var b=S(h("react")),w=h("./src/Xarrow/utils/index.ts"),E=M(h("lodash")),k=h("./src/constants.tsx"),_=function(H){var se={start:null,middle:null,end:null};if(H)if(typeof H=="string"||b.default.isValidElement(H))se.middle=H;else for(var fe in H)se[fe]=H[fe];return se},T=function(H){var se=Array.isArray(H)?H:[H],fe=se.map(function(Se){return typeof Se=="string"?{position:Se}:Se});fe=fe.filter(function(Se){return k.cAnchorEdge.includes(Se.position)}),fe.length==0&&(fe=[{position:"auto"}]);var we=fe.filter(function(Se){return Se.position==="auto"});we.length>0&&(fe=fe.filter(function(Se){return Se.position!=="auto"}),fe.push.apply(fe,we.flatMap(function(Se){return["left","right","top","bottom"].map(function(Ne){return m(m({},Se),{position:Ne})})})));var Je=fe.map(function(Se){if(typeof Se=="object"){var Ne=Se;return Ne.position||(Ne.position="auto"),Ne.offset||(Ne.offset={x:0,y:0}),Ne.offset.y||(Ne.offset.y=0),Ne.offset.x||(Ne.offset.x=0),Ne=Ne,Ne}else return Se});return Je},D=function(H,se){var fe=0,we=0,Je,Se=1;return typeof H=="object"?(fe=H.strokeLen||se.strokeWidth*2,we=H.strokeLen?H.nonStrokeLen:se.strokeWidth,Je=H.animation?H.animation:null):typeof H=="boolean"&&H&&(fe=se.strokeWidth*2,we=se.strokeWidth,Je=null),{strokeLen:fe,nonStrokeLen:we,animation:Je,animDirection:Se}},A=function(H){return typeof H=="string"&&(H in k.arrowShapes?H=k.arrowShapes[H]:(console.warn("'"+H+"' is not supported arrow shape. the supported arrow shapes is one of "+k.cArrowShapes+`.
           reverting to default shape.`),H=k.arrowShapes.arrow1)),H=H,(H==null?void 0:H.offsetForward)===void 0&&(H.offsetForward=.25),(H==null?void 0:H.svgElem)===void 0&&(H.svgElem="path"),H},F=function(H){var se=w.xStr2absRelative(H);return se||(se={relative:.5,abs:0}),se},U=function(H,se){return se&&(se.current=!0),H},le=function(H){return H},ae=function(H,se,fe){return U(H,fe)},X=function(H,se,fe){return U(Number(H),fe)},oe=function(H){return Number(H)},G={start:function(H){return w.getElementByPropGiven(H)},end:function(H){return w.getElementByPropGiven(H)},startAnchor:function(H,se,fe){return U(T(H),fe)},endAnchor:function(H,se,fe){return U(T(H),fe)},labels:function(H){return _(H)},color:le,lineColor:function(H,se){return H||se.color},headColor:function(H,se){return H||se.color},tailColor:function(H,se){return H||se.color},strokeWidth:X,showHead:ae,headSize:X,showTail:ae,tailSize:X,path:ae,curveness:X,gridBreak:function(H,se,fe){return U(F(H),fe)},dashness:function(H,se){return D(H,se)},headShape:function(H){return A(H)},tailShape:function(H){return A(H)},showXarrow:le,animateDrawing:le,zIndex:oe,passProps:le,arrowBodyProps:ae,arrowHeadProps:ae,arrowTailProps:ae,SVGcanvasProps:ae,divContainerProps:ae,divContainerStyle:ae,SVGcanvasStyle:ae,_extendSVGcanvas:ae,_debug:ae,_cpx1Offset:ae,_cpy1Offset:ae,_cpx2Offset:ae,_cpy2Offset:ae},z={};for(var Z in G)z[Z]=[Z];for(var L=0,V=["lineColor","headColor","tailColor"];L<V.length;L++){var Z=V[L];z[Z].push("color")}var B=function(H,se){for(var fe,we=0,Je=Object.entries(H);we<Je.length;we++){var Se=Je[we],Ne=Se[0],kt=Se[1];se[Ne]=(fe=G==null?void 0:G[Ne])===null||fe===void 0?void 0:fe.call(G,kt,se)}return se},ee={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},re={};re=B(ee,re);var K={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function xe(H,se){return E.default.isEqual(H,se)}function be(H){var se=b.useRef();return xe(H,se.current)||(se.current=H),se.current}function We(H,se){b.useLayoutEffect(H,se.map(be))}var Ke=function(H,se){var fe=b.useState(re),we=fe[0],Je=fe[1],Se=b.useRef(!1);we.shouldUpdatePosition=Se;var Ne=m(m({},ee),H),kt=function(ot){b.useLayoutEffect(function(){var nt;we[ot]=(nt=G==null?void 0:G[ot])===null||nt===void 0?void 0:nt.call(G,Ne[ot],we,Se),Je(m({},we))},z[ot].map(function(nt){return H[nt]}))};for(var Wn in ee)kt(Wn);var yt=b.useState(K),Lt=yt[0],Cn=yt[1],tt=w.getElemPos(we.start);We(function(){Lt.startPos=tt,Se.current=!0,Cn(m({},Lt))},[tt]);var Fe=w.getElemPos(we.end);return We(function(){Lt.endPos=Fe,Se.current=!0,Cn(m({},Lt))},[Fe]),b.useLayoutEffect(function(){Se.current=!0,Cn(m({},Lt))},[we.headShape.svgElem,we.tailShape.svgElem]),[we,Lt]};d.default=Ke},"./src/Xarrow/utils/GetPosition.tsx":function(f,d,h){var m=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(d,"__esModule",{value:!0}),d.getPosition=void 0;var g=h("./src/Xarrow/anchors.ts"),v=h("./src/Xarrow/utils/index.ts"),S=m(h("lodash")),M=h("./src/constants.tsx"),b=h("./src/Xarrow/utils/buzzier.js"),w=function(E,k){var _,T,D,A,F=E[0],U=E[1],le=F.startAnchor,ae=F.endAnchor,X=F.strokeWidth,oe=F.showHead,G=F.headSize,z=F.showTail,Z=F.tailSize,L=F.path,V=F.curveness,B=F.gridBreak,ee=F.headShape,re=F.tailShape,K=F._extendSVGcanvas,xe=F._cpx1Offset,be=F._cpy1Offset,We=F._cpx2Offset,Ke=F._cpy2Offset,H=U.startPos,se=U.endPos,fe=k.current,we=fe.svgRef,Je=fe.lineRef,Se=0,Ne=0,kt=g.calcAnchors(le,H),Wn=g.calcAnchors(ae,se),yt=v.getShortestLine(kt,Wn),Lt=yt.chosenStart,Cn=yt.chosenEnd,tt=Lt.anchor.position,Fe=Cn.anchor.position,ot=S.default.pick(Lt,["x","y"]),nt=S.default.pick(Cn,["x","y"]),En=v.getSvgPos(we),fn=Math.min(ot.x,nt.x)-En.x,ei=Math.min(ot.y,nt.y)-En.y,dn=nt.x-ot.x,Vt=nt.y-ot.y,pt=Math.abs(nt.x-ot.x),he=Math.abs(nt.y-ot.y),$e=dn>0?1:-1,Xe=Vt>0?1:-1,mi=[ee.offsetForward,re.offsetForward],W=mi[0],ce=mi[1],pe=G*X,Ce=Z*X,Pe=0,rt=0,ht=0,Ot=0,pn=pe*W,vt=Ce*ce,ut=Number(V);M.cPaths.includes(L)||(L="smooth"),L==="straight"&&(ut=0,L="smooth");var Mn=G>Z?G:Z,Dt=X+X*Mn/2,Un=Dt,At=Dt,Jt=Dt,no=Dt;At+=Number(K),Un+=Number(K),Jt+=Number(K),no+=Number(K);var Nn=0,Kn=pt,On=0,qn=he;if(dn<0&&(_=[Kn,Nn],Nn=_[0],Kn=_[1]),Vt<0&&(T=[qn,On],On=T[0],qn=T[1]),ut===0){var _r=Math.atan(he/pt);oe&&(Kn-=pe*(1-W)*$e*Math.cos(_r),qn-=pe*(1-W)*Xe*Math.sin(_r),_r*=Xe,$e<0&&(_r=(Math.PI-_r*$e)*$e),Pe=Math.cos(_r)*pn-Math.sin(_r)*pe/2,rt=Math.cos(_r)*pe/2+Math.sin(_r)*pn,Se=_r*180/Math.PI);var Pr=Math.atan(he/pt);z&&(Nn+=Ce*(1-ce)*$e*Math.cos(Pr),On+=Ce*(1-ce)*Xe*Math.sin(Pr),Pr*=-Xe,$e>0&&(Pr=(Math.PI-Pr*$e)*$e),ht=Math.cos(Pr)*vt-Math.sin(Pr)*Ce/2,Ot=Math.cos(Pr)*Ce/2+Math.sin(Pr)*vt,Ne=Pr*180/Math.PI)}else Fe==="middle"&&(pt>he?Fe="left":Fe="top"),oe&&(["left","right"].includes(Fe)?(Pe+=pn*$e,Kn-=pe*(1-W)*$e,rt+=pe*$e/2,Fe==="left"?(Se=0,$e<0&&(Se+=180)):(Se=180,$e>0&&(Se+=180))):["top","bottom"].includes(Fe)&&(Pe+=pe*-Xe/2,rt+=pn*Xe,qn-=pe*Xe-rt,Fe==="top"?(Se=270,Xe>0&&(Se+=180)):(Se=90,Xe<0&&(Se+=180))));z&&ut!==0&&(["left","right"].includes(tt)?(ht+=vt*-$e,Nn+=Ce*$e+ht,Ot+=-(Ce*$e)/2,tt==="left"?(Ne=180,$e<0&&(Ne+=180)):(Ne=0,$e>0&&(Ne+=180))):["top","bottom"].includes(tt)&&(Ot+=vt*-Xe,On+=Ce*Xe+Ot,ht+=Ce*Xe/2,tt==="top"?(Ne=90,Xe>0&&(Ne+=180)):(Ne=270,Xe<0&&(Ne+=180))));var wp={x:Pe,y:rt},bp={x:ht,y:Ot},Tn=Nn,_n=On,Xn=Kn,Pn=qn,la={};L==="smooth"?la={hh:function(){Tn+=pt*ut*$e,Xn-=pt*ut*$e},vv:function(){_n+=he*ut*Xe,Pn-=he*ut*Xe},hv:function(){Tn+=pt*ut*$e,Pn-=he*ut*Xe},vh:function(){_n+=he*ut*Xe,Xn-=pt*ut*$e}}:L==="grid"&&(la={hh:function(){Tn+=(pt*B.relative+B.abs)*$e,Xn-=(pt*(1-B.relative)-B.abs)*$e,oe&&(Tn-=pe*(1-W)/2*$e,Xn+=pe*(1-W)/2*$e),z&&(Tn-=Ce*(1-ce)/2*$e,Xn+=Ce*(1-ce)/2*$e)},vv:function(){_n+=(he*B.relative+B.abs)*Xe,Pn-=(he*(1-B.relative)-B.abs)*Xe,oe&&(_n-=pe*(1-W)/2*Xe,Pn+=pe*(1-W)/2*Xe),z&&(_n-=Ce*(1-ce)/2*Xe,Pn+=Ce*(1-ce)/2*Xe)},hv:function(){Tn=Kn},vh:function(){_n=qn}});var ur="";["left","right"].includes(tt)?ur+="h":["bottom","top"].includes(tt)?ur+="v":tt==="middle"&&(ur+="m"),["left","right"].includes(Fe)?ur+="h":["bottom","top"].includes(Fe)?ur+="v":Fe==="middle"&&(ur+="m"),pt>he?ur=ur.replace(/m/g,"h"):ur=ur.replace(/m/g,"v"),la[ur](),Tn+=xe,_n+=be,Xn+=We,Pn+=Ke;var Ju=b.buzzierMinSols(Nn,Tn,Xn,Kn),Qu=Ju[0],Zu=Ju[1],ec=b.buzzierMinSols(On,_n,Pn,qn),ro=ec[0],tc=ec[1];Qu<0&&(At+=-Qu),Zu>pt&&(Un+=Zu-pt),ro<0&&(Jt+=-ro),tc>he&&(no+=tc-he),L==="grid"&&(At+=Dt,Un+=Dt,Jt+=Dt,no+=Dt),Nn+=At,Kn+=At,On+=Jt,qn+=Jt,Tn+=At,Xn+=At,_n+=Jt,Pn+=Jt;var Ko=pt+At+Un,Sp=he+Jt+no;fn-=At,ei-=Jt;var aa=b.bzFunction(Nn,Tn,Xn,Kn),ua=b.bzFunction(On,_n,Pn,qn),nc={x:aa(.01),y:ua(.01)},rc={x:aa(.5),y:ua(.5)},ic={x:aa(.99),y:ua(.99)},ca;return L==="grid"?ca="M "+Nn+" "+On+" L  "+Tn+" "+_n+" L "+Xn+" "+Pn+" "+Kn+" "+qn:L==="smooth"&&(ca="M "+Nn+" "+On+" C "+Tn+" "+_n+", "+Xn+" "+Pn+", "+Kn+" "+qn),{cx0:fn,cy0:ei,x1:Nn,x2:Kn,y1:On,y2:qn,cw:Ko,ch:Sp,cpx1:Tn,cpy1:_n,cpx2:Xn,cpy2:Pn,dx:dn,dy:Vt,absDx:pt,absDy:he,headOrient:Se,tailOrient:Ne,labelStartPos:nc,labelMiddlePos:rc,labelEndPos:ic,excLeft:At,excRight:Un,excUp:Jt,excDown:no,headOffset:pn,arrowHeadOffset:wp,arrowTailOffset:bp,startPoints:kt,endPoints:Wn,mainDivPos:En,xSign:$e,ySign:Xe,lineLength:(A=(D=Je.current)===null||D===void 0?void 0:D.getTotalLength())!==null&&A!==void 0?A:0,fHeadSize:pe,fTailSize:Ce,arrowPath:ca}};d.getPosition=w},"./src/Xarrow/utils/index.ts":function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getSvgPos=d.getElemPos=d.getShortestLine=d.xStr2absRelative=d.factorDpathStr=d.getElementByPropGiven=void 0;var h=function(w){var E;return typeof w=="string"?E=document.getElementById(w):E=w==null?void 0:w.current,E};d.getElementByPropGiven=h;var m=function(w,E){var k=w.split(/(\d+(?:\.\d+)?)/);return k=k.map(function(_){return Number(_)?(Number(_)*E).toString():_}),k.join("")};d.factorDpathStr=m;var g=function(w){if(typeof w!="string")return{abs:0,relative:.5};var E=w.split("%"),k=0,_=0;if(E.length==1){var T=parseFloat(E[0]);if(!isNaN(T))return k=T,{abs:k,relative:0}}else if(E.length==2){var D=[parseFloat(E[0]),parseFloat(E[1])],A=D[0],F=D[1];if(isNaN(A)||(_=A/100),isNaN(F)||(k=F),!isNaN(A)||!isNaN(F))return{abs:k,relative:_}}};d.xStr2absRelative=g;var v=function(w,E){return Math.sqrt(Math.pow(w.x-E.x,2)+Math.pow(w.y-E.y,2))},S=function(w,E){var k=1/0,_=1/0,T;return w.forEach(function(D){E.forEach(function(A){_=v(D,A),_<k&&(k=_,T={chosenStart:D,chosenEnd:A})})}),T};d.getShortestLine=S;var M=function(w){if(!w)return{x:0,y:0,right:0,bottom:0};var E=w.getBoundingClientRect();return{x:E.left,y:E.top,right:E.right,bottom:E.bottom}};d.getElemPos=M;var b=function(w){if(!w.current)return{x:0,y:0};var E=w.current.getBoundingClientRect(),k=E.left,_=E.top,T=getComputedStyle(w.current),D=Number(T.left.slice(0,-2)),A=Number(T.top.slice(0,-2));return{x:k-D,y:_-A}};d.getSvgPos=b},"./src/Xwrapper.tsx":function(f,d,h){var m=this&&this.__createBinding||(Object.create?function(_,T,D,A){A===void 0&&(A=D),Object.defineProperty(_,A,{enumerable:!0,get:function(){return T[D]}})}:function(_,T,D,A){A===void 0&&(A=D),_[A]=T[D]}),g=this&&this.__setModuleDefault||(Object.create?function(_,T){Object.defineProperty(_,"default",{enumerable:!0,value:T})}:function(_,T){_.default=T}),v=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var T={};if(_!=null)for(var D in _)D!=="default"&&Object.prototype.hasOwnProperty.call(_,D)&&m(T,_,D);return g(T,_),T};Object.defineProperty(d,"__esModule",{value:!0}),d.XarrowContext=d.XelemContext=void 0;var S=v(h("react"));d.XelemContext=S.default.createContext(null),d.XarrowContext=S.default.createContext(null);var M={},b=0,w=function(_){var T=_.children,D=_.instanceCount,A=S.useState({}),F=A[1],U=function(){return F({})};return S.useEffect(function(){D.current=b,M[D.current]=U},[]),S.default.createElement(d.XarrowContext.Provider,{value:U},T)},E=function(_){var T=_.children,D=_.instanceCount;return S.default.createElement(d.XelemContext.Provider,{value:M[D.current]},T)},k=function(_){var T=_.children,D=S.useRef(b),A=S.useState({}),F=A[1];return S.useEffect(function(){return b++,F({}),function(){delete M[D.current]}},[]),S.default.createElement(E,{instanceCount:D},S.default.createElement(w,{instanceCount:D},T))};d.default=k},"./src/constants.tsx":function(f,d,h){var m=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(d,"__esModule",{value:!0}),d.cArrowShapes=d.arrowShapes=d.cSvgElems=d.cPaths=d.cAnchorEdge=void 0;var g=m(h("react"));d.cAnchorEdge=["middle","left","right","top","bottom","auto"],d.cPaths=["smooth","grid","straight"],d.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],d.arrowShapes={arrow1:{svgElem:g.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:g.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:g.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},d.cArrowShapes=Object.keys(d.arrowShapes)},"./src/index.tsx":function(f,d,h){var m=this&&this.__createBinding||(Object.create?function(w,E,k,_){_===void 0&&(_=k),Object.defineProperty(w,_,{enumerable:!0,get:function(){return E[k]}})}:function(w,E,k,_){_===void 0&&(_=k),w[_]=E[k]}),g=this&&this.__exportStar||function(w,E){for(var k in w)k!=="default"&&!Object.prototype.hasOwnProperty.call(E,k)&&m(E,w,k)},v=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(d,"__esModule",{value:!0}),d.useXarrow=d.Xwrapper=d.default=void 0;var S=h("./src/Xarrow/Xarrow.tsx");Object.defineProperty(d,"default",{enumerable:!0,get:function(){return v(S).default}}),g(h("./src/types.ts"),d),g(h("./src/constants.tsx"),d);var M=h("./src/Xwrapper.tsx");Object.defineProperty(d,"Xwrapper",{enumerable:!0,get:function(){return v(M).default}});var b=h("./src/useXarrow.tsx");Object.defineProperty(d,"useXarrow",{enumerable:!0,get:function(){return v(b).default}})},"./src/types.ts":function(f,d){Object.defineProperty(d,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(f,d,h){Object.defineProperty(d,"__esModule",{value:!0});var m=h("react"),g=h("./src/Xwrapper.tsx"),v=function(){var S=m.useState({}),M=S[1],b=function(){return M({})},w=m.useContext(g.XelemContext);return w||(w=function(){}),m.useLayoutEffect(function(){w()}),b};d.default=v},lodash:function(f){f.exports=r},"prop-types":function(f){f.exports=i},react:function(f){f.exports=n}},o={};function a(f){var d=o[f];if(d!==void 0)return d.exports;var h=o[f]={id:f,loaded:!1,exports:{}};return s[f].call(h.exports,h,h.exports,a),h.loaded=!0,h.exports}a.c=o,function(){a.d=function(f,d){for(var h in d)a.o(d,h)&&!a.o(f,h)&&Object.defineProperty(f,h,{enumerable:!0,get:d[h]})}}(),function(){a.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)}}(),function(){a.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})}}(),function(){a.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f}}();var c=a(a.s="./src/index.tsx");return c}()})})(YC);var jg=YC.exports;const Tj=Ad(jg);function _j(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const Pj=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Bs(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let al=null;function JC(t={}){return al||(t.includeStyleProperties?(al=t.includeStyleProperties,al):(al=Bs(window.getComputedStyle(document.documentElement)),al))}function fd(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Dj(t){const e=fd(t,"border-left-width"),n=fd(t,"border-right-width");return t.clientWidth+e+n}function Aj(t){const e=fd(t,"border-top-width"),n=fd(t,"border-bottom-width");return t.clientHeight+e+n}function QC(t,e={}){const n=e.width||Dj(t),r=e.height||Aj(t);return{width:n,height:r}}function Rj(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const gr=16384;function Ij(t){(t.width>gr||t.height>gr)&&(t.width>gr&&t.height>gr?t.width>t.height?(t.height*=gr/t.width,t.width=gr):(t.width*=gr/t.height,t.height=gr):t.width>gr?(t.height*=gr/t.width,t.width=gr):(t.width*=gr/t.height,t.height=gr))}function dd(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function jj(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Lj(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),jj(i)}const ir=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||ir(n,e)};function zj(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Bj(t,e){return JC(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function Fj(t,e,n,r){const i=`.${t}:${e}`,s=n.cssText?zj(n):Bj(n,r);return document.createTextNode(`${i}{${s}}`)}function Iw(t,e,n,r){const i=window.getComputedStyle(t,n),s=i.getPropertyValue("content");if(s===""||s==="none")return;const o=Pj();try{e.className=`${e.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(Fj(o,n,i,r)),e.appendChild(a)}function $j(t,e,n){Iw(t,e,":before",n),Iw(t,e,":after",n)}const jw="application/font-woff",Lw="image/jpeg",Vj={woff:jw,woff2:jw,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Lw,jpeg:Lw,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Hj(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function ly(t){const e=Hj(t).toLowerCase();return Vj[e]||""}function Wj(t){return t.split(/,/)[1]}function Lg(t){return t.search(/^(data:)/)!==-1}function Uj(t,e){return`data:${e};base64,${t}`}async function ZC(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,o)=>{const a=new FileReader;a.onerror=o,a.onloadend=()=>{try{s(n({res:r,result:a.result}))}catch(c){o(c)}},a.readAsDataURL(i)})}const am={};function Kj(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function ay(t,e,n){const r=Kj(t,e,n.includeQueryParams);if(am[r]!=null)return am[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await ZC(t,n.fetchRequestInit,({res:o,result:a})=>(e||(e=o.headers.get("Content-Type")||""),Wj(a)));i=Uj(s,e)}catch(s){i=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return am[r]=i,i}async function qj(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):dd(e)}async function Xj(t,e){if(t.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,o==null||o.drawImage(t,0,0,s.width,s.height);const a=s.toDataURL();return dd(a)}const n=t.poster,r=ly(n),i=await ay(n,r,e);return dd(i)}async function Gj(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await Qd(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function Yj(t,e){return ir(t,HTMLCanvasElement)?qj(t):ir(t,HTMLVideoElement)?Xj(t,e):ir(t,HTMLIFrameElement)?Gj(t,e):t.cloneNode(e2(t))}const Jj=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",e2=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function Qj(t,e,n){var r,i;if(e2(e))return e;let s=[];return Jj(t)&&t.assignedNodes?s=Bs(t.assignedNodes()):ir(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=Bs(t.contentDocument.body.childNodes):s=Bs(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||ir(t,HTMLVideoElement)||await s.reduce((o,a)=>o.then(()=>Qd(a,n)).then(c=>{c&&e.appendChild(c)}),Promise.resolve()),e}function Zj(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):JC(n).forEach(s=>{let o=i.getPropertyValue(s);s==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ir(t,HTMLIFrameElement)&&s==="display"&&o==="inline"&&(o="block"),s==="d"&&e.getAttribute("d")&&(o=`path(${e.getAttribute("d")})`),r.setProperty(s,o,i.getPropertyPriority(s))})}function eL(t,e){ir(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),ir(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function tL(t,e){if(ir(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function nL(t,e,n){return ir(e,Element)&&(Zj(t,e,n),$j(t,e,n),eL(t,e),tL(t,e)),e}async function rL(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const a=n[s].getAttribute("xlink:href");if(a){const c=t.querySelector(a),f=document.querySelector(a);!c&&f&&!r[a]&&(r[a]=await Qd(f,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const a=document.createElementNS(s,"defs");o.appendChild(a);for(let c=0;c<i.length;c++)a.appendChild(i[c]);t.appendChild(o)}return t}async function Qd(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>Yj(r,e)).then(r=>Qj(t,r,e)).then(r=>nL(t,r,e)).then(r=>rL(r,e))}const t2=/url\((['"]?)([^'"]+?)\1\)/g,iL=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,sL=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function oL(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function lL(t){const e=[];return t.replace(t2,(n,r,i)=>(e.push(i),n)),e.filter(n=>!Lg(n))}async function aL(t,e,n,r,i){try{const s=n?_j(e,n):e,o=ly(e);let a;return i||(a=await ay(s,o,r)),t.replace(oL(e),`$1${a}$3`)}catch{}return t}function uL(t,{preferredFontFormat:e}){return e?t.replace(sL,n=>{for(;;){const[r,,i]=iL.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function n2(t){return t.search(t2)!==-1}async function r2(t,e,n){if(!n2(t))return t;const r=uL(t,n);return lL(r).reduce((s,o)=>s.then(a=>aL(a,o,e,n)),Promise.resolve(r))}async function ul(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await r2(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function cL(t,e){await ul("background",t,e)||await ul("background-image",t,e),await ul("mask",t,e)||await ul("-webkit-mask",t,e)||await ul("mask-image",t,e)||await ul("-webkit-mask-image",t,e)}async function fL(t,e){const n=ir(t,HTMLImageElement);if(!(n&&!Lg(t.src))&&!(ir(t,SVGImageElement)&&!Lg(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await ay(r,ly(r),e);await new Promise((s,o)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...c)=>{try{s(e.onImageErrorHandler(...c))}catch(f){o(f)}}:o;const a=t;a.decode&&(a.decode=s),a.loading==="lazy"&&(a.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function dL(t,e){const r=Bs(t.childNodes).map(i=>i2(i,e));await Promise.all(r).then(()=>t)}async function i2(t,e){ir(t,Element)&&(await cL(t,e),await fL(t,e),await dL(t,e))}function pL(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const zw={};async function Bw(t){let e=zw[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},zw[t]=e,e}async function Fw(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),ZC(a,e.fetchRequestInit,({result:c})=>(n=n.replace(o,`url(${c})`),[o,c]))});return Promise.all(s).then(()=>n)}function $w(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=i.exec(r);if(c===null)break;e.push(c[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(o,"gi");for(;;){let c=s.exec(r);if(c===null){if(c=a.exec(r),c===null)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;e.push(c[0])}return e}async function hL(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{Bs(i.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let a=o+1;const c=s.href,f=Bw(c).then(d=>Fw(d,e)).then(d=>$w(d).forEach(h=>{try{i.insertRule(h,h.startsWith("@import")?a+=1:i.cssRules.length)}catch(m){console.error("Error inserting rule from remote css",{rule:h,error:m})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(f)}})}catch(s){const o=t.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(Bw(i.href).then(a=>Fw(a,e)).then(a=>$w(a).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{Bs(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function mL(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>n2(e.style.getPropertyValue("src")))}async function gL(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Bs(t.ownerDocument.styleSheets),r=await hL(n,e);return mL(r)}function s2(t){return t.trim().replace(/["']/g,"")}function yL(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(s2(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function vL(t,e){const n=await gL(t,e),r=yL(t);return(await Promise.all(n.filter(s=>r.has(s2(s.style.fontFamily))).map(s=>{const o=s.parentStyleSheet?s.parentStyleSheet.href:null;return r2(s.cssText,o,e)}))).join(`
`)}async function xL(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await vL(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function wL(t,e={}){const{width:n,height:r}=QC(t,e),i=await Qd(t,e,!0);return await xL(i,e),await i2(i,e),pL(i,e),await Lj(i,n,r)}async function bL(t,e={}){const{width:n,height:r}=QC(t,e),i=await wL(t,e),s=await dd(i),o=document.createElement("canvas"),a=o.getContext("2d"),c=e.pixelRatio||Rj(),f=e.canvasWidth||n,d=e.canvasHeight||r;return o.width=f*c,o.height=d*c,e.skipAutoScale||Ij(o),o.style.width=`${f}`,o.style.height=`${d}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,o.width,o.height)),a.drawImage(s,0,0,o.width,o.height),o}async function o2(t,e={}){return(await bL(t,e)).toDataURL()}var Zd={exports:{}},l2={},zg={exports:{}};function a2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vw(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a2(t))&&(r&&(r+=" "),r+=e);return r}zg.exports=Vw,zg.exports.clsx=Vw;var SL=zg.exports,Nt={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.dontSetMe=NL;Pi.findInArray=kL;Pi.int=ML;Pi.isFunction=CL;Pi.isNum=EL;function kL(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function CL(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function EL(t){return typeof t=="number"&&!isNaN(t)}function ML(t){return parseInt(t,10)}function NL(t,e,n){if(t[e])return new Error(`Invalid prop ${e} passed to ${n} - do not set this, set it on the child.`)}var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.browserPrefixToKey=c2;Wo.browserPrefixToStyle=OL;Wo.default=void 0;Wo.getPrefix=u2;const um=["Moz","Webkit","O","ms"];function u2(){var n,r;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!e||t in e)return"";for(let i=0;i<um.length;i++)if(c2(t,um[i])in e)return um[i];return""}function c2(t,e){return e?`${e}${TL(t)}`:t}function OL(t,e){return e?`-${e.toLowerCase()}-${t}`:t}function TL(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Wo.default=u2();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.addClassName=p2;Nt.addEvent=PL;Nt.addUserSelectStyles=VL;Nt.createCSSTransform=zL;Nt.createSVGTransform=BL;Nt.getTouch=FL;Nt.getTouchIdentifier=$L;Nt.getTranslation=uy;Nt.innerHeight=IL;Nt.innerWidth=jL;Nt.matchesSelector=d2;Nt.matchesSelectorAndParentsTo=_L;Nt.offsetXYFromParent=LL;Nt.outerHeight=AL;Nt.outerWidth=RL;Nt.removeClassName=h2;Nt.removeEvent=DL;Nt.scheduleRemoveUserSelectStyles=HL;var Cr=Pi,Hw=f2(Wo);function f2(t,e){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(f2=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=s?r:n){if(o.has(i))return o.get(i);o.set(i,c)}for(const f in i)f!=="default"&&{}.hasOwnProperty.call(i,f)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,f))&&(a.get||a.set)?o(c,f,a):c[f]=i[f]);return c})(t,e)}let ff="";function d2(t,e){return ff||(ff=(0,Cr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Cr.isFunction)(t[n])})),(0,Cr.isFunction)(t[ff])?t[ff](e):!1}function _L(t,e,n){let r=t;do{if(d2(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function PL(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function DL(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function AL(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Cr.int)(n.borderTopWidth),e+=(0,Cr.int)(n.borderBottomWidth),e}function RL(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,Cr.int)(n.borderLeftWidth),e+=(0,Cr.int)(n.borderRightWidth),e}function IL(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Cr.int)(n.paddingTop),e-=(0,Cr.int)(n.paddingBottom),e}function jL(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,Cr.int)(n.paddingLeft),e-=(0,Cr.int)(n.paddingRight),e}function LL(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(t.clientX+e.scrollLeft-i.left)/n,o=(t.clientY+e.scrollTop-i.top)/n;return{x:s,y:o}}function zL(t,e){const n=uy(t,e,"px");return{[(0,Hw.browserPrefixToKey)("transform",Hw.default)]:n}}function BL(t,e){return uy(t,e,"")}function uy(t,e,n){let{x:r,y:i}=t,s=`translate(${r}${n},${i}${n})`;if(e){const o=`${typeof e.x=="string"?e.x:e.x+n}`,a=`${typeof e.y=="string"?e.y:e.y+n}`;s=`translate(${o}, ${a})`+s}return s}function FL(t,e){return t.targetTouches&&(0,Cr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,Cr.findInArray)(t.changedTouches,n=>e===n.identifier)}function $L(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function VL(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&p2(t.body,"react-draggable-transparent-selection")}function HL(t){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Ww(t)}):Ww(t)}function Ww(t){if(t)try{if(t.body&&h2(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function p2(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(t.className+=` ${e}`)}function h2(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.canDragX=KL;Di.canDragY=qL;Di.createCoreData=GL;Di.createDraggableData=YL;Di.getBoundPosition=WL;Di.getControlPosition=XL;Di.snapToGrid=UL;var yr=Pi,Tl=Nt;function WL(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:JL(r);const i=cy(t);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=i.getRootNode().querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,f=o.getComputedStyle(i),d=o.getComputedStyle(c);r={left:-i.offsetLeft+(0,yr.int)(d.paddingLeft)+(0,yr.int)(f.marginLeft),top:-i.offsetTop+(0,yr.int)(d.paddingTop)+(0,yr.int)(f.marginTop),right:(0,Tl.innerWidth)(c)-(0,Tl.outerWidth)(i)-i.offsetLeft+(0,yr.int)(d.paddingRight)-(0,yr.int)(f.marginRight),bottom:(0,Tl.innerHeight)(c)-(0,Tl.outerHeight)(i)-i.offsetTop+(0,yr.int)(d.paddingBottom)-(0,yr.int)(f.marginBottom)}}return(0,yr.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,yr.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,yr.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,yr.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function UL(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function KL(t){return t.props.axis==="both"||t.props.axis==="x"}function qL(t){return t.props.axis==="both"||t.props.axis==="y"}function XL(t,e,n){const r=typeof e=="number"?(0,Tl.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=cy(n),s=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Tl.offsetXYFromParent)(r||t,s,n.props.scale)}function GL(t,e,n){const r=!(0,yr.isNum)(t.lastX),i=cy(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function YL(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function JL(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function cy(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var ep={},tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.default=QL;function QL(){}Object.defineProperty(ep,"__esModule",{value:!0});ep.default=void 0;var cm=m2(Y),In=fy(Vu()),ZL=fy(Yd),vn=Nt,gs=Di,fm=Pi,Ra=fy(tp);function fy(t){return t&&t.__esModule?t:{default:t}}function m2(t,e){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(m2=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=s?r:n){if(o.has(i))return o.get(i);o.set(i,c)}for(const f in i)f!=="default"&&{}.hasOwnProperty.call(i,f)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,f))&&(a.get||a.set)?o(c,f,a):c[f]=i[f]);return c})(t,e)}function jn(t,e,n){return(e=ez(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t){var e=tz(t,"string");return typeof e=="symbol"?e:e+""}function tz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const oi={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ys=oi.mouse,np=class extends cm.Component{constructor(){super(...arguments),jn(this,"dragging",!1),jn(this,"lastX",NaN),jn(this,"lastY",NaN),jn(this,"touchIdentifier",null),jn(this,"mounted",!1),jn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,vn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,vn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const i=(0,vn.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,gs.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,c=(0,gs.createCoreData)(this,o,a);(0,Ra.default)("DraggableCore: handleDragStart: %j",c),(0,Ra.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,vn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,vn.addEvent)(r,ys.move,this.handleDrag),(0,vn.addEvent)(r,ys.stop,this.handleDragStop))}),jn(this,"handleDrag",e=>{const n=(0,gs.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=i-this.lastY;if([a,c]=(0,gs.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,i=this.lastY+c}const s=(0,gs.createCoreData)(this,r,i);if((0,Ra.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=i}),jn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,gs.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,f=i-this.lastY||0;[c,f]=(0,gs.snapToGrid)(this.props.grid,c,f),r=this.lastX+c,i=this.lastY+f}const s=(0,gs.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,vn.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,Ra.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Ra.default)("DraggableCore: Removing handlers"),(0,vn.removeEvent)(a.ownerDocument,ys.move,this.handleDrag),(0,vn.removeEvent)(a.ownerDocument,ys.stop,this.handleDragStop))}),jn(this,"onMouseDown",e=>(ys=oi.mouse,this.handleDragStart(e))),jn(this,"onMouseUp",e=>(ys=oi.mouse,this.handleDragStop(e))),jn(this,"onTouchStart",e=>(ys=oi.touch,this.handleDragStart(e))),jn(this,"onTouchEnd",e=>(ys=oi.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,vn.addEvent)(e,oi.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,vn.removeEvent)(n,oi.mouse.move,this.handleDrag),(0,vn.removeEvent)(n,oi.touch.move,this.handleDrag),(0,vn.removeEvent)(n,oi.mouse.stop,this.handleDragStop),(0,vn.removeEvent)(n,oi.touch.stop,this.handleDragStop),(0,vn.removeEvent)(e,oi.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,vn.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var e,n,r;return(e=this.props)!=null&&e.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:ZL.default.findDOMNode(this)}render(){return cm.cloneElement(cm.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ep.default=np;jn(np,"displayName","DraggableCore");jn(np,"propTypes",{allowAnyClick:In.default.bool,allowMobileScroll:In.default.bool,children:In.default.node.isRequired,disabled:In.default.bool,enableUserSelectHack:In.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:In.default.arrayOf(In.default.number),handle:In.default.string,cancel:In.default.string,nodeRef:In.default.object,onStart:In.default.func,onDrag:In.default.func,onStop:In.default.func,onMouseDown:In.default.func,scale:In.default.number,className:fm.dontSetMe,style:fm.dontSetMe,transform:fm.dontSetMe});jn(np,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=h(Y),n=d(Vu()),r=d(Yd),i=SL,s=Nt,o=Di,a=Pi,c=d(ep),f=d(tp);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,w){if(typeof WeakMap=="function")var E=new WeakMap,k=new WeakMap;return(h=function(_,T){if(!T&&_&&_.__esModule)return _;var D,A,F={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return F;if(D=T?k:E){if(D.has(_))return D.get(_);D.set(_,F)}for(const U in _)U!=="default"&&{}.hasOwnProperty.call(_,U)&&((A=(D=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,U))&&(A.get||A.set)?D(F,U,A):F[U]=_[U]);return F})(b,w)}function m(){return m=Object.assign?Object.assign.bind():function(b){for(var w=1;w<arguments.length;w++){var E=arguments[w];for(var k in E)({}).hasOwnProperty.call(E,k)&&(b[k]=E[k])}return b},m.apply(null,arguments)}function g(b,w,E){return(w=v(w))in b?Object.defineProperty(b,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[w]=E,b}function v(b){var w=S(b,"string");return typeof w=="symbol"?w:w+""}function S(b,w){if(typeof b!="object"||!b)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var k=E.call(b,w);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(b)}class M extends e.Component{static getDerivedStateFromProps(w,E){let{position:k}=w,{prevPropsPosition:_}=E;return k&&(!_||k.x!==_.x||k.y!==_.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:_}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(w){super(w),g(this,"onDragStart",(E,k)=>{if((0,f.default)("Draggable: onDragStart: %j",k),this.props.onStart(E,(0,o.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(E,k)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",k);const _=(0,o.createDraggableData)(this,k),T={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:A,y:F}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[U,le]=(0,o.getBoundPosition)(this,T.x,T.y);T.x=U,T.y=le,T.slackX=this.state.slackX+(A-T.x),T.slackY=this.state.slackY+(F-T.y),_.x=T.x,_.y=T.y,_.deltaX=T.x-this.state.x,_.deltaY=T.y-this.state.y}if(this.props.onDrag(E,_)===!1)return!1;this.setState(T)}),g(this,"onDragStop",(E,k)=>{if(!this.state.dragging||this.props.onStop(E,(0,o.createDraggableData)(this,k))===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",k);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:A,y:F}=this.props.position;T.x=A,T.y=F}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var w,E;return((E=(w=this.props)==null?void 0:w.nodeRef)==null?void 0:E.current)??r.default.findDOMNode(this)}render(){const{axis:w,bounds:E,children:k,defaultPosition:_,defaultClassName:T,defaultClassNameDragging:D,defaultClassNameDragged:A,position:F,positionOffset:U,scale:le,...ae}=this.props;let X={},oe=null;const z=!!!F||this.state.dragging,Z=F||_,L={x:(0,o.canDragX)(this)&&z?this.state.x:Z.x,y:(0,o.canDragY)(this)&&z?this.state.y:Z.y};this.state.isElementSVG?oe=(0,s.createSVGTransform)(L,U):X=(0,s.createCSSTransform)(L,U);const V=(0,i.clsx)(k.props.className||"",T,{[D]:this.state.dragging,[A]:this.state.dragged});return e.createElement(c.default,m({},ae,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:V,style:{...k.props.style,...X},transform:oe}))}}t.default=M,g(M,"displayName","Draggable"),g(M,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(M,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(l2);const{default:g2,DraggableCore:nz}=l2;Zd.exports=g2;Zd.exports.default=g2;Zd.exports.DraggableCore=nz;var y2=Zd.exports;const v2=Ad(y2);var dy={exports:{}},Hu={},py={};py.__esModule=!0;py.cloneElement=az;var rz=iz(Y);function iz(t){return t&&t.__esModule?t:{default:t}}function Uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uw(Object(n),!0).forEach(function(r){sz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sz(t,e,n){return(e=oz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=lz(t,"string");return typeof e=="symbol"?e:e+""}function lz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function az(t,e){return e.style&&t.props.style&&(e.style=Kw(Kw({},t.props.style),e.style)),e.className&&t.props.className&&(e.className=`${t.props.className} ${e.className}`),rz.default.cloneElement(t,e)}var Wu={};Wu.__esModule=!0;Wu.resizableProps=void 0;var je=uz(Vu());function uz(t){return t&&t.__esModule?t:{default:t}}Wu.resizableProps={axis:je.default.oneOf(["both","x","y","none"]),className:je.default.string,children:je.default.element.isRequired,draggableOpts:je.default.shape({allowAnyClick:je.default.bool,cancel:je.default.string,children:je.default.node,disabled:je.default.bool,enableUserSelectHack:je.default.bool,offsetParent:typeof Element<"u"?je.default.instanceOf(Element):je.default.any,grid:je.default.arrayOf(je.default.number),handle:je.default.string,nodeRef:je.default.object,onStart:je.default.func,onDrag:je.default.func,onStop:je.default.func,onMouseDown:je.default.func,scale:je.default.number}),height:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r]=e;return r.axis==="both"||r.axis==="y"?je.default.number.isRequired(...e):je.default.number(...e)},handle:je.default.oneOfType([je.default.node,je.default.func]),handleSize:je.default.arrayOf(je.default.number),lockAspectRatio:je.default.bool,maxConstraints:je.default.arrayOf(je.default.number),minConstraints:je.default.arrayOf(je.default.number),onResizeStop:je.default.func,onResizeStart:je.default.func,onResize:je.default.func,resizeHandles:je.default.arrayOf(je.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:je.default.number,width:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r]=e;return r.axis==="both"||r.axis==="x"?je.default.number.isRequired(...e):je.default.number(...e)}};Hu.__esModule=!0;Hu.default=void 0;var cl=x2(Y),cz=y2,fz=py,dz=Wu;const pz=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function x2(t,e){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(x2=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=s?r:n){if(o.has(i))return o.get(i);o.set(i,c)}for(const f in i)f!=="default"&&{}.hasOwnProperty.call(i,f)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,f))&&(a.get||a.set)?o(c,f,a):c[f]=i[f]);return c})(t,e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}function hz(t,e){if(t==null)return{};var n,r,i=mz(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(n),!0).forEach(function(r){gz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gz(t,e,n){return(e=yz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yz(t){var e=vz(t,"string");return typeof e=="symbol"?e:e+""}function vz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let hy=class extends cl.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(e,n){const{minConstraints:r,maxConstraints:i,lockAspectRatio:s}=this.props;if(!r&&!i&&!s)return[e,n];if(s){const d=this.props.width/this.props.height,h=e-this.props.width,m=n-this.props.height;Math.abs(h)>Math.abs(m*d)?n=e/d:e=n*d}const[o,a]=[e,n];let[c,f]=this.slack||[0,0];return e+=c,n+=f,r&&(e=Math.max(r[0],e),n=Math.max(r[1],n)),i&&(e=Math.min(i[0],e),n=Math.min(i[1],n)),this.slack=[c+(o-e),f+(a-n)],[e,n]}resizeHandler(e,n){return(r,i)=>{var w;let{node:s,deltaX:o,deltaY:a}=i;e==="onResizeStart"&&this.resetData();const c=(this.props.axis==="both"||this.props.axis==="x")&&n!=="n"&&n!=="s",f=(this.props.axis==="both"||this.props.axis==="y")&&n!=="e"&&n!=="w";if(!c&&!f)return;const d=n[0],h=n[n.length-1],m=s.getBoundingClientRect();if(this.lastHandleRect!=null){if(h==="w"){const E=m.left-this.lastHandleRect.left;o+=E}if(d==="n"){const E=m.top-this.lastHandleRect.top;a+=E}}this.lastHandleRect=m,h==="w"&&(o=-o),d==="n"&&(a=-a);let g=this.props.width+(c?o/this.props.transformScale:0),v=this.props.height+(f?a/this.props.transformScale:0);[g,v]=this.runConstraints(g,v),e==="onResizeStop"&&this.lastSize&&({width:g,height:v}=this.lastSize);const S=g!==this.props.width||v!==this.props.height;e!=="onResizeStop"&&(this.lastSize={width:g,height:v});const M=typeof this.props[e]=="function"?this.props[e]:null;M&&!(e==="onResize"&&!S)&&((w=r.persist)==null||w.call(r),M(r,{node:s,size:{width:g,height:v},handle:n})),e==="onResizeStop"&&this.resetData()}}renderResizeHandle(e,n){const{handle:r}=this.props;if(!r)return cl.createElement("span",{className:`react-resizable-handle react-resizable-handle-${e}`,ref:n});if(typeof r=="function")return r(e,n);const i=typeof r.type=="string",s=dm({ref:n},i?{}:{handleAxis:e});return cl.cloneElement(r,s)}render(){const e=this.props,{children:n,className:r,draggableOpts:i,width:s,height:o,handle:a,handleSize:c,lockAspectRatio:f,axis:d,minConstraints:h,maxConstraints:m,onResize:g,onResizeStop:v,onResizeStart:S,resizeHandles:M,transformScale:b}=e,w=hz(e,pz);return(0,fz.cloneElement)(n,dm(dm({},w),{},{className:`${r?`${r} `:""}react-resizable`,children:[...cl.Children.toArray(n.props.children),...M.map(E=>{const k=this.handleRefs[E]??(this.handleRefs[E]=cl.createRef());return cl.createElement(cz.DraggableCore,Bg({},i,{nodeRef:k,key:`resizableHandle-${E}`,onStop:this.resizeHandler("onResizeStop",E),onStart:this.resizeHandler("onResizeStart",E),onDrag:this.resizeHandler("onResize",E)}),this.renderResizeHandle(E,k))})]}))}};Hu.default=hy;hy.propTypes=dz.resizableProps;hy.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var rp={};rp.__esModule=!0;rp.default=void 0;var pm=b2(Y),xz=w2(Vu()),wz=w2(Hu),bz=Wu;const Sz=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function w2(t){return t&&t.__esModule?t:{default:t}}function b2(t,e){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(b2=function(i,s){if(!s&&i&&i.__esModule)return i;var o,a,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(o=s?r:n){if(o.has(i))return o.get(i);o.set(i,c)}for(const f in i)f!=="default"&&{}.hasOwnProperty.call(i,f)&&((a=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,f))&&(a.get||a.set)?o(c,f,a):c[f]=i[f]);return c})(t,e)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(null,arguments)}function Xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(n),!0).forEach(function(r){kz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kz(t,e,n){return(e=Cz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cz(t){var e=Ez(t,"string");return typeof e=="symbol"?e:e+""}function Ez(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mz(t,e){if(t==null)return{};var n,r,i=Nz(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}class S2 extends pm.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(e,n)=>{var i;const{size:r}=n;this.props.onResize?((i=e.persist)==null||i.call(e),this.setState(r,()=>this.props.onResize&&this.props.onResize(e,n))):this.setState(r)}}static getDerivedStateFromProps(e,n){return n.propsWidth!==e.width||n.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null}render(){const e=this.props,{handle:n,handleSize:r,onResize:i,onResizeStart:s,onResizeStop:o,draggableOpts:a,minConstraints:c,maxConstraints:f,lockAspectRatio:d,axis:h,width:m,height:g,resizeHandles:v,style:S,transformScale:M}=e,b=Mz(e,Sz);return pm.createElement(wz.default,{axis:h,draggableOpts:a,handle:n,handleSize:r,height:this.state.height,lockAspectRatio:d,maxConstraints:f,minConstraints:c,onResizeStart:s,onResize:this.onResize,onResizeStop:o,resizeHandles:v,transformScale:M,width:this.state.width},pm.createElement("div",Fg({},b,{style:pd(pd({},S),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}}rp.default=S2;S2.propTypes=pd(pd({},bz.resizableProps),{},{children:xz.default.element});dy.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};var Oz=dy.exports.Resizable=Hu.default;dy.exports.ResizableBox=rp.default;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const n=Y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...f},d)=>Y.createElement("svg",{ref:d,...Tz,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${_z(t)}`,a].join(" "),...f},[...e.map(([h,m])=>Y.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=Ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=Ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=Ee("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=Ee("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=Ee("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=Ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=Ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=Ee("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=Ee("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=Ee("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Ee("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=Ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Ee("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ee("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=Ee("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=Ee("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=Ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=Ee("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=Ee("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=Ee("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=Ee("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=Ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),l3="gp_ai_configs",a3="gp_ai_active_id",hm={used:{label:"",color:"bg-emerald-500",text:"text-white"},unused:{label:"",color:"bg-slate-600",text:"text-slate-200"},deprecated:{label:"",color:"bg-red-500",text:"text-white"},verify:{label:"",color:"bg-yellow-500",text:"text-black"},core:{label:"",color:"bg-purple-600",text:"text-white"}};function u3({id:t,type:e,content:n,x:r,y:i,width:s,height:o,scale:a,isSelected:c,inputs:f=[],onUpdate:d,onResize:h,onDelete:m,onDrag:g,onConnectStart:v,onConnectEnd:S}){const M=Y.useRef(null),[b,w]=Y.useState(!n),[E,k]=Y.useState(!1),_=s||250,T=o||(e==="status"?50:160),D=n&&hm[n]?n:"unused",A=hm[D],F=()=>{const G=Object.keys(hm),Z=(G.indexOf(D)+1)%G.length;d(t,G[Z])},U=async G=>{const z=localStorage.getItem(l3),Z=localStorage.getItem(a3);if(!z){alert(" AI API");return}const L=JSON.parse(z),V=L.find(ee=>ee.id===Z)||L[0];if(!V||!V.key||!V.url){alert(" AI  Key");return}k(!0);let B="";if(G==="self")B=`
${n}`;else{if(f.length===0){alert(""),k(!1);return}B=` ${f.length} 
`+f.map((ee,re)=>`${re+1}. ${ee}`).join(`
`)}try{const re=await(await fetch(V.url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V.key}`},body:JSON.stringify({model:V.model,messages:[{role:"system",content:""},{role:"user",content:B}],stream:!1})})).json();if(re.choices&&re.choices[0]){const K=re.choices[0].message.content;G==="inputs"?d(t,(n?n+`

---

`:"")+` **AI  (${V.model})**:
`+K):d(t,K)}else alert("AI : "+JSON.stringify(re))}catch(ee){console.error(ee),alert(" URL  Key ")}finally{k(!1)}},le=()=>{const G=z=>z.stopPropagation();return e==="ai"?x.jsxs("div",{className:"flex flex-col w-full h-full bg-slate-900 text-white overflow-hidden",onMouseDown:G,children:[x.jsxs("div",{className:"h-8 bg-purple-900/50 border-b border-purple-500/30 flex items-center justify-between px-2 shrink-0 select-none",children:[x.jsxs("div",{className:"flex items-center gap-1.5 text-purple-300",children:[x.jsx(k2,{size:14}),x.jsx("span",{className:"text-[10px] font-bold uppercase",children:"AI Insight"})]}),E&&x.jsx(Xz,{size:12,className:"animate-spin text-purple-400"})]}),x.jsx("textarea",{className:"flex-1 bg-transparent resize-none outline-none text-slate-200 text-xs p-3 custom-scrollbar placeholder-purple-300/20",placeholder:"...",value:n,onChange:z=>d(t,z.target.value),onContextMenu:z=>{z.preventDefault(),confirm("AI ?")&&U("self")}}),f.length>0&&x.jsxs("button",{onClick:()=>U("inputs"),disabled:E,className:"h-7 bg-purple-600 hover:bg-purple-500 text-white text-[10px] flex items-center justify-center gap-2",children:[x.jsx(my,{size:12}),"  ",f.length," "]})]}):e==="status"?x.jsx("div",{className:"w-full h-full flex items-center justify-center",onMouseDown:G,children:x.jsx("div",{onClick:F,className:`w-full h-full ${A.color} ${A.text} rounded-full shadow flex items-center justify-center font-bold text-sm cursor-pointer border border-white/20 select-none hover:brightness-110 active:scale-95`,children:A.label})}):e==="image"?x.jsx("img",{src:n,className:"w-full h-full object-cover pointer-events-none block rounded-lg"}):(e==="video"||e==="audio"||e==="link")&&(b||!n)?x.jsxs("div",{className:"w-full h-full bg-slate-800 flex flex-col items-center justify-center p-4 gap-2",onMouseDown:G,children:[x.jsxs("span",{className:"text-slate-400 text-xs font-bold",children:[e," URL"]}),x.jsx("input",{className:"w-full bg-slate-900 text-white text-xs px-2 py-1 rounded border border-slate-600",autoFocus:!0,defaultValue:n,onKeyDown:z=>{z.key==="Enter"&&(d(t,z.currentTarget.value),w(!1))}})]}):e==="video"?x.jsxs("div",{className:"w-full h-full bg-black flex items-center justify-center relative group",onMouseDown:G,children:[x.jsx("video",{src:n,controls:!0,className:"w-full h-full object-contain"}),x.jsx("button",{onClick:()=>w(!0),className:"absolute top-2 right-2 p-1 bg-black/50 text-white rounded opacity-0 group-hover:opacity-100",children:""})]}):e==="audio"?x.jsxs("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center relative group",onMouseDown:G,children:[x.jsx("audio",{src:n,controls:!0,className:"w-11/12"}),x.jsx("button",{onClick:()=>w(!0),className:"absolute top-2 right-2 p-1 text-white opacity-0 group-hover:opacity-100",children:""})]}):e==="code"?x.jsxs("div",{className:"w-full h-full bg-[#1e1e1e] flex flex-col",onMouseDown:G,children:[x.jsx("div",{className:"h-6 bg-[#252526] flex items-center px-2 border-b border-black/40 shrink-0",children:x.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"CODE"})}),x.jsx("textarea",{className:"flex-1 bg-transparent resize-none outline-none text-green-400 font-mono text-xs p-2 custom-scrollbar",value:n,onChange:z=>d(t,z.target.value),spellCheck:!1})]}):e==="link"?x.jsxs("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center p-4 relative group",onMouseDown:G,children:[x.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"text-blue-400 underline text-sm break-all hover:text-blue-300 text-center",children:n}),x.jsx("button",{onClick:()=>w(!0),className:"absolute bottom-2 right-2 p-1 text-white opacity-0 group-hover:opacity-100",children:""})]}):x.jsx("textarea",{className:"w-full h-full bg-[#fff9c4] resize-none outline-none text-slate-800 placeholder-slate-500/50 font-medium p-3 cursor-text block",placeholder:"Type...",value:n,onChange:z=>d(t,z.target.value),onMouseDown:G})};let ae="";c?ae=e==="ai"?"ring-2 ring-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.5)]":"ring-2 ring-emerald-500 shadow-lg":ae="hover:ring-1 hover:ring-white/30";let X="bg-[#fff9c4]";e==="ai"?X="bg-slate-900 border-2 border-purple-500/50":e==="code"?X="bg-[#1e1e1e] border border-slate-700":e==="image"||e==="status"?X="bg-transparent":e==="video"||e==="audio"?X="bg-black":e==="link"&&(X="bg-slate-900 border border-slate-700");const oe="w-3 h-3 bg-white border border-slate-400 hover:bg-emerald-500 hover:border-emerald-500 rounded-full absolute transition-all cursor-crosshair z-[100] opacity-0 group-hover:opacity-100 shadow-sm";return x.jsx(v2,{nodeRef:M,position:{x:r,y:i},scale:a,onStart:()=>{},onDrag:(G,z)=>g(t,z.x,z.y),onStop:()=>{},handle:".drag-handle",children:x.jsxs("div",{ref:M,id:t,className:`absolute group cursor-default transition-shadow rounded-lg ${ae} ${X}`,style:{width:_,height:T,zIndex:c?50:10},children:[x.jsx(Oz,{width:_,height:T,onResize:(G,{size:z})=>h&&h(t,z.width,z.height),minConstraints:[100,50],maxConstraints:[1e3,1e3],handle:x.jsx("span",{className:"react-resizable-handle react-resizable-handle-se"}),children:x.jsxs("div",{className:"w-full h-full relative",style:{width:_,height:T},children:[e!=="status"&&x.jsx("div",{className:"drag-handle h-6 w-full absolute top-0 left-0 z-20 flex items-center justify-end px-2 cursor-grab active:cursor-grabbing hover:bg-black/10 transition-colors bg-transparent",children:x.jsx("button",{onClick:G=>{G.stopPropagation(),m(t)},className:"text-slate-400 hover:text-red-500 font-bold text-xs bg-slate-800/80 rounded-full w-4 h-4 flex items-center justify-center ml-auto",children:""})}),x.jsx("div",{className:"w-full h-full overflow-hidden rounded-lg",children:le()})]})}),x.jsx("div",{className:`${oe} -top-1.5 left-1/2 -translate-x-1/2`,onMouseDown:G=>{G.stopPropagation(),v&&v(t)},onMouseUp:G=>{G.stopPropagation(),S&&S(t)}}),x.jsx("div",{className:`${oe} -bottom-1.5 left-1/2 -translate-x-1/2`,onMouseDown:G=>{G.stopPropagation(),v&&v(t)},onMouseUp:G=>{G.stopPropagation(),S&&S(t)}}),x.jsx("div",{className:`${oe} top-1/2 -left-1.5 -translate-y-1/2`,onMouseDown:G=>{G.stopPropagation(),v&&v(t)},onMouseUp:G=>{G.stopPropagation(),S&&S(t)}}),x.jsx("div",{className:`${oe} top-1/2 -right-1.5 -translate-y-1/2`,onMouseDown:G=>{G.stopPropagation(),v&&v(t)},onMouseUp:G=>{G.stopPropagation(),S&&S(t)}})]})})}function c3({initialItems:t=[],initialConnections:e=[],onDataChange:n}){const[r,i]=Y.useState(t),[s,o]=Y.useState(e),[a,c]=Y.useState(1),[f,d]=Y.useState({x:0,y:0}),[h,m]=Y.useState(null),[g,v]=Y.useState(!1),S=Y.useRef(!1),M=Y.useRef({x:0,y:0}),b=Y.useRef(null),w=Y.useRef(null),E=Y.useRef(null),k=Y.useRef(!1),_=jg.useXarrow();Y.useEffect(()=>{k.current||(t.length>0&&i(t),e.length>0&&o(e),k.current=!0)},[t,e]),Y.useEffect(()=>{n&&n(r,s)},[r,s,n]),Y.useEffect(()=>{const B=setTimeout(()=>{_()},50);return()=>clearTimeout(B)},[a,f,r,s]);const T=B=>{var fe;B.preventDefault();const ee=(fe=b.current)==null?void 0:fe.getBoundingClientRect();if(!ee)return;const re=B.clientX-ee.left,K=B.clientY-ee.top,xe=(re-f.x)/a,be=(K-f.y)/a,Ke=Math.min(Math.max(a-B.deltaY*.001,.1),5),H=re-xe*Ke,se=K-be*Ke;c(Ke),d({x:H,y:se})},D=async()=>{if(!w.current||r.length===0)return;v(!1);const B=a,ee=f;try{c(1),d({x:0,y:0}),setTimeout(async()=>{if(_(),w.current){const re=await o2(w.current,{backgroundColor:"#0f172a",pixelRatio:2,filter:xe=>{var be;return!((be=xe.classList)!=null&&be.contains("drag-handle-ignored"))}}),K=document.createElement("a");K.download=`GP_Board_${Date.now()}.png`,K.href=re,K.click()}c(B),d(ee)},500)}catch(re){console.error("Export failed:",re),c(B),d(ee)}},A=()=>{var xe,be;const B=((xe=b.current)==null?void 0:xe.clientWidth)||window.innerWidth,ee=((be=b.current)==null?void 0:be.clientHeight)||window.innerHeight,re=(B/2-f.x)/a,K=(ee/2-f.y)/a;return{x:re-100,y:K-60}},F=B=>{var H;B.preventDefault(),B.stopPropagation();const re=Array.from(B.dataTransfer.files).filter(se=>se.type.startsWith("image/")||se.type.startsWith("video/")||se.type.startsWith("audio/"));if(re.length===0)return;const K=(H=b.current)==null?void 0:H.getBoundingClientRect(),xe=B.clientX-((K==null?void 0:K.left)||0),be=B.clientY-((K==null?void 0:K.top)||0),We=(xe-f.x)/a,Ke=(be-f.y)/a;re.forEach((se,fe)=>{const we=new FileReader;we.onload=Je=>{let Se="image";se.type.startsWith("video/")&&(Se="video"),se.type.startsWith("audio/")&&(Se="audio"),i(Ne=>{var kt;return[...Ne,{id:br(),type:Se,content:(kt=Je.target)==null?void 0:kt.result,x:We+fe*20-150,y:Ke+fe*20-100,width:300,height:"auto"}]})},we.readAsDataURL(se)})},U=B=>{B.preventDefault(),B.stopPropagation()},le=(B,ee="")=>{const{x:re,y:K}=A();let xe=250,be=160;switch(B){case"text":xe=200,be=150;break;case"ai":xe=300,be=400;break;case"code":xe=400,be=300;break;case"image":xe=300,be=200;break;case"status":xe=160,be=50;break}i(We=>[...We,{id:br(),type:B,content:ee,x:re,y:K,width:xe,height:be}]),v(!1)},ae=()=>{var B;(B=E.current)==null||B.click(),v(!1)},X=B=>{var re;const ee=(re=B.target.files)==null?void 0:re[0];if(ee){const K=new FileReader;K.onload=xe=>{let be="image";ee.type.startsWith("video/")&&(be="video"),ee.type.startsWith("audio/")&&(be="audio");const{x:We,y:Ke}=A();i(H=>{var se;return[...H,{id:br(),type:be,content:(se=xe.target)==null?void 0:se.result,x:We,y:Ke,width:300,height:200}]})},K.readAsDataURL(ee)}B.target.value=""},oe=B=>o(ee=>ee.filter(re=>re.id!==B)),G=B=>{h&&h!==B&&(s.find(re=>re.start===h&&re.end===B||re.start===B&&re.end===h)||o(re=>[...re,{id:br(),start:h,end:B}])),m(null)},z=B=>{B.button===1&&(S.current=!0,M.current={x:B.clientX,y:B.clientY})},Z=B=>{if(S.current){const ee=B.clientX-M.current.x,re=B.clientY-M.current.y;d(K=>({x:K.x+ee,y:K.y+re})),M.current={x:B.clientX,y:B.clientY}}},L=()=>{S.current=!1,m(null)},V=B=>s.filter(K=>K.end===B).map(K=>r.find(xe=>xe.id===K.start)).filter(Boolean).filter(K=>(K.type==="text"||K.type==="code"||K.type==="ai")&&K.content.trim().length>0).map(K=>K.content);return x.jsxs("div",{ref:b,className:"absolute inset-0 bg-slate-900 overflow-hidden select-none",onWheel:T,onMouseDown:z,onMouseMove:Z,onMouseUp:L,onMouseLeave:L,onDrop:F,onDragOver:U,children:[x.jsx("input",{type:"file",ref:E,onChange:X,className:"hidden",accept:"image/*,video/*,audio/*"}),x.jsxs("div",{className:"absolute top-4 left-4 z-50 text-slate-500 text-sm pointer-events-none bg-slate-900/50 p-2 rounded backdrop-blur-sm border border-slate-700",children:[x.jsx("p",{children:" :  | :  |  "}),x.jsxs("p",{className:"text-xs mt-1 text-slate-600",children:["Scale: ",a.toFixed(2),"x"]})]}),x.jsx(jg.Xwrapper,{children:x.jsxs("div",{ref:w,className:"absolute inset-0 w-full h-full",children:[x.jsx("div",{className:"absolute inset-0 will-change-transform origin-top-left",style:{transform:`translate(${f.x}px, ${f.y}px) scale(${a})`},children:x.jsxs("div",{className:"relative w-[5000px] h-[5000px]",children:[x.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#ffffff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),r.map(B=>x.jsx(u3,{...B,scale:a,isSelected:h===B.id,inputs:B.type==="ai"?V(B.id):void 0,onUpdate:(ee,re)=>i(K=>K.map(xe=>xe.id===ee?{...xe,content:re}:xe)),onResize:(ee,re,K)=>{i(xe=>xe.map(be=>be.id===ee?{...be,width:re,height:K}:be)),_()},onDelete:ee=>{i(re=>re.filter(K=>K.id!==ee)),o(re=>re.filter(K=>K.start!==ee&&K.end!==ee))},onDrag:(ee,re,K)=>{i(xe=>xe.map(be=>be.id===ee?{...be,x:re,y:K}:be)),_()},onConnectStart:m,onConnectEnd:G},B.id))]})}),x.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transform:`translate(${f.x}px, ${f.y}px)`},children:s.map(B=>x.jsx(Tj,{start:B.start,end:B.end,color:"#10b981",strokeWidth:3,headSize:6,path:"smooth",zIndex:10,labels:{middle:x.jsx("div",{onClick:ee=>{ee.stopPropagation(),oe(B.id)},className:"pointer-events-auto cursor-pointer p-1 rounded-full bg-slate-800 border border-slate-600 hover:bg-red-500 hover:border-red-500 hover:text-white text-slate-400 transition-colors z-[999]",title:"",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:x.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}},B.id))})]})}),x.jsxs("div",{className:"absolute bottom-8 right-8 flex flex-col items-end gap-4 z-[100]",children:[x.jsxs("div",{className:`flex flex-col gap-3 transition-all duration-300 origin-bottom ${g?"opacity-100 scale-100":"opacity-0 scale-0 pointer-events-none"}`,children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-full shadow-lg",title:"",children:x.jsx(hd,{size:18})}),x.jsx("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full shadow-lg",title:"",children:x.jsx(N2,{size:18})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>le("video"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-full shadow-lg",title:"",children:x.jsx(s3,{size:18})}),x.jsx("button",{onClick:()=>le("audio"),className:"flex items-center gap-2 px-4 py-2 bg-pink-600 hover:bg-pink-500 text-white rounded-full shadow-lg",title:"",children:x.jsx(Jz,{size:18})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>le("code"),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-full shadow-lg",title:"",children:x.jsx(Lz,{size:18})}),x.jsx("button",{onClick:()=>le("link"),className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white rounded-full shadow-lg",title:"",children:x.jsx(E2,{size:18})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>le("status","unused"),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-full shadow-lg",title:"",children:x.jsx(Pz,{size:18})}),x.jsx("button",{onClick:()=>le("text"),className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-400 text-white rounded-full shadow-lg",title:"",children:x.jsx(_2,{size:18})}),x.jsx("button",{onClick:()=>le("ai"),className:"flex items-center gap-2 px-4 py-2 bg-purple-800 hover:bg-purple-700 text-white rounded-full shadow-lg border border-purple-500",title:"AI ",children:x.jsx(k2,{size:18})})]})]}),x.jsx("button",{onClick:()=>v(!g),className:`w-16 h-16 bg-emerald-500 hover:bg-emerald-400 text-white rounded-full shadow-2xl flex items-center justify-center text-3xl font-bold transition-transform duration-300 ${g?"rotate-45":"rotate-0"}`,children:"+"})]})]})}function f3({todos:t,members:e,onUpdate:n}){const[r,i]=Y.useState(""),[s,o]=Y.useState(""),a=d=>{d.preventDefault(),r.trim()&&(n([...t,{id:br(),text:r,done:!1,assigneeId:s}]),i(""))},c=d=>{n(t.map(h=>h.id===d?{...h,done:!h.done}:h))},f=d=>{n(t.filter(h=>h.id!==d))};return x.jsxs("div",{className:"w-80 bg-slate-800 border-l border-slate-700 flex flex-col shrink-0 h-full",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 font-bold text-slate-200 flex justify-between items-center",children:[x.jsx("span",{children:" "}),x.jsxs("span",{className:"text-xs text-slate-500",children:[t.filter(d=>!d.done).length," "]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[t.map(d=>{const h=e.find(m=>m.id===d.assigneeId);return x.jsx("div",{className:"bg-slate-900/50 p-2 rounded border border-slate-700/50 hover:border-emerald-500/30 group transition-colors",children:x.jsxs("div",{className:"flex gap-2 items-start",children:[x.jsx("input",{type:"checkbox",checked:d.done,onChange:()=>c(d.id),className:"mt-1 accent-emerald-500 cursor-pointer"}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:`text-sm break-words ${d.done?"line-through text-slate-600":"text-slate-300"}`,children:d.text}),h&&x.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-slate-800/50 w-fit px-1 rounded",children:[h.avatar?x.jsx("img",{src:h.avatar,className:"w-4 h-4 rounded-full object-cover"}):x.jsx("div",{className:`w-4 h-4 rounded-full ${h.color} text-[8px] flex items-center justify-center text-white`,children:h.name[0]}),x.jsx("span",{className:"text-xs text-slate-400",children:h.name})]})]}),x.jsx("button",{onClick:()=>f(d.id),className:"text-slate-600 hover:text-red-400 opacity-0 group-hover:opacity-100 px-1 font-bold",children:""})]})},d.id)}),t.length===0&&x.jsx("div",{className:"text-center text-slate-600 text-sm mt-10",children:""})]}),x.jsxs("form",{onSubmit:a,className:"p-3 border-t border-slate-700 flex flex-col gap-2 bg-slate-800",children:[x.jsx("input",{value:r,onChange:d=>i(d.target.value),className:"bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm text-white outline-none focus:border-emerald-500 transition-colors",placeholder:"..."}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"bg-slate-700 text-slate-300 text-xs rounded border border-slate-600 flex-1 outline-none px-2",children:[x.jsx("option",{value:"",children:"--  --"}),e.map(d=>x.jsxs("option",{value:d.id,children:[d.name," - ",d.role]},d.id))]}),x.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 text-white text-xs px-4 rounded font-bold",children:""})]})]})]})}function d3({members:t,todos:e,onUpdateMembers:n,onUpdateTodos:r}){var M;const i=Y.useRef(null),[s,o]=Y.useState({visible:!1,x:0,y:0,memberId:""}),[a,c]=Y.useState({isOpen:!1,type:"add",inputValue:""});Y.useEffect(()=>{const b=()=>o(w=>({...w,visible:!1}));return window.addEventListener("click",b),()=>window.removeEventListener("click",b)},[]);const f=b=>{if(b.preventDefault(),!!a.inputValue.trim()){if(a.type==="add"){const w=["bg-red-500","bg-blue-500","bg-emerald-500","bg-purple-500","bg-yellow-500","bg-orange-500","bg-pink-500"],E={id:br(),name:a.inputValue.trim(),role:"",color:w[Math.floor(Math.random()*w.length)]};n([...t,E])}else a.type==="rename"&&a.targetId?n(t.map(w=>w.id===a.targetId?{...w,name:a.inputValue.trim()}:w)):a.type==="role"&&a.targetId&&n(t.map(w=>w.id===a.targetId?{...w,role:a.inputValue.trim()}:w));c({...a,isOpen:!1})}},d=()=>{c({isOpen:!0,type:"add",inputValue:""})},h=()=>{const b=t.find(w=>w.id===s.memberId);b&&(c({isOpen:!0,type:"rename",inputValue:b.name,targetId:b.id}),o(w=>({...w,visible:!1})))},m=()=>{const b=t.find(w=>w.id===s.memberId);b&&(c({isOpen:!0,type:"role",inputValue:b.role,targetId:b.id}),o(w=>({...w,visible:!1})))},g=(b,w)=>{b.preventDefault(),b.stopPropagation();const E=Math.min(b.clientX,window.innerWidth-200),k=Math.min(b.clientY,window.innerHeight-250);o({visible:!0,x:E,y:k,memberId:w})},v=b=>{var E;const w=(E=b.target.files)==null?void 0:E[0];if(w&&s.memberId){const k=new FileReader;k.onload=_=>{n(t.map(T=>{var D;return T.id===s.memberId?{...T,avatar:(D=_.target)==null?void 0:D.result}:T}))},k.readAsDataURL(w)}o(k=>({...k,visible:!1})),b.target.value=""},S=()=>{confirm("")&&n(t.filter(b=>b.id!==s.memberId)),o(b=>({...b,visible:!1}))};return x.jsxs("div",{className:"flex h-full w-full bg-slate-900 overflow-hidden relative",children:[x.jsx("input",{type:"file",ref:i,onChange:v,className:"hidden",accept:"image/*"}),x.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[x.jsxs("div",{className:"p-8 pb-4 border-b border-slate-800 flex justify-between items-center shrink-0",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-bold text-white",children:" "}),x.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),x.jsxs("button",{onClick:d,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg font-bold shadow-lg transition-colors flex items-center gap-2",children:[x.jsx("span",{children:"+"})," "]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[t.map(b=>x.jsxs("div",{onContextMenu:w=>g(w,b.id),className:"bg-slate-800 border border-slate-700 rounded-xl p-6 flex flex-col items-center gap-4 hover:border-emerald-500 hover:shadow-xl hover:-translate-y-1 transition-all group relative cursor-pointer select-none",children:[x.jsx("div",{className:`w-20 h-20 rounded-full border-4 border-slate-700 flex items-center justify-center text-3xl text-white font-bold overflow-hidden shadow-inner ${b.color}`,children:b.avatar?x.jsx("img",{src:b.avatar,className:"w-full h-full object-cover"}):b.name[0]}),x.jsxs("div",{className:"text-center w-full",children:[x.jsx("h3",{className:"text-lg font-bold text-white truncate px-2",children:b.name}),x.jsx("div",{className:"mt-1 inline-block px-2 py-0.5 bg-slate-900 rounded text-xs text-emerald-400 border border-slate-700 max-w-full truncate",children:b.role})]}),x.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-slate-500",children:""})]},b.id)),t.length===0&&x.jsx("div",{className:"col-span-full py-10 text-center text-slate-500 border-2 border-dashed border-slate-800 rounded-xl",children:""})]})})]}),x.jsx(f3,{todos:e,members:t,onUpdate:r}),a.isOpen&&x.jsx("div",{className:"fixed inset-0 bg-black/70 z-[10000] flex items-center justify-center backdrop-blur-sm",onClick:()=>c({...a,isOpen:!1}),children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-6 rounded-xl w-96 shadow-2xl animate-in zoom-in-95 duration-200",onClick:b=>b.stopPropagation(),children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:a.type==="add"?"":a.type==="rename"?"":""}),x.jsxs("form",{onSubmit:f,children:[x.jsx("input",{autoFocus:!0,value:a.inputValue,onChange:b=>c({...a,inputValue:b.target.value}),placeholder:a.type==="role"?": , ...":"...",className:"w-full bg-slate-900 border border-slate-600 rounded px-4 py-3 text-white outline-none focus:border-emerald-500 mb-6"}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{type:"button",onClick:()=>c({...a,isOpen:!1}),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:""}),x.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded font-bold shadow-lg",children:""})]})]})]})}),s.visible&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>o(b=>({...b,visible:!1}))}),x.jsxs("div",{className:"fixed z-[9999] bg-slate-800 border border-slate-600 rounded-lg shadow-2xl py-1 w-44 flex flex-col animate-in fade-in zoom-in-95 duration-100",style:{top:s.y,left:s.x},children:[x.jsxs("div",{className:"px-4 py-2 text-xs text-slate-500 border-b border-slate-700 font-bold bg-slate-900/50",children:[": ",(M=t.find(b=>b.id===s.memberId))==null?void 0:M.name]}),x.jsxs("button",{onClick:h,className:"px-4 py-3 text-left text-slate-200 hover:bg-emerald-600 hover:text-white flex items-center gap-3 transition-colors text-sm",children:[x.jsx("span",{children:""})," "]}),x.jsxs("button",{onClick:m,className:"px-4 py-3 text-left text-slate-200 hover:bg-emerald-600 hover:text-white flex items-center gap-3 transition-colors text-sm",children:[x.jsx("span",{children:""})," "]}),x.jsxs("button",{onClick:()=>{var b;return(b=i.current)==null?void 0:b.click()},className:"px-4 py-3 text-left text-slate-200 hover:bg-emerald-600 hover:text-white flex items-center gap-3 transition-colors text-sm",children:[x.jsx("span",{children:""})," "]}),x.jsx("div",{className:"h-[1px] bg-slate-700 my-1 mx-2"}),x.jsxs("button",{onClick:S,className:"px-4 py-3 text-left text-red-400 hover:bg-red-600 hover:text-white flex items-center gap-3 transition-colors text-sm rounded-b-lg",children:[x.jsx("span",{children:""})," "]})]})]})]})}function nn(t){this.content=t}nn.prototype={constructor:nn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new nn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new nn(n)},addToStart:function(t,e){return new nn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new nn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new nn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=nn.from(t),t.size?new nn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=nn.from(t),t.size?new nn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=nn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};nn.from=function(t){if(t instanceof nn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new nn(e)};function P2(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=P2(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function D2(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),c=o.nodeSize;if(o==a){n-=c,r-=c;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let f=0,d=Math.min(o.text.length,a.text.length);for(;f<d&&o.text[o.text.length-f-1]==a.text[a.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let f=D2(o.content,a.content,n-1,r-1);if(f)return f}n-=c,r-=c}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let c=this.content[o],f=a+c.nodeSize;if(f>e&&r(c,i+a,s||null,o)!==!1&&c.content.size){let d=a+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,i+d)}a=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,c)=>{let f=a.isText?a.text.slice(Math.max(e,c)-c,n-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&f||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ne(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],c=o+a.nodeSize;c>e&&((o<e||c>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=c}return new ne(r,i)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ne(i,s)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return P2(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return D2(this,e,n,r)}findIndex(e){if(e==0)return df(0,e);if(e==this.size)return df(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?df(n+1,s):df(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const mm={index:0,offset:0};function df(t,e){return mm.index=t,mm.offset=e,mm}function yd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!yd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!yd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let st=class Vg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&yd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Vg.none;if(e instanceof Vg)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};st.none=[];class vd extends Error{}class de{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=R2(this.content,e+this.openStart,n);return r&&new de(r,this.openStart,this.openEnd)}removeBetween(e,n){return new de(A2(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return de.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new de(ne.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new de(e,r,i)}}de.empty=new de(ne.empty,0,0);function A2(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(A2(s.content,e-i-1,n-i-1)))}function R2(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=R2(o.content,e-s-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function p3(t,e,n){if(n.openStart>t.depth)throw new vd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new vd("Inconsistent open depths");return I2(t,e,n,0)}function I2(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=I2(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return No(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=h3(n,t);return No(s,L2(t,o,a,e,r))}else return No(s,xd(t,e,r))}function j2(t,e){if(!e.type.compatibleContent(t.type))throw new vd("Cannot join "+e.type.name+" onto "+t.type.name)}function Hg(t,e,n){let r=t.node(n);return j2(r,e.node(n)),r}function Mo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function eu(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Mo(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Mo(i.child(a),r);e&&e.depth==n&&e.textOffset&&Mo(e.nodeBefore,r)}function No(t,e){return t.type.checkContent(e),t.copy(e)}function L2(t,e,n,r,i){let s=t.depth>i&&Hg(t,e,i+1),o=r.depth>i&&Hg(n,r,i+1),a=[];return eu(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(j2(s,o),Mo(No(s,L2(t,e,n,r,i+1)),a)):(s&&Mo(No(s,xd(t,e,i+1)),a),eu(e,n,i,a),o&&Mo(No(o,xd(n,r,i+1)),a)),eu(r,null,i,a),new ne(a)}function xd(t,e,n){let r=[];if(eu(null,t,n,r),t.depth>n){let i=Hg(t,e,n+1);Mo(No(i,xd(t,e,n+1)),r)}return eu(e,null,n,r),new ne(r)}function h3(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Eu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return st.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new wd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:c}=o.content.findIndex(s),f=s-c;if(r.push(o,a,i+c),!f||(o=o.child(a),o.isText))break;s=f-1,i+=c+1}return new Eu(n,r,s)}static resolveCached(e,n){let r=tb.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else tb.set(e,r=new m3);let i=r.elts[r.i]=Eu.resolve(e,n);return r.i=(r.i+1)%g3,i}}class m3{constructor(){this.elts=[],this.i=0}}const g3=12,tb=new WeakMap;class wd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const y3=Object.create(null);let Fs=class Wg{constructor(e,n,r,i=st.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&yd(this.attrs,n||e.defaultAttrs||y3)&&st.sameSet(this.marks,r||st.none)}copy(e=null){return e==this.content?this:new Wg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Wg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return de.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),f=i.node(o).content.cut(i.pos-a,s.pos-a);return new de(f,i.depth-o,s.depth-o)}replace(e,n,r){return p3(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Eu.resolveCached(this,e)}resolveNoCache(e){return Eu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),z2(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=st.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!st.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ne.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Fs.prototype.text=void 0;class bd extends Fs{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):z2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new bd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new bd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function z2(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Lo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new v3(e,n);if(r.next==null)return Lo.empty;let i=B2(r);r.next&&r.err("Unexpected trailing text");let s=E3(C3(i));return M3(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let c=o.matchFragment(e,r);if(c&&(!n||c.validEnd))return ne.from(a.map(f=>f.createAndFill()));for(let f=0;f<o.next.length;f++){let{type:d,next:h}=o.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let m=s(h,a.concat(d));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:c}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Lo.empty=new Lo(!0);class v3{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function B2(t){let e=[];do e.push(x3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function x3(t){let e=[];do e.push(w3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function w3(t){let e=k3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=b3(t,e);else break;return e}function nb(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function b3(t,e){let n=nb(t),r=n;return t.eat(",")&&(t.next!="}"?r=nb(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function S3(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function k3(t){if(t.eat("(")){let e=B2(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=S3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function C3(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,c){let f={term:c,to:a};return e[o].push(f),f}function i(o,a){o.forEach(c=>c.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((c,f)=>c.concat(s(f,a)),[]);if(o.type=="seq")for(let c=0;;c++){let f=s(o.exprs[c],a);if(c==o.exprs.length-1)return f;i(f,a=n())}else if(o.type=="star"){let c=n();return r(a,c),i(s(o.expr,c),c),[r(c)]}else if(o.type=="plus"){let c=n();return i(s(o.expr,a),c),i(s(o.expr,c),c),[r(c)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let c=a;for(let f=0;f<o.min;f++){let d=n();i(s(o.expr,c),d),c=d}if(o.max==-1)i(s(o.expr,c),c);else for(let f=o.min;f<o.max;f++){let d=n();r(c,d),i(s(o.expr,c),d),c=d}return[r(c)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function F2(t,e){return e-t}function rb(t,e){let n=[];return r(e),n.sort(F2);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:c}=s[o];!a&&n.indexOf(c)==-1&&r(c)}}}function E3(t){let e=Object.create(null);return n(rb(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:c})=>{if(!a)return;let f;for(let d=0;d<i.length;d++)i[d][0]==a&&(f=i[d][1]);rb(t,c).forEach(d=>{f||i.push([a,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let s=e[r.join(",")]=new Lo(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(F2);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function M3(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:f}=i.next[a];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $2(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function V2(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function H2(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function W2(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new O3(t,r,e[r]);return n}let ib=class U2{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=W2(e,r.attrs),this.defaultAttrs=$2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Lo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:V2(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fs(this,this.computeAttrs(e),ne.from(n),st.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new Fs(this,this.computeAttrs(e),n,st.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ne.empty,!0);return s?new Fs(this,e,n.append(s),st.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){H2(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:st.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new U2(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function N3(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class O3{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?N3(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class ip{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=W2(e,i.attrs),this.excluded=null;let s=$2(this.attrs);this.instance=s?new st(this,s):null}create(e=null){return!e&&this.instance?this.instance:new st(this,V2(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new ip(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){H2(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class K2{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=nn.from(e.nodes),n.marks=nn.from(e.marks||{}),this.nodes=ib.compile(this.spec.nodes,this),this.marks=ip.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Lo.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?sb(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:sb(this,o.split(" "))}this.nodeFromJSON=i=>Fs.fromJSON(this,i),this.markFromJSON=i=>st.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ib){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new bd(r,r.defaultAttrs,e,st.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function sb(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let c=t.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function T3(t){return t.tag!=null}function _3(t){return t.style!=null}class $s{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(T3(i))this.tags.push(i);else if(_3(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new lb(this,n,!1);return r.addAll(e,st.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new lb(this,n,!0);return r.addAll(e,st.none,n.from,n.to),de.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(A3(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=ab(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=ab(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new $s(e,$s.schemaRules(e)))}}const q2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},P3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},X2={ol:!0,ul:!0},Mu=1,Ug=2,tu=4;function ob(t,e,n){return e!=null?(e?Mu:0)|(e==="full"?Ug:0):t&&t.whitespace=="pre"?Mu|Ug:n&~tu}class pf{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=st.none,this.match=s||(o&tu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Mu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!q2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class lb{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=ob(null,n.preserveWhitespace,0)|(r?tu:0);i?s=new pf(i.type,i.attrs,st.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new pf(null,null,st.none,!0,null,o):s=new pf(e.schema.topNodeType,null,st.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Ug?"full":this.localPreserveWS||(i.options&Mu)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let c=0;c<a.length;c++)c&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[c]&&this.insertNode(o.text(a[c]),n,!/\S/.test(a[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;X2.hasOwnProperty(o)&&this.parser.normalizeLists&&D3(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(c?c.ignore:P3.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,d=this.needsBlock;if(q2.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=c&&c.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),f&&this.sync(s),this.needsBlock=d}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,c,f,c.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(s,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(f=>!c.clearMark(f)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(o,n.attrs||null,r,n.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let c=this.nodes[o],f=c.findWrapping(e);if(f&&(!i||i.length>f.length+a)&&(i=f,s=c,!f.length))break;if(c.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=st.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):ub(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=ob(e,s,o.options);o.options&tu&&o.content.length==0&&(a|=tu);let c=st.none;return r=r.filter(f=>(o.type?o.type.allowsMarkType(f.type):ub(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new pf(e,n,c,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Mu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let f=n[a];if(f==""){if(a==n.length-1||a==0)continue;for(;c>=s;c--)if(o(a-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!d||d.name!=f&&!d.isInGroup(f))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function D3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&X2.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function A3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ab(t){let e={};for(let n in t)e[n]=t[n];return e}function ub(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let c=0;c<a.edgeCount;c++){let{type:f,next:d}=a.edge(c);if(f==e||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class Uo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=gm(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,c=0;for(;a<s.length&&c<o.marks.length;){let f=o.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(s[a][0])||f.type.spec.spanning===!1)break;a++,c++}for(;a<s.length;)i=s.pop()[1];for(;c<o.marks.length;){let f=o.marks[c++],d=this.serializeMark(f,o.isInline,n);d&&(s.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=jf(gm(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&jf(gm(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return jf(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Uo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=cb(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return cb(e.marks)}}function cb(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function gm(t){return t.document||window.document}const fb=new WeakMap;function R3(t){let e=fb.get(t);return e===void 0&&fb.set(t,e=I3(t)),e}function I3(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function jf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=R3(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,c=n?t.createElementNS(n,i):t.createElement(i),f=e[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let h in f)if(f[h]!=null){let m=h.indexOf(" ");m>0?c.setAttributeNS(h.slice(0,m),h.slice(m+1),f[h]):h=="style"&&c.style?c.style.cssText=f[h]:c.setAttribute(h,f[h])}}for(let h=d;h<e.length;h++){let m=e[h];if(m===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:v}=jf(t,m,n,r);if(c.appendChild(g),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:c,contentDOM:a}}const G2=65535,Y2=Math.pow(2,16);function j3(t,e){return t+e*Y2}function db(t){return t&G2}function L3(t){return(t-(t&G2))/Y2}const J2=1,Q2=2,Lf=4,Z2=8;class Kg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Z2)>0}get deletedBefore(){return(this.delInfo&(J2|Lf))>0}get deletedAfter(){return(this.delInfo&(Q2|Lf))>0}get deletedAcross(){return(this.delInfo&Lf)>0}}class xr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&xr.empty)return xr.empty}recover(e){let n=0,r=db(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+L3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[a+s],d=this.ranges[a+o],h=c+f;if(e<=h){let m=f?e==c?-1:e==h?1:n:n,g=c+i+(m<0?0:d);if(r)return g;let v=e==(n<0?c:h)?null:j3(a/3,e-c),S=e==c?Q2:e==h?J2:Lf;return(n<0?e!=c:e!=h)&&(S|=Z2),new Kg(g,S,v)}i+=d-f}return r?e+i:new Kg(e+i,0,null)}touches(e,n){let r=0,i=db(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>e)break;let f=this.ranges[a+s],d=c+f;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+o]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),c=o+(this.inverted?0:s),f=this.ranges[i+n],d=this.ranges[i+r];e(a,a+f,c,c+d),s+=d-f}}invert(){return new xr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?xr.empty:new xr(e<0?[0,-e,0]:[0,0,e])}}xr.empty=new xr([]);class Nu{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Nu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Nu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Kg(e,i,null)}}const ym=Object.create(null);class Sn{getMap(){return xr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ym[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ym)throw new RangeError("Duplicate use of step JSON ID "+e);return ym[e]=n,n.prototype.jsonID=e,n}}class jt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new jt(e,null)}static fail(e){return new jt(null,e)}static fromReplace(e,n,r,i){try{return jt.ok(e.replace(n,r,i))}catch(s){if(s instanceof vd)return jt.fail(s.message);throw s}}}function vy(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(vy(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ne.fromArray(r)}class Os extends Sn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new de(vy(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return jt.fromReplace(e,this.from,this.to,s)}invert(){return new Ci(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Os(n.pos,r.pos,this.mark)}merge(e){return e instanceof Os&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Os(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Os(n.from,n.to,e.markFromJSON(n.mark))}}Sn.jsonID("addMark",Os);class Ci extends Sn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new de(vy(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return jt.fromReplace(e,this.from,this.to,r)}invert(){return new Os(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ci(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ci&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ci(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ci(n.from,n.to,e.markFromJSON(n.mark))}}Sn.jsonID("removeMark",Ci);class Ts extends Sn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return jt.fromReplace(e,this.pos,this.pos+1,new de(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ts(this.pos,n.marks[i]);return new Ts(this.pos,this.mark)}}return new zo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ts(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ts(n.pos,e.markFromJSON(n.mark))}}Sn.jsonID("addNodeMark",Ts);class zo extends Sn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return jt.fromReplace(e,this.pos,this.pos+1,new de(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ts(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zo(n.pos,e.markFromJSON(n.mark))}}Sn.jsonID("removeNodeMark",zo);class Ut extends Sn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&qg(e,this.from,this.to)?jt.fail("Structure replace would overwrite content"):jt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new xr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ut(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ut(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ut)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?de.empty:new de(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ut(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?de.empty:new de(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ut(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ut(n.from,n.to,de.fromJSON(e,n.slice),!!n.structure)}}Sn.jsonID("replace",Ut);class Xt extends Sn{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(qg(e,this.from,this.gapFrom)||qg(e,this.gapTo,this.to)))return jt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return jt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?jt.fromReplace(e,this.from,this.to,r):jt.fail("Content does not fit in gap")}getMap(){return new xr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Xt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Xt(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xt(n.from,n.to,n.gapFrom,n.gapTo,de.fromJSON(e,n.slice),n.insert,!!n.structure)}}Sn.jsonID("replaceAround",Xt);function qg(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function z3(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(c,f,d)=>{if(!c.isInline)return;let h=c.marks;if(!r.isInSet(h)&&d.type.allowsMarkType(r.type)){let m=Math.max(f,e),g=Math.min(f+c.nodeSize,n),v=r.addToSet(h);for(let S=0;S<h.length;S++)h[S].isInSet(v)||(o&&o.to==m&&o.mark.eq(h[S])?o.to=g:i.push(o=new Ci(m,g,h[S])));a&&a.to==m?a.to=g:s.push(a=new Os(m,g,r))}}),i.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function B3(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let c=null;if(r instanceof ip){let f=o.marks,d;for(;d=r.isInSet(f);)(c||(c=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(o.marks)&&(c=[r]):c=o.marks;if(c&&c.length){let f=Math.min(a+o.nodeSize,n);for(let d=0;d<c.length;d++){let h=c[d],m;for(let g=0;g<i.length;g++){let v=i[g];v.step==s-1&&h.eq(i[g].style)&&(m=v)}m?(m.to=f,m.step=s):i.push({style:h,from:Math.max(a,e),to:f,step:s})}}}),i.forEach(o=>t.step(new Ci(o.from,o.to,o.style)))}function xy(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let c=0;c<s.childCount;c++){let f=s.child(c),d=a+f.nodeSize,h=r.matchType(f.type);if(!h)o.push(new Ut(a,d,de.empty));else{r=h;for(let m=0;m<f.marks.length;m++)n.allowsMarkType(f.marks[m].type)||t.step(new Ci(a,d,f.marks[m]));if(i&&f.isText&&n.whitespace!="pre"){let m,g=/\r?\n|\r/g,v;for(;m=g.exec(f.text);)v||(v=new de(ne.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),o.push(new Ut(a+m.index,a+m.index+m[0].length,v))}}a=d}if(!r.validEnd){let c=r.fillBefore(ne.empty,!0);t.replace(a,a,new de(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function F3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function oa(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let o=t.$from.node(r),a=t.$from.index(r)+i,c=t.$to.indexAfter(r)-s;if(r<t.depth&&o.canReplace(a,c,n))return r;if(r==0||o.type.spec.isolating||!F3(o,a,c))break;a&&(i=1),c<o.childCount&&(s=1)}return null}function $3(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),c=o,f=a,d=ne.empty,h=0;for(let v=s,S=!1;v>n;v--)S||r.index(v)>0?(S=!0,d=ne.from(r.node(v).copy(d)),h++):c--;let m=ne.empty,g=0;for(let v=s,S=!1;v>n;v--)S||i.after(v+1)<i.end(v)?(S=!0,m=ne.from(i.node(v).copy(m)),g++):f++;t.step(new Xt(c,f,o,a,new de(d.append(m),h,g),d.size-h,!0))}function wy(t,e,n=null,r=t){let i=V3(t,e),s=i&&H3(r,e);return s?i.map(pb).concat({type:e,attrs:n}).concat(s.map(pb)):null}function pb(t){return{type:t,attrs:null}}function V3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function H3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let f=r;c&&f<i;f++)c=c.matchType(n.child(f).type);return!c||!c.validEnd?null:o}function W3(t,e,n){let r=ne.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new Xt(i,s,i,s,new de(r,0,0),n.length,!0))}function U3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,c)&&K3(t.doc,t.mapping.slice(s).map(a),r)){let f=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!v?f=!1:!g&&v&&(f=!0)}f===!1&&tE(t,o,a,s),xy(t,t.mapping.slice(s).map(a,1),r,void 0,f===null);let d=t.mapping.slice(s),h=d.map(a,1),m=d.map(a+o.nodeSize,1);return t.step(new Xt(h,m,h+1,m-1,new de(ne.from(r.create(c,null,o.marks)),0,0),1,!0)),f===!0&&eE(t,o,a,s),!1}})}function eE(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function tE(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function K3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function q3(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Xt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new de(ne.from(o),0,0),1,!0))}function Ji(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>s;f--,d--){let h=i.node(f),m=i.index(f);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(m,h.childCount),v=r&&r[d+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let S=r&&r[d]||h;if(!h.canReplace(m+1,h.childCount)||!S.type.validContent(g))return!1}let a=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(a,a,c?c.type:i.node(s+1).type)}function X3(t,e,n=1,r){let i=t.doc.resolve(e),s=ne.empty,o=ne.empty;for(let a=i.depth,c=i.depth-n,f=n-1;a>c;a--,f--){s=ne.from(i.node(a).copy(s));let d=r&&r[f];o=ne.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}t.step(new Ut(e,e,new de(s.append(o),n,n),!0))}function Qs(t,e){let n=t.resolve(e),r=n.index();return nE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function G3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function nE(t,e){return!!(t&&e&&!t.isLeaf&&G3(t,e))}function sp(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&nE(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Y3(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);d&&!h?r=!1:!d&&h&&(r=!0)}let a=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);tE(t,d.node(),d.before(),a)}o.inlineContent&&xy(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let c=t.mapping.slice(a),f=c.map(e-n);if(t.step(new Ut(f,c.map(e+n,-1),de.empty,!0)),r===!0){let d=t.doc.resolve(f);eE(t,d.node(),d.before(),t.steps.length)}return t}function J3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function rE(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,c=r.index(o)+(a>0?1:0),f=r.node(o),d=!1;if(s==1)d=f.canReplace(c,c,i);else{let h=f.contentMatchAt(c).findWrapping(i.firstChild.type);d=h&&f.canReplaceWith(c,c,h[0])}if(d)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function op(t,e,n=e,r=de.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return iE(i,s,r)?new Ut(e,n,r):new Q3(i,s,r).fit()}function iE(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Q3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let c=new de(s,o,a);return e>-1?new Xt(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Ut(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=vm(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:f}=this.frontier[a],d,h=null;if(n==1&&(o?f.matchType(o.type)||(h=f.fillBefore(ne.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:h};if(n==2&&o&&(d=f.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:d};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=vm(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new de(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=vm(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new de(Va(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new de(Va(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let o=this.unplaced,a=r?r.content:o.content,c=o.openStart-e,f=0,d=[],{match:h,type:m}=this.frontier[n];if(i){for(let S=0;S<i.childCount;S++)d.push(i.child(S));h=h.matchFragment(i)}let g=a.size+e-(o.content.size-o.openEnd);for(;f<a.childCount;){let S=a.child(f),M=h.matchType(S.type);if(!M)break;f++,(f>1||c==0||S.content.size)&&(h=M,d.push(sE(S.mark(m.allowedMarks(S.marks)),f==1?c:0,f==a.childCount?g:-1)))}let v=f==a.childCount;v||(g=-1),this.placed=Ha(this.placed,n,ne.from(d)),this.frontier[n].match=h,v&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,M=a;S<g;S++){let b=M.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),M=b.content}this.unplaced=v?e==0?de.empty:new de(Va(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new de(Va(o.content,e,f),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!xm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=xm(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:c,type:f}=this.frontier[a],d=xm(e,a,f,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ha(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ha(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=Ha(this.placed,this.frontier.length,n))}}function Va(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Va(t.firstChild.content,e-1,n)))}function Ha(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ha(t.lastChild.content,e-1,n)))}function vm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function sE(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,sE(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function xm(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Z3(n,s.content,o)?a:null}function Z3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function e4(t){return t.spec.defining||t.spec.definingForContent}function t4(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(iE(i,s,r))return t.step(new Ut(e,n,r));let o=lE(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let m=i.depth,g=i.pos-1;m>0;m--,g--){let v=i.node(m).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(m)>-1?a=m:i.before(m)==g&&o.splice(1,0,-m)}let c=o.indexOf(a),f=[],d=r.openStart;for(let m=r.content,g=0;;g++){let v=m.firstChild;if(f.push(v),g==r.openStart)break;m=v.content}for(let m=d-1;m>=0;m--){let g=f[m],v=e4(g.type);if(v&&!g.sameMarkup(i.node(Math.abs(a)-1)))d=m;else if(v||!g.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+d+1)%(r.openStart+1),v=f[g];if(v)for(let S=0;S<o.length;S++){let M=o[(S+c)%o.length],b=!0;M<0&&(b=!1,M=-M);let w=i.node(M-1),E=i.index(M-1);if(w.canReplaceWith(E,E,v.type,v.marks))return t.replace(i.before(M),b?s.after(M):n,new de(oE(r.content,0,r.openStart,g),g,r.openEnd))}}let h=t.steps.length;for(let m=o.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>h));m--){let g=o[m];g<0||(e=i.before(g),n=s.after(g))}}function oE(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(oE(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(ne.empty,!0))}return t}function n4(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=J3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new de(ne.from(r),0,0))}function r4(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=lE(r,i);for(let o=0;o<s.length;o++){let a=s[o],c=o==s.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function lE(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class zl extends Sn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return jt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return jt.fromReplace(e,this.pos,this.pos+1,new de(ne.from(i),0,n.isLeaf?0:1))}getMap(){return xr.empty}invert(e){return new zl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new zl(n.pos,n.attr,n.value)}}Sn.jsonID("attr",zl);class Ou extends Sn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return jt.ok(r)}getMap(){return xr.empty}invert(e){return new Ou(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ou(n.attr,n.value)}}Sn.jsonID("docAttr",Ou);let ql=class extends Error{};ql=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ql.prototype=Object.create(Error.prototype);ql.prototype.constructor=ql;ql.prototype.name="TransformError";class i4{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Nu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ql(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),n=i.map(n,-1)),i.forEach((s,o,a,c)=>{e=Math.min(e,a),n=Math.max(n,c)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=de.empty){let i=op(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new de(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,de.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return t4(this,e,n,r),this}replaceRangeWith(e,n,r){return n4(this,e,n,r),this}deleteRange(e,n){return r4(this,e,n),this}lift(e,n){return $3(this,e,n),this}join(e,n=1){return Y3(this,e,n),this}wrap(e,n){return W3(this,e,n),this}setBlockType(e,n=e,r,i=null){return U3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return q3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new zl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Ou(e,n)),this}addNodeMark(e,n){return this.step(new Ts(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof st)n.isInSet(r.marks)&&this.step(new zo(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new zo(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return X3(this,e,n,r),this}addMark(e,n,r){return z3(this,e,n,r),this}removeMark(e,n,r){return B3(this,e,n,r),this}clearIncompatible(e,n,r){return xy(this,e,n,r),this}}const wm=Object.create(null);class Le{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new s4(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=de.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:f}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(c.pos),d.map(f.pos),a?de.empty:n),a==0&&gb(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],c=e.mapping.slice(r),f=c.map(o.pos),d=c.map(a.pos);s?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),gb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new _e(e):hl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?hl(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):hl(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Er(e.node(0))}static atStart(e){return hl(e,e,0,0,1)||new Er(e)}static atEnd(e){return hl(e,e,e.content.size,e.childCount,-1)||new Er(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=wm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in wm)throw new RangeError("Duplicate use of selection JSON ID "+e);return wm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return _e.between(this.$anchor,this.$head).getBookmark()}}Le.prototype.visible=!0;class s4{constructor(e,n){this.$from=e,this.$to=n}}let hb=!1;function mb(t){!hb&&!t.parent.inlineContent&&(hb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class _e extends Le{constructor(e,n=e){mb(e),mb(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Le.near(r);let i=e.resolve(n.map(this.anchor));return new _e(i.parent.inlineContent?i:r,r)}replace(e,n=de.empty){if(super.replace(e,n),n==de.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof _e&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new lp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _e(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Le.findFrom(n,r,!0)||Le.findFrom(n,-r,!0);if(s)n=s.$head;else return Le.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Le.findFrom(e,-r,!0)||Le.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new _e(e,n)}}Le.jsonID("text",_e);class lp{constructor(e,n){this.anchor=e,this.head=n}map(e){return new lp(e.map(this.anchor),e.map(this.head))}resolve(e){return _e.between(e.resolve(this.anchor),e.resolve(this.head))}}class ke extends Le{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Le.near(s):new ke(s)}content(){return new de(ne.from(this.node),0,0)}eq(e){return e instanceof ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new by(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ke(e.resolve(n.anchor))}static create(e,n){return new ke(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ke.prototype.visible=!1;Le.jsonID("node",ke);class by{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new lp(r,r):new by(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ke.isSelectable(r)?new ke(n):Le.near(n)}}class Er extends Le{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=de.empty){if(n==de.empty){e.delete(0,e.doc.content.size);let r=Le.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Er(e)}map(e){return new Er(e)}eq(e){return e instanceof Er}getBookmark(){return o4}}Le.jsonID("all",Er);const o4={map(){return this},resolve(t){return new Er(t)}};function hl(t,e,n,r,i,s=!1){if(e.inlineContent)return _e.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&ke.isSelectable(a))return ke.create(t,n-(i<0?a.nodeSize:0))}else{let c=hl(t,a,n+i,i<0?a.childCount:0,i,s);if(c)return c}n+=a.nodeSize*i}return null}function gb(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ut||i instanceof Xt))return;let s=t.mapping.maps[r],o;s.forEach((a,c,f,d)=>{o==null&&(o=d)}),t.setSelection(Le.near(t.doc.resolve(o),n))}const yb=1,hf=2,vb=4;class l4 extends i4{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|yb)&~hf,this.storedMarks=null,this}get selectionSet(){return(this.updated&yb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hf,this}ensureMarks(e){return st.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~hf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||st.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Le.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=vb,this}get scrolledIntoView(){return(this.updated&vb)>0}}function xb(t,e){return!e||!t?t:t.bind(e)}class Wa{constructor(e,n,r){this.name=e,this.init=xb(n.init,r),this.apply=xb(n.apply,r)}}const a4=[new Wa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Wa("selection",{init(t,e){return t.selection||Le.atStart(e.doc)},apply(t){return t.selection}}),new Wa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Wa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class bm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=a4.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Wa(r.key,r.spec.state,r))})}}class _l{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,f=i?i[o].state:this,d=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,f,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new _l(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new l4(this)}static create(e){let n=new bm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new _l(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new bm(this.schema,e.plugins),r=n.fields,i=new _l(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new bm(e.schema,e.plugins),s=new _l(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Fs.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Le.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],f=c.spec.state;if(c.key==o.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=f.fromJSON.call(c,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function aE(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=aE(i,e,{})),n[r]=i}return n}class kn{constructor(e){this.spec=e,this.props={},e.props&&aE(e.props,this,this.props),this.key=e.key?e.key.key:uE("plugin")}getState(e){return e[this.key]}}const Sm=Object.create(null);function uE(t){return t in Sm?t+"$"+ ++Sm[t]:(Sm[t]=0,t+"$")}class Zr{constructor(e="key"){this.key=uE(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Xl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Xg=null;const Wi=function(t,e,n){let r=Xg||(Xg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},u4=function(){Xg=null},Bo=function(t,e,n,r){return n&&(wb(t,e,n,r,-1)||wb(t,e,n,r,1))},c4=/^(img|br|input|textarea|hr)$/i;function wb(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Hr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Uu(t)||c4.test(t.nodeName)||t.contentEditable=="false")return!1;e=sn(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?Hr(t):0}else return!1}}function Hr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function f4(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Hr(t)}else if(t.parentNode&&!Uu(t))e=sn(t),t=t.parentNode;else return null}}function d4(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Uu(t))e=sn(t)+1,t=t.parentNode;else return null}}function p4(t,e,n){for(let r=e==0,i=e==Hr(t);r||i;){if(t==n)return!0;let s=sn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Hr(t)}}function Uu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ap=function(t){return t.focusNode&&Bo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function yo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function h4(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function m4(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Hr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Hr(r.startContainer),r.startOffset)}}}const Oi=typeof navigator<"u"?navigator:null,bb=typeof document<"u"?document:null,Zs=Oi&&Oi.userAgent||"",Gg=/Edge\/(\d+)/.exec(Zs),cE=/MSIE \d/.exec(Zs),Yg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zs),sr=!!(cE||Yg||Gg),Vs=cE?document.documentMode:Yg?+Yg[1]:Gg?+Gg[1]:0,Kr=!sr&&/gecko\/(\d+)/i.test(Zs);Kr&&+(/Firefox\/(\d+)/.exec(Zs)||[0,0])[1];const Jg=!sr&&/Chrome\/(\d+)/.exec(Zs),Kt=!!Jg,fE=Jg?+Jg[1]:0,un=!sr&&!!Oi&&/Apple Computer/.test(Oi.vendor),Gl=un&&(/Mobile\/\w+/.test(Zs)||!!Oi&&Oi.maxTouchPoints>2),Fr=Gl||(Oi?/Mac/.test(Oi.platform):!1),dE=Oi?/Win/.test(Oi.platform):!1,Xi=/Android \d/.test(Zs),Ku=!!bb&&"webkitFontSmoothing"in bb.documentElement.style,g4=Ku?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function y4(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Vi(t,e){return typeof t=="number"?t:t[e]}function v4(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Sb(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Xl(o);continue}let a=o,c=a==s.body,f=c?y4(s):v4(a),d=0,h=0;if(e.top<f.top+Vi(r,"top")?h=-(f.top-e.top+Vi(i,"top")):e.bottom>f.bottom-Vi(r,"bottom")&&(h=e.bottom-e.top>f.bottom-f.top?e.top+Vi(i,"top")-f.top:e.bottom-f.bottom+Vi(i,"bottom")),e.left<f.left+Vi(r,"left")?d=-(f.left-e.left+Vi(i,"left")):e.right>f.right-Vi(r,"right")&&(d=e.right-f.right+Vi(i,"right")),d||h)if(c)s.defaultView.scrollBy(d,h);else{let g=a.scrollLeft,v=a.scrollTop;h&&(a.scrollTop+=h),d&&(a.scrollLeft+=d);let S=a.scrollLeft-g,M=a.scrollTop-v;e={left:e.left-S,top:e.top-M,right:e.right-S,bottom:e.bottom-M}}let m=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:Xl(o)}}function x4(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:pE(t.dom)}}function pE(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Xl(r));return e}function w4({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;hE(n,r==0?0:r-e)}function hE(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let fl=null;function b4(t){if(t.setActive)return t.setActive();if(fl)return t.focus(fl);let e=pE(t);t.focus(fl==null?{get preventScroll(){return fl={preventScroll:!0},!0}}:void 0),fl||(fl=!1,hE(e,0))}function mE(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,c,f;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=Wi(d).getClientRects();else continue;for(let g=0;g<m.length;g++){let v=m[g];if(v.top<=o&&v.bottom>=a){o=Math.max(v.bottom,o),a=Math.min(v.top,a);let S=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(S<r){n=d,r=S,i=S&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,d.nodeType==1&&S&&(s=h+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=d,f={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(s=h+1)}}return!n&&c&&(n=c,i=f,r=0),n&&n.nodeType==3?S4(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:mE(n,i)}function S4(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=vs(r,1);if(o.top!=o.bottom&&Sy(e,o)){i={node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function Sy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function k4(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function C4(t,e,n){let{node:r,offset:i}=mE(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function E4(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&c.left>r.left||c.top>r.top?i=a.posBefore:(!o&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function gE(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let f=a[c];if(Sy(e,f))return gE(o,e,f)}}if((s=(s+1)%r)==i)break}return t}function M4(t,e){let n=t.dom.ownerDocument,r,i=0,s=m4(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let f=t.dom.getBoundingClientRect();if(!Sy(e,f)||(o=gE(t.dom,e,f),!o))return null}if(un)for(let f=o;r&&f;f=Xl(f))f.draggable&&(r=void 0);if(o=k4(o,e),r){if(Kr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let f;Ku&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=E4(t,r,i,e))}a==null&&(a=C4(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function kb(t){return t.top<t.bottom||t.left<t.right}function vs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(kb(r))return r}return Array.prototype.find.call(n,kb)||t.getBoundingClientRect()}const N4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yE(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Ku||Kr;if(r.nodeType==3)if(o&&(N4.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=vs(Wi(r,i,i),n);if(Kr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=vs(Wi(r,i-1,i-1),-1);if(f.top==c.top){let d=vs(Wi(r,i,i+1),-1);if(d.top!=c.top)return Ia(d,d.left<f.left)}}return c}else{let c=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(c--,d=1):n<0?c--:f++,Ia(vs(Wi(r,c,f),d),d<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Hr(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return km(c.getBoundingClientRect(),!1)}if(s==null&&i<Hr(r)){let c=r.childNodes[i];if(c.nodeType==1)return km(c.getBoundingClientRect(),!0)}return km(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Hr(r))){let c=r.childNodes[i-1],f=c.nodeType==3?Wi(c,Hr(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return Ia(vs(f,1),!1)}if(s==null&&i<Hr(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Wi(c,0,o?0:1):c.nodeType==1?c:null:null;if(f)return Ia(vs(f,-1),!0)}return Ia(vs(r.nodeType==3?Wi(r):r,-n),n>=0)}function Ia(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function km(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function vE(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function O4(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return vE(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=yE(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Wi(a,0,a.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const T4=/[\u0590-\u08ac]/;function _4(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!T4.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:vE(t,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:v,focusOffset:S}=t.domSelectionRange(),M=v&&!g.contains(v.nodeType==1?v:v.parentNode)||c==v&&f==S;try{a.collapse(d,h),c&&(c!=d||f!=h)&&a.extend&&a.extend(c,f)}catch{}return m!=null&&(a.caretBidiLevel=m),M}):r.pos==r.start()||r.pos==r.end()}let Cb=null,Eb=null,Mb=!1;function P4(t,e,n){return Cb==e&&Eb==n?Mb:(Cb=e,Eb=n,Mb=n=="up"||n=="down"?O4(t,e,n):_4(t,e,n))}const qr=0,Nb=1,So=2,Ti=3;class qu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof wE){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof xE&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?sn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?sn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let c=this.children[a],f=o+c.size;if(i==-1&&e<=f){let d=o+c.border;if(e>=d&&n<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=o;for(let h=a;h>0;h--){let m=this.children[h-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=sn(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(f>n||a==this.children.length-1)){n=f;for(let d=a+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=sn(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let g=0,v=0;g<this.children.length;g++){let S=this.children[g],M=v+S.size;if(s>v&&o<M)return S.setSelection(e-v-S.border,n-v-S.border,r,i);v=M}let a=this.domFromPos(e,e?-1:1),c=n==e?a:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),d=r.domSelectionRange(),h=!1;if((Kr||un)&&e==n){let{node:g,offset:v}=a;if(g.nodeType==3){if(h=!!(v&&g.nodeValue[v-1]==`
`),h&&v==g.nodeValue.length)for(let S=g,M;S;S=S.parentNode){if(M=S.nextSibling){M.nodeName=="BR"&&(a=c={node:M.parentNode,offset:sn(M)+1});break}let b=S.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let S=g.childNodes[v-1];h=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Kr&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||h&&un)&&Bo(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Bo(c.node,c.offset,d.focusNode,d.focusOffset))return;let m=!1;if((f.extend||e==n)&&!(h&&Kr)){f.collapse(a.node,a.offset);try{e!=n&&f.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>n){let v=a;a=c,c=v}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(a.node,a.offset),f.removeAllRanges(),f.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,c=o-s.border;if(e>=a&&n<=c){this.dirty=e==r||n==o?So:Nb,e==a&&n==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ti:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?So:Ti}r=o}this.dirty=So}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?So:Nb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class xE extends qu{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==qr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class D4 extends qu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Fo extends qu{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Uo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Fo(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ti||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ti&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qr}}slice(e,n,r){let i=Fo.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Zg(s,n,o,r)),e>0&&(s=Zg(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Hs extends qu{constructor(e,n,r,i,s,o,a,c,f){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],c,f=a&&a(n,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=f&&f.dom,h=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Uo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=kE(d,r,n),f?c=new A4(e,n,r,i,d,h||null,m,f,s,o+1):n.isText?new up(e,n,r,i,d,m,s):new Hs(e,n,r,i,d,h||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==qr&&e.eq(this.node)&&Sd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,c=new I4(this,o&&o.node,e);z4(this.node,this.innerDeco,(f,d,h)=>{f.spec.marks?c.syncToMarks(f.spec.marks,r,e,d):f.type.side>=0&&!h&&c.syncToMarks(d==this.node.childCount?st.none:this.node.child(d).marks,r,e,d),c.placeWidget(f,e,i)},(f,d,h,m)=>{c.syncToMarks(f.marks,r,e,m);let g;c.findNodeMatch(f,d,h,m)||a&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(g=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(f,d,h,g,e)||c.updateNextNode(f,d,h,e,m,i)||c.addNode(f,d,h,e,i),i+=f.nodeSize}),c.syncToMarks([],r,e,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==So)&&(o&&this.protectLocalComposition(e,o),bE(this.contentDOM,this.children,e),Gl&&B4(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof _e)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=F4(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new D4(this,s,n,i);e.input.compositionNodes.push(o),this.children=Zg(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Ti||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qr}updateOuterDeco(e){if(Sd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=SE(this.dom,this.nodeDOM,Qg(this.outerDeco,this.node,n),Qg(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Ob(t,e,n,r,i){kE(r,e,t);let s=new Hs(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class up extends Hs{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ti||this.dirty!=qr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=qr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new up(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ti)}get domAtom(){return!1}isText(e){return this.node.text==e}}class wE extends qu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class A4 extends Hs{constructor(e,n,r,i,s,o,a,c,f,d){super(e,n,r,i,s,o,a,f,d),this.spec=c}update(e,n,r,i){if(this.dirty==Ti)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function bE(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=Tb(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Fo){let c=r?r.previousSibling:t.lastChild;bE(o.contentDOM,o.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=Tb(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const nu=function(t){t&&(this.nodeName=t)};nu.prototype=Object.create(null);const ko=[new nu];function Qg(t,e,n){if(t.length==0)return ko;let r=n?ko[0]:new nu,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new nu(o.nodeName));for(let a in o){let c=o[a];c!=null&&(n&&i.length==1&&i.push(r=new nu(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function SE(t,e,n,r){if(n==ko&&r==ko)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let c;a&&a.nodeName==o.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=ko[0]),i=c}R4(i,a||ko[0],o)}return i}function R4(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function kE(t,e,n){return SE(t,t,ko,Qg(e,n,t.nodeType!=1))}function Sd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Tb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class I4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=j4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,i){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=qr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1,f=this.top.children.length;i<this.preMatch.index&&(f=Math.min(this.index+3,f));for(let d=this.index;d<f;d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Fo.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let f=this.top.children[a];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Ti&&o.dom==o.contentDOM&&(o.dirty=So),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Hs){let f=this.preMatch.matched.get(c);if(f!=null&&f!=s)return!1;let d=c.dom,h,m=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Ti&&Sd(n,c.outerDeco));if(!m&&c.update(e,n,r,i))return this.destroyBetween(this.index,a),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(h=this.recreateWrapper(c,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=So,h.updateChildren(i,o+1),h.dirty=qr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Sd(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Hs.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Hs.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new xE(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Fo;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof up)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((un||Kt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new wE(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function j4(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let f=n.children[r-1];if(f instanceof Fo)n=f,r=f.children.length;else{a=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function L4(t,e){return t.type.side-e.type.side}function z4(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(s,d),f),s+=d.nodeSize}return}let o=0,a=[],c=null;for(let f=0;;){let d,h;for(;o<i.length&&i[o].to==s;){let M=i[o++];M.widget&&(d?(h||(h=[d])).push(M):d=M)}if(d)if(h){h.sort(L4);for(let M=0;M<h.length;M++)n(h[M],f,!!c)}else n(d,f,!!c);let m,g;if(c)g=-1,m=c,c=null;else if(f<t.childCount)g=f,m=t.child(f++);else break;for(let M=0;M<a.length;M++)a[M].to<=s&&a.splice(M--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let v=s+m.nodeSize;if(m.isText){let M=v;o<i.length&&i[o].from<M&&(M=i[o].from);for(let b=0;b<a.length;b++)a[b].to<M&&(M=a[b].to);M<v&&(c=m.cut(M-s),m=m.cut(0,M-s),v=M,g=-1)}else for(;o<i.length&&i[o].to<v;)o++;let S=m.isInline&&!m.isLeaf?a.filter(M=>!M.inline):a.slice();r(m,S,e.forChild(s,m),g),s=v}}function B4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function F4(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<t.childCount;){let f=t.child(i++);if(s+=f.nodeSize,!f.isText)break;c+=f.text}if(s>=n){if(s>=r&&c.slice(r-e.length-a,r-a)==e)return r-e.length;let f=a<r?c.lastIndexOf(e,r-a-1):-1;if(f>=0&&f+e.length+a>=n)return a+f;if(n==r&&c.length>=r+e.length-a&&c.slice(r-a,r-a+e.length)==e)return r}}return-1}function Zg(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let c=t[o],f=a,d=a+=c.size;f>=n||d<=e?s.push(c):(f<e&&s.push(c.slice(0,e-f,r)),i&&(s.push(i),i=void 0),d>n&&s.push(c.slice(n-f,c.size,r)))}return s}function ky(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),c,f;if(ap(n)){for(c=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&ke.isSelectable(h)&&i.parent&&!(h.isInline&&p4(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;f=new ke(o==m?a:r.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,m=o;for(let g=0;g<n.rangeCount;g++){let v=n.getRangeAt(g);h=Math.min(h,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(h<0)return null;[c,o]=m==t.state.selection.anchor?[m,h]:[h,m],a=r.resolve(o)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!f){let h=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;f=Cy(t,d,a,h)}return f}function CE(t){return t.editable?t.hasFocus():ME(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Qi(t,e=!1){let n=t.state.selection;if(EE(t,n),!!CE(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Kt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Bo(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)V4(t);else{let{anchor:r,head:i}=n,s,o;_b&&!(n instanceof _e)&&(n.$from.parent.inlineContent||(s=Pb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=Pb(t,n.to))),t.docView.setSelection(r,i,t,e),_b&&(s&&Db(s),o&&Db(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const _b=un||Kt&&fE<63;function Pb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(un&&i&&i.contentEditable=="false")return Cm(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Cm(i);if(s)return Cm(s)}}function Cm(t){return t.contentEditable="true",un&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Db(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function $4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!CE(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function V4(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,sn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&sr&&Vs<=11&&(n.disabled=!0,n.disabled=!1)}function EE(t,e){if(e instanceof ke){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Ab(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Ab(t)}function Ab(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Cy(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||_e.between(e,n,r)}function Rb(t){return t.editable&&!t.hasFocus()?!1:ME(t)}function ME(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function H4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Bo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function e0(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Le.findFrom(s,e)}function bs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ib(t,e,n){let r=t.state.selection;if(r instanceof _e)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return bs(t,new _e(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=e0(t.state,e);return i&&i instanceof ke?bs(t,i):!1}else if(!(Fr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ke.isSelectable(s)?bs(t,new ke(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Ku?bs(t,new _e(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ke&&r.node.isInline)return bs(t,new _e(e>0?r.$to:r.$from));{let i=e0(t.state,e);return i?bs(t,i):!1}}}function kd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ru(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function dl(t,e){return e<0?W4(t):U4(t)}function W4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(Kr&&n.nodeType==1&&r<kd(n)&&ru(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(ru(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(NE(n))break;{let a=n.previousSibling;for(;a&&ru(a,-1);)i=n.parentNode,s=sn(a),a=a.previousSibling;if(a)n=a,r=kd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?t0(t,n,r):i&&t0(t,i,s)}function U4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=kd(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(ru(a,1))s=n,o=++r;else break}else{if(NE(n))break;{let a=n.nextSibling;for(;a&&ru(a,1);)s=a.parentNode,o=sn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=kd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&t0(t,s,o)}function NE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function K4(t,e){for(;t&&e==t.childNodes.length&&!Uu(t);)e=sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function q4(t,e){for(;t&&!e&&!Uu(t);)e=sn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function t0(t,e,n){if(e.nodeType!=3){let s,o;(o=K4(e,n))?(e=o,n=0):(s=q4(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(ap(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Qi(t)},50)}function jb(t,e){let n=t.state.doc.resolve(e);if(!(Kt||dE)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Lb(t,e,n){let r=t.state.selection;if(r instanceof _e&&!r.empty||n.indexOf("s")>-1||Fr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=e0(t.state,e);if(o&&o instanceof ke)return bs(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Er?Le.near(o,e):Le.findFrom(o,e);return a?bs(t,a):!1}return!1}function zb(t,e){if(!(t.state.selection instanceof _e))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function Bb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function X4(t){if(!un||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Bb(t,r,"true"),setTimeout(()=>Bb(t,r,"false"),20)}return!1}function G4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Y4(t,e){let n=e.keyCode,r=G4(e);if(n==8||Fr&&n==72&&r=="c")return zb(t,-1)||dl(t,-1);if(n==46&&!e.shiftKey||Fr&&n==68&&r=="c")return zb(t,1)||dl(t,1);if(n==13||n==27)return!0;if(n==37||Fr&&n==66&&r=="c"){let i=n==37?jb(t,t.state.selection.from)=="ltr"?-1:1:-1;return Ib(t,i,r)||dl(t,i)}else if(n==39||Fr&&n==70&&r=="c"){let i=n==39?jb(t,t.state.selection.from)=="ltr"?1:-1:1;return Ib(t,i,r)||dl(t,i)}else{if(n==38||Fr&&n==80&&r=="c")return Lb(t,-1,r)||dl(t,-1);if(n==40||Fr&&n==78&&r=="c")return X4(t)||Lb(t,1,r)||dl(t,1);if(r==(Fr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ey(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let o=t.someProp("clipboardSerializer")||Uo.fromSchema(t.state.schema),a=AE(),c=a.createElement("div");c.appendChild(o.serializeFragment(r,{document:a}));let f=c.firstChild,d,h=0;for(;f&&f.nodeType==1&&(d=DE[f.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let v=a.createElement(d[g]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),h++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function OE(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let c=!!e&&(r||s||!n);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,s||r,t)}),s)return a=new de(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{a=m(a,t,!0)}),a;let h=t.someProp("clipboardTextParser",m=>m(e,i,r,t));if(h)a=h;else{let m=i.marks(),{schema:g}=t.state,v=Uo.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let M=o.appendChild(document.createElement("p"));S&&M.appendChild(v.serializeNode(g.text(S,m)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=e5(n),Ku&&t5(o);let f=o&&o.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||$s.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!J4.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)a=n5(Fb(a,+d[1],+d[2]),d[4]);else if(a=de.maxOpen(Q4(a.content,i),!0),a.openStart||a.openEnd){let h=0,m=0;for(let g=a.content.firstChild;h<a.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=a.content.lastChild;m<a.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);a=Fb(a,h,m)}return t.someProp("transformPasted",h=>{a=h(a,t,c)}),a}const J4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Q4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),f;if(!c)return o=null;if(f=o.length&&s.length&&_E(c,s,a,o[o.length-1],0))o[o.length-1]=f;else{o.length&&(o[o.length-1]=PE(o[o.length-1],s.length));let d=TE(a,c);o.push(d),i=i.matchType(d.type),s=c}}),o)return ne.from(o)}return t}function TE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function _E(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=_E(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ne.from(TE(n,t,i+1))))}}function PE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,PE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function n0(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=n0(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Fb(t,e,n){return e<t.openStart&&(t=new de(n0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new de(n0(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const DE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let $b=null;function AE(){return $b||($b=document.implementation.createHTMLDocument("title"))}let Em=null;function Z4(t){let e=window.trustedTypes;return e?(Em||(Em=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Em.createHTML(t)):t}function e5(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=AE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&DE[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Z4(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function t5(t){let e=t.querySelectorAll(Kt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function n5(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let c=n.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=ne.from(c.create(r[a+1],i)),s++,o++}return new de(i,s,o)}const Bn={},Fn={},r5={touchstart:!0,touchmove:!0};class i5{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function s5(t){for(let e in Bn){let n=Bn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{l5(t,r)&&!My(t,r)&&(t.editable||!(r.type in Fn))&&n(t,r)},r5[e]?{passive:!0}:void 0)}un&&t.dom.addEventListener("input",()=>null),r0(t)}function _s(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function o5(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function r0(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>My(t,r))})}function My(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function l5(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function a5(t,e){!My(t,e)&&Bn[e.type]&&(t.editable||!(e.type in Fn))&&Bn[e.type](t,e)}Fn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!IE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Xi&&Kt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Gl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,yo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Y4(t,n)?n.preventDefault():_s(t,"key")};Fn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Fn.keypress=(t,e)=>{let n=e;if(IE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Fr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof _e)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function cp(t){return{left:t.clientX,top:t.clientY}}function u5(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ny(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Bl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function c5(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ke.isSelectable(r)?(Bl(t,new ke(n)),!0):!1}function f5(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ke&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ke.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Bl(t,ke.create(t.state.doc,i)),!0):!1}function d5(t,e,n,r,i){return Ny(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?f5(t,n):c5(t,n))}function p5(t,e,n,r){return Ny(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function h5(t,e,n,r){return Ny(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||m5(t,n,r)}function m5(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Bl(t,_e.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Bl(t,_e.create(r,a+1,a+1+o.content.size));else if(ke.isSelectable(o))Bl(t,ke.create(r,a));else continue;return!0}}function Oy(t){return Cd(t)}const RE=Fr?"metaKey":"ctrlKey";Bn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Oy(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&u5(n,t.input.lastClick)&&!n[RE]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(cp(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new g5(t,o,n,!!r)):(s=="doubleClick"?p5:h5)(t,o.pos,o.inside,n)?n.preventDefault():_s(t,"pointer"))};class g5{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[RE],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);s=d.parent,o=d.depth?d.before():0}const a=i?null:r.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof ke&&f.from<=o&&f.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Kr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_s(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(cp(e))),this.updateAllowDefault(e),this.allowDefault||!n?_s(this.view,"pointer"):d5(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||un&&this.mightDrag&&!this.mightDrag.node.isAtom||Kt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Bl(this.view,Le.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):_s(this.view,"pointer")}move(e){this.updateAllowDefault(e),_s(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Bn.touchstart=t=>{t.input.lastTouch=Date.now(),Oy(t),_s(t,"pointer")};Bn.touchmove=t=>{t.input.lastTouch=Date.now(),_s(t,"pointer")};Bn.contextmenu=t=>Oy(t);function IE(t,e){return t.composing?!0:un&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const y5=Xi?5e3:-1;Fn.compositionstart=Fn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof _e&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Kt&&dE&&v5(t)))t.markCursor=t.state.storedMarks||n.marks(),Cd(t,!0),t.markCursor=null;else if(Cd(t,!e.selection.empty),Kr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}jE(t,y5)};function v5(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Fn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,jE(t,20))};function jE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Cd(t),e))}function LE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=w5());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function x5(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=f4(e.focusNode,e.focusOffset),r=d4(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function w5(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Cd(t,e=!1){if(!(Xi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),LE(t),e||t.docView&&t.docView.dirty){let n=ky(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function b5(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Tu=sr&&Vs<15||Gl&&g4<604;Bn.copy=Fn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Tu?null:n.clipboardData,o=r.content(),{dom:a,text:c}=Ey(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",c)):b5(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function S5(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function k5(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?_u(t,r.value,null,i,e):_u(t,r.textContent,r.innerHTML,i,e)},50)}function _u(t,e,n,r,i){let s=OE(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,s||de.empty)))return!0;if(!s)return!1;let o=S5(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function zE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Fn.paste=(t,e)=>{let n=e;if(t.composing&&!Xi)return;let r=Tu?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&_u(t,zE(r),r.getData("text/html"),i,n)?n.preventDefault():k5(t,n)};class BE{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const C5=Fr?"altKey":"ctrlKey";function FE(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[C5]}Bn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(cp(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ke?i.to-1:i.to))){if(r&&r.mightDrag)o=ke.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=ke.create(t.state.doc,h.posBefore))}}let a=(o||t.state.selection).content(),{dom:c,text:f,slice:d}=Ey(t,a);(!n.dataTransfer.files.length||!Kt||fE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Tu?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Tu||n.dataTransfer.setData("text/plain",f),t.dragging=new BE(d,FE(t,n),o)};Bn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Fn.dragover=Fn.dragenter=(t,e)=>e.preventDefault();Fn.drop=(t,e)=>{try{E5(t,e,t.dragging)}finally{t.dragging=null}};function E5(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(cp(e));if(!r)return;let i=t.state.doc.resolve(r.pos),s=n&&n.slice;s?t.someProp("transformPasted",g=>{s=g(s,t,!1)}):s=OE(t,zE(e.dataTransfer),Tu?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(n&&FE(t,e));if(t.someProp("handleDrop",g=>g(t,e,s||de.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let a=s?rE(t.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(o){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(h))return;let m=c.doc.resolve(f);if(d&&ke.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new ke(m));else{let g=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((v,S,M,b)=>g=b),c.setSelection(Cy(t,m,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}Bn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Qi(t)},20))};Bn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bn.beforeinput=(t,e)=>{if(Kt&&Xi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,yo(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Fn)Bn[t]=Fn[t];function Pu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Ed{constructor(e,n){this.toDOM=e,this.spec=n||Oo,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Sr(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ed&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Pu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ws{constructor(e,n){this.attrs=e,this.spec=n||Oo}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Sr(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ws&&Pu(this.attrs,e.attrs)&&Pu(this.spec,e.spec)}static is(e){return e.type instanceof Ws}destroy(){}}class Ty{constructor(e,n){this.attrs=e,this.spec=n||Oo}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Sr(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof Ty&&Pu(this.attrs,e.attrs)&&Pu(this.spec,e.spec)}destroy(){}}class Sr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Sr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Sr(e,e,new Ed(n,r))}static inline(e,n,r,i){return new Sr(e,n,new Ws(r,i))}static node(e,n,r,i){return new Sr(e,n,new Ty(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ws}get widget(){return this.type instanceof Ed}}const ml=[],Oo={};class Rt{constructor(e,n){this.local=e.length?e:ml,this.children=n.length?n:ml}static create(e,n){return n.length?Md(n,e,0,Oo):xn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==xn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Oo)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,r,i);c&&c.type.valid(n,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?M5(this.children,o||[],e,n,r,i,s):o?new Rt(o.sort(To),ml):xn}add(e,n){return n.length?this==xn?Rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,c)=>{let f=c+r,d;if(d=VE(n,a,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(a,d,f+1):i.splice(s,0,c,c+a.nodeSize,Md(d,a,f+1,Oo)),s+=3}});let o=$E(s?HE(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Rt(o.length?this.local.concat(o).sort(To):this.local,i||this.children)}remove(e){return e.length==0||this==xn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,c=r[s+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>a&&h.to<c&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(o,a+1);f!=xn?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Rt(i,r):xn}forChild(e,n){if(this==xn)return this;if(n.isLeaf)return Rt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>s&&c.type instanceof Ws){let f=Math.max(s,c.from)-s,d=Math.min(o,c.to)-s;f<d&&(i||(i=[])).push(c.copy(f,d))}}if(i){let a=new Rt(i.sort(To),ml);return r?new Es([a,r]):a}return r||xn}eq(e){if(this==e)return!0;if(!(e instanceof Rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return _y(this.localsInner(e))}localsInner(e){if(this==xn)return ml;if(e.inlineContent||!this.local.some(Ws.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ws||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Rt.empty=new Rt([],[]);Rt.removeOverlap=_y;const xn=Rt.empty;class Es{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Oo));return Es.from(r)}forChild(e,n){if(n.isLeaf)return Rt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=xn&&(s instanceof Es?r=r.concat(s.members):r.push(s))}return Es.from(r)}eq(e){if(!(e instanceof Es)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?_y(r?n:n.sort(To)):ml}static from(e){switch(e.length){case 0:return xn;case 1:return e[0];default:return new Es(e.every(n=>n instanceof Rt)?e:e.reduce((n,r)=>n.concat(r instanceof Rt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function M5(t,e,n,r,i,s,o){let a=t.slice();for(let f=0,d=s;f<n.maps.length;f++){let h=0;n.maps[f].forEach((m,g,v,S)=>{let M=S-v-(g-m);for(let b=0;b<a.length;b+=3){let w=a[b+1];if(w<0||m>w+d-h)continue;let E=a[b]+d-h;g>=E?a[b+1]=m<=E?-2:-1:m>=d&&M&&(a[b]+=M,a[b+1]+=M)}h+=M}),d=n.maps[f].map(d,-1)}let c=!1;for(let f=0;f<a.length;f+=3)if(a[f+1]<0){if(a[f+1]==-2){c=!0,a[f+1]=-1;continue}let d=n.map(t[f]+s),h=d-i;if(h<0||h>=r.content.size){c=!0;continue}let m=n.map(t[f+1]+s,-1),g=m-i,{index:v,offset:S}=r.content.findIndex(h),M=r.maybeChild(v);if(M&&S==h&&S+M.nodeSize==g){let b=a[f+2].mapInner(n,M,d+1,t[f]+s+1,o);b!=xn?(a[f]=h,a[f+1]=g,a[f+2]=b):(a[f+1]=-2,c=!0)}else c=!0}if(c){let f=N5(a,t,e,n,i,s,o),d=Md(f,r,0,o);e=d.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,m=0;h<d.children.length;h+=3){let g=d.children[h];for(;m<a.length&&a[m]<g;)m+=3;a.splice(m,0,d.children[h],d.children[h+1],d.children[h+2])}}return new Rt(e.sort(To),a)}function $E(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Sr(i.from+e,i.to+e,i.type))}return n}function N5(t,e,n,r,i,s,o){function a(c,f){for(let d=0;d<c.local.length;d++){let h=c.local[d].map(r,i,f);h?n.push(h):o.onRemove&&o.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)a(c.children[d+2],c.children[d]+f+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&a(t[c+2],e[c]+s+1);return n}function VE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function HE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Md(t,e,n,r){let i=[],s=!1;e.forEach((a,c)=>{let f=VE(t,a,c+n);if(f){s=!0;let d=Md(f,a,n+c+1,r);d!=xn&&i.push(c,c+a.nodeSize,d)}});let o=$E(s?HE(t):t,-n).sort(To);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Rt(o,i):xn}function To(t,e){return t.from-e.from||t.to-e.to}function _y(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Vb(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Vb(e,i,r.copy(s.from,r.to)));break}}}return e}function Vb(t,e,n){for(;e<t.length&&To(n,t[e])>0;)e++;t.splice(e,0,n)}function Mm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=xn&&e.push(r)}),t.cursorWrapper&&e.push(Rt.create(t.state.doc,[t.cursorWrapper.deco])),Es.from(e)}const O5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},T5=sr&&Vs<=11;class _5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class P5{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _5,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);sr&&Vs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():un&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),T5&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,O5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Rb(this.view)){if(this.suppressingSelectionUpdates)return Qi(this.view);if(sr&&Vs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Bo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Xl(s))n.add(s);for(let s=e.anchorNode;s;s=Xl(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Rb(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],c);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(Kr&&c.length){let d=c.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,m]=d;h.parentNode&&h.parentNode.parentNode==m.parentNode?m.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let m of d){let g=m.parentNode;g&&g.nodeName=="LI"&&(!h||R5(e,h)!=g)&&m.remove()}}}else if((Kt||un)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let h=d.nextSibling;h&&h.nodeType==1&&h.contentEditable=="false"&&d.parentNode.removeChild(d)}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ap(r)&&(f=ky(e))&&f.eq(Le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Qi(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),D5(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,I5(e,c)),this.handleDOMChange(s,o,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Qi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(sr&&Vs<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:m}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?sn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?sn(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,c,1);return{from:a,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Hb=new WeakMap,Wb=!1;function D5(t){if(!Hb.has(t)&&(Hb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Kr,Wb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Wb=!0}}function Ub(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Bo(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function A5(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Ub(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Ub(t,n):null}function R5(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function I5(t,e){var n;let{focusNode:r,focusOffset:i}=t.domSelectionRange();for(let s of e)if(((n=s.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=s.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let a=o;for(;;){let c=a.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;a=c}a.insertBefore(s,a.firstChild),r==s&&t.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function j5(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),c=t.domSelectionRange(),f,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:c.anchorOffset}],ap(c)||f.push({node:c.focusNode,offset:c.focusOffset})),Kt&&t.input.lastKeyCode===8)for(let M=s;M>i;M--){let b=r.childNodes[M-1],w=b.pmViewDesc;if(b.nodeName=="BR"&&!w){s=M;break}if(!w||w.size)break}let h=t.state.doc,m=t.someProp("domParser")||$s.fromSchema(t.state.schema),g=h.resolve(o),v=null,S=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:L5,context:g});if(f&&f[0].pos!=null){let M=f[0].pos,b=f[1]&&f[1].pos;b==null&&(b=M),v={anchor:M+o,head:b+o}}return{doc:S,sel:v,from:o,to:a}}function L5(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(un&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||un&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const z5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function B5(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=ky(t,D);if(A&&!t.state.selection.eq(A)){if(Kt&&Xi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",U=>U(t,yo(13,"Enter"))))return;let F=t.state.tr.setSelection(A);D=="pointer"?F.setMeta("pointer",!0):D=="key"&&F.scrollIntoView(),s&&F.setMeta("composition",s),t.dispatch(F)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let c=t.state.selection,f=j5(t,e,n),d=t.state.doc,h=d.slice(f.from,f.to),m,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,g="end"):(m=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let v=V5(h.content,f.doc.content,f.from,m,g);if(v&&t.input.domChangeCount++,(Gl&&t.input.lastIOSEnter>Date.now()-225||Xi)&&i.some(D=>D.nodeType==1&&!z5.test(D.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",D=>D(t,yo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(r&&c instanceof _e&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let D=Kb(t,t.state.doc,f.sel);if(D&&!D.eq(t.state.selection)){let A=t.state.tr.setSelection(D);s&&A.setMeta("composition",s),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof _e&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),sr&&Vs<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>f.from&&f.doc.textBetween(v.start-f.from-1,v.start-f.from+1)==" "&&(v.start--,v.endA--,v.endB--);let S=f.doc.resolveNoCache(v.start-f.from),M=f.doc.resolveNoCache(v.endB-f.from),b=d.resolve(v.start),w=S.sameParent(M)&&S.parent.inlineContent&&b.end()>=v.endA;if((Gl&&t.input.lastIOSEnter>Date.now()-225&&(!w||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!w&&S.pos<f.doc.content.size&&(!S.sameParent(M)||!S.parent.inlineContent)&&S.pos<M.pos&&!/\S/.test(f.doc.textBetween(S.pos,M.pos,"","")))&&t.someProp("handleKeyDown",D=>D(t,yo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&$5(d,v.start,v.endA,S,M)&&t.someProp("handleKeyDown",D=>D(t,yo(8,"Backspace")))){Xi&&Kt&&t.domObserver.suppressSelectionUpdates();return}Kt&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),Xi&&!w&&S.start()!=M.start()&&M.parentOffset==0&&S.depth==M.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==v.endA&&(v.endB-=2,M=f.doc.resolveNoCache(v.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,yo(13,"Enter"))})},20));let E=v.start,k=v.endA,_=D=>{let A=D||t.state.tr.replace(E,k,f.doc.slice(v.start-f.from,v.endB-f.from));if(f.sel){let F=Kb(t,A.doc,f.sel);F&&!(Kt&&t.composing&&F.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(F.head==E||F.head==A.mapping.map(k)-1)||sr&&F.empty&&F.head==E)&&A.setSelection(F)}return s&&A.setMeta("composition",s),A.scrollIntoView()},T;if(w)if(S.pos==M.pos){sr&&Vs<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qi(t),20));let D=_(t.state.tr.delete(E,k)),A=d.resolve(v.start).marksAcross(d.resolve(v.endA));A&&D.ensureMarks(A),t.dispatch(D)}else if(v.endA==v.endB&&(T=F5(S.parent.content.cut(S.parentOffset,M.parentOffset),b.parent.content.cut(b.parentOffset,v.endA-b.start())))){let D=_(t.state.tr);T.type=="add"?D.addMark(E,k,T.mark):D.removeMark(E,k,T.mark),t.dispatch(D)}else if(S.parent.child(S.index()).isText&&S.index()==M.index()-(M.textOffset?0:1)){let D=S.parent.textBetween(S.parentOffset,M.parentOffset),A=()=>_(t.state.tr.insertText(D,E,k));t.someProp("handleTextInput",F=>F(t,E,k,D,A))||t.dispatch(A())}else t.dispatch(_());else t.dispatch(_())}function Kb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Cy(t,e.resolve(n.anchor),e.resolve(n.head))}function F5(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)s=n[d].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",c=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",c=d=>d.mark(a.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(c(e.child(d)));if(ne.from(f).eq(t))return{mark:a,type:o}}function $5(t,e,n,r,i){if(n-e<=i.pos-r.pos||Nm(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Nm(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Nm(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Nm(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function V5(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(o,a));r-=o+c-s}if(o<s&&t.size<e.size){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<e.size&&qb(e.textBetween(s-1,s+1))&&(s+=c?1:-1),a=s+(a-o),o=s}else if(a<s){let c=r<=s&&r>=a?s-r:0;s-=c,s&&s<t.size&&qb(t.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function qb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class WE{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new i5,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Qb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Yb(this),Gb(this),this.nodeViews=Jb(this),this.docView=Ob(this.state.doc,Xb(this),Mm(this),this.dom,this),this.domObserver=new P5(this,(r,i,s,o)=>B5(this,r,i,s,o)),this.domObserver.start(),s5(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&r0(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Qb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(LE(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=Jb(this);W5(g,this.nodeViews)&&(this.nodeViews=g,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&r0(this),this.editable=Yb(this),Gb(this);let c=Mm(this),f=Xb(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,f,c);(h||!e.selection.eq(i.selection))&&(o=!0);let m=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&x4(this);if(o){this.domObserver.stop();let g=h&&(sr||Kt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&H5(i.selection,e.selection);if(h){let v=Kt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=x5(this)),(s||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Ob(e.doc,f,c,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&H4(this))?Qi(this,g):(EE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&w4(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ke){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Sb(this,n.getBoundingClientRect(),e)}else Sb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new BE(e.slice,e.move,i<0?void 0:ke.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(sr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&b4(this.dom),Qi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return M4(this,e)}coordsAtPos(e,n=1){return yE(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return P4(this,n||this.state,e)}pasteHTML(e,n){return _u(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return _u(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ey(this,e)}destroy(){this.docView&&(o5(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Mm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,u4())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return a5(this,e)}domSelectionRange(){let e=this.domSelection();return e?un&&this.root.nodeType===11&&h4(this.dom.ownerDocument)==this.dom&&A5(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}WE.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Xb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Sr.node(0,t.state.doc.content.size,e)]}function Gb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Sr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Yb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function H5(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Jb(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function W5(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Qb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Nd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},U5=typeof navigator<"u"&&/Mac/.test(navigator.platform),K5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var on=0;on<10;on++)qs[48+on]=qs[96+on]=String(on);for(var on=1;on<=24;on++)qs[on+111]="F"+on;for(var on=65;on<=90;on++)qs[on]=String.fromCharCode(on+32),Nd[on]=String.fromCharCode(on);for(var Om in qs)Nd.hasOwnProperty(Om)||(Nd[Om]=qs[Om]);function q5(t){var e=U5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||K5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Nd:qs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const X5=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),G5=typeof navigator<"u"&&/Win/.test(navigator.platform);function Y5(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))X5?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function J5(t){let e=Object.create(null);for(let n in t)e[Y5(n)]=t[n];return e}function Tm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Q5(t){return new kn({props:{handleKeyDown:UE(t)}})}function UE(t){let e=J5(t);return function(n,r){let i=q5(r),s,o=e[Tm(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Tm(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(G5&&r.ctrlKey&&r.altKey)&&(s=qs[r.keyCode])&&s!=i){let a=e[Tm(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Py=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function KE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const qE=(t,e,n)=>{let r=KE(t,n);if(!r)return!1;let i=Dy(r);if(!i){let o=r.blockRange(),a=o&&oa(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(nM(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Yl(s,"end")||ke.isSelectable(s)))for(let o=r.depth;;o--){let a=op(t.doc,r.before(o),r.after(o),de.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(Yl(s,"end")?Le.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ke.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Z5=(t,e,n)=>{let r=KE(t,n);if(!r)return!1;let i=Dy(r);return i?XE(t,i,e):!1},eB=(t,e,n)=>{let r=YE(t,n);if(!r)return!1;let i=Ay(r);return i?XE(t,i,e):!1};function XE(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,a=o,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let f=op(t.doc,s,c,de.empty);if(!f||f.from!=s||f instanceof Ut&&f.slice.size>=c-s)return!1;if(n){let d=t.tr.step(f);d.setSelection(_e.create(d.doc,s)),n(d.scrollIntoView())}return!0}function Yl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const GE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Dy(r)}let o=s&&s.nodeBefore;return!o||!ke.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ke.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Dy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function YE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const JE=(t,e,n)=>{let r=YE(t,n);if(!r)return!1;let i=Ay(r);if(!i)return!1;let s=i.nodeAfter;if(nM(t,i,e,1))return!0;if(r.parent.content.size==0&&(Yl(s,"start")||ke.isSelectable(s))){let o=op(t.doc,r.before(),r.after(),de.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Yl(s,"start")?Le.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ke.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},QE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Ay(r)}let o=s&&s.nodeAfter;return!o||!ke.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ke.create(t.doc,s.pos)).scrollIntoView()),!0)};function Ay(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const tB=(t,e)=>{let n=t.selection,r=n instanceof ke,i;if(r){if(n.node.isTextblock||!Qs(t.doc,n.from))return!1;i=n.from}else if(i=sp(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(ke.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},nB=(t,e)=>{let n=t.selection,r;if(n instanceof ke){if(n.node.isTextblock||!Qs(t.doc,n.to))return!1;r=n.to}else if(r=sp(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},rB=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&oa(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},ZE=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ry(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const iB=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Ry(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),c=t.tr.replaceWith(a,a,o.createAndFill());c.setSelection(Le.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},eM=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Er||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Ry(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(_e.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},tM=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Ji(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&oa(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function sB(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ke&&e.selection.node.isBlock)return!r.parentOffset||!Ji(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,c=!1,f=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),f=r.start(g)==r.pos-(r.depth-g),a=Ry(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),s.unshift(c&&a?{type:a}:null),o=g;break}else{if(g==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof _e||e.selection instanceof Er)&&d.deleteSelection();let h=d.mapping.map(r.pos),m=Ji(d.doc,h,s.length,s);if(m||(s[0]=a?{type:a}:null,m=Ji(d.doc,h,s.length,s)),!m)return!1;if(d.split(h,s.length,s),!c&&f&&r.node(o).type!=a){let g=d.mapping.map(r.before(o)),v=d.doc.resolve(g);a&&r.node(o-1).canReplaceWith(v.index(),v.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const oB=sB(),lB=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(ke.create(t.doc,i))),!0)};function aB(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Qs(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function nM(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&aB(t,e,n))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let g=e.pos+s.nodeSize,v=ne.empty;for(let b=o.length-1;b>=0;b--)v=ne.from(o[b].create(null,v));v=ne.from(i.copy(v));let S=t.tr.step(new Xt(e.pos-1,g,e.pos,g,new de(v,1,0),o.length,!0)),M=S.doc.resolve(g+2*o.length);M.nodeAfter&&M.nodeAfter.type==i.type&&Qs(S.doc,M.pos)&&S.join(M.pos),n(S.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&c?null:Le.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),m=h&&oa(h);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(h,m).scrollIntoView()),!0;if(f&&Yl(s,"start",!0)&&Yl(i,"end")){let g=i,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let S=s,M=1;for(;!S.isTextblock;S=S.firstChild)M++;if(g.canReplace(g.childCount,g.childCount,S.content)){if(n){let b=ne.empty;for(let E=v.length-1;E>=0;E--)b=ne.from(v[E].copy(b));let w=t.tr.step(new Xt(e.pos-v.length,e.pos+s.nodeSize,e.pos+M,e.pos+s.nodeSize-M,new de(b,v.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function rM(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(_e.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const uB=rM(-1),cB=rM(1);function fB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&wy(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Zb(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(c,f)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let d=n.doc.resolve(f),h=d.index();i=d.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];s.setBlockType(a,c,t,e)}r(s.scrollIntoView())}return!0}}function Iy(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Iy(Py,qE,GE);Iy(Py,JE,QE);Iy(ZE,eM,tM,oB);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function dB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return pB(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function pB(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new wd(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new wd(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=wy(s,n,r,e);return a?(t&&hB(t,e,a,i,n),!0):!1}function hB(t,e,n,r,i){let s=ne.empty;for(let d=n.length-1;d>=0;d--)s=ne.from(n[d].type.create(n[d].attrs,s));t.step(new Xt(e.start-(r?2:0),e.end,e.start,e.end,new de(s,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==i&&(o=d+1);let a=n.length-o,c=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,h=e.endIndex,m=!0;d<h;d++,m=!1)!m&&Ji(t.doc,c,a)&&(t.split(c,a),c+=2*a),c+=f.child(d).nodeSize;return t}function mB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?gB(e,n,t,s):yB(e,n,s):!0:!1}}function gB(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Xt(s-1,o,s,o,new de(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new wd(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=oa(r);if(a==null)return!1;i.lift(r,a);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Qs(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function yB(t,e,n){let r=t.tr,i=n.parent;for(let g=n.end,v=n.endIndex-1,S=n.startIndex;v>S;v--)g-=i.child(v).nodeSize,r.delete(g-1,g+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,c=n.endIndex==i.childCount,f=s.node(-1),d=s.index(-1);if(!f.canReplace(d+(a?0:1),d+1,o.content.append(c?ne.empty:ne.from(i))))return!1;let h=s.pos,m=h+o.nodeSize;return r.step(new Xt(h-(a?1:0),m+(c?1:0),h+1,m-1,new de((a?ne.empty:ne.from(i.copy(ne.empty))).append(c?ne.empty:ne.from(i.copy(ne.empty))),a?0:1,c?0:1),a?0:1)),e(r.scrollIntoView()),!0}function vB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,c=a.child(o-1);if(c.type!=t)return!1;if(n){let f=c.lastChild&&c.lastChild.type==a.type,d=ne.from(f?t.create():null),h=new de(ne.from(t.create(null,ne.from(a.type.create(null,d)))),f?3:1,0),m=s.start,g=s.end;n(e.tr.step(new Xt(m-(f?3:1),g,m,g,h,1,!0)).scrollIntoView())}return!0}}function fp(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class dp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...d)=>{const h=c(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],c=!!e,f=e||s.tr,d=()=>(!c&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),a.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...S)=>{const M=this.buildProps(f,n),b=g(...S)(M);return a.push(b),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([c,f])=>[c,(...d)=>f(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:fp({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([c,f])=>[c,(...d)=>f(...d)(a)]))}};return a}}class xB{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ye(t,e,n){return t.config[e]===void 0&&t.parent?ye(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ye(t.parent,e,n):null}):t.config[e]}function pp(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function iM(t){const e=[],{nodeExtensions:n,markExtensions:r}=pp(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},c=ye(o,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([m,g])=>{e.push({type:h,name:m,attribute:{...s,...g}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=ye(o,"addAttributes",a);if(!c)return;const f=c();Object.entries(f).forEach(([d,h])=>{const m={...s,...h};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:o.name,name:d,attribute:m})})}),e}function Yt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function $n(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],f=a.filter(d=>!c.includes(d));r[i]=[...c,...f].join(" ")}else if(i==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],f=new Map;c.forEach(d=>{const[h,m]=d.split(":").map(g=>g.trim());f.set(h,m)}),a.forEach(d=>{const[h,m]=d.split(":").map(g=>g.trim());f.set(h,m)}),r[i]=Array.from(f.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else r[i]=s}),r},{})}function i0(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>$n(n,r),{})}function sM(t){return typeof t=="function"}function Be(t,e=void 0,...n){return sM(t)?e?t.bind(e)(...n):t(...n):t}function wB(t={}){return Object.keys(t).length===0&&t.constructor===Object}function bB(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function eS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):bB(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function tS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&wB(n)?!1:n!=null))}function SB(t,e){var n;const r=iM(t),{nodeExtensions:i,markExtensions:s}=pp(t),o=(n=i.find(f=>ye(f,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(f=>{const d=r.filter(b=>b.type===f.name),h={name:f.name,options:f.options,storage:f.storage,editor:e},m=t.reduce((b,w)=>{const E=ye(w,"extendNodeSchema",h);return{...b,...E?E(f):{}}},{}),g=tS({...m,content:Be(ye(f,"content",h)),marks:Be(ye(f,"marks",h)),group:Be(ye(f,"group",h)),inline:Be(ye(f,"inline",h)),atom:Be(ye(f,"atom",h)),selectable:Be(ye(f,"selectable",h)),draggable:Be(ye(f,"draggable",h)),code:Be(ye(f,"code",h)),whitespace:Be(ye(f,"whitespace",h)),linebreakReplacement:Be(ye(f,"linebreakReplacement",h)),defining:Be(ye(f,"defining",h)),isolating:Be(ye(f,"isolating",h)),attrs:Object.fromEntries(d.map(b=>{var w;return[b.name,{default:(w=b==null?void 0:b.attribute)===null||w===void 0?void 0:w.default}]}))}),v=Be(ye(f,"parseHTML",h));v&&(g.parseDOM=v.map(b=>eS(b,d)));const S=ye(f,"renderHTML",h);S&&(g.toDOM=b=>S({node:b,HTMLAttributes:i0(b,d)}));const M=ye(f,"renderText",h);return M&&(g.toText=M),[f.name,g]})),c=Object.fromEntries(s.map(f=>{const d=r.filter(M=>M.type===f.name),h={name:f.name,options:f.options,storage:f.storage,editor:e},m=t.reduce((M,b)=>{const w=ye(b,"extendMarkSchema",h);return{...M,...w?w(f):{}}},{}),g=tS({...m,inclusive:Be(ye(f,"inclusive",h)),excludes:Be(ye(f,"excludes",h)),group:Be(ye(f,"group",h)),spanning:Be(ye(f,"spanning",h)),code:Be(ye(f,"code",h)),attrs:Object.fromEntries(d.map(M=>{var b;return[M.name,{default:(b=M==null?void 0:M.attribute)===null||b===void 0?void 0:b.default}]}))}),v=Be(ye(f,"parseHTML",h));v&&(g.parseDOM=v.map(M=>eS(M,d)));const S=ye(f,"renderHTML",h);return S&&(g.toDOM=M=>S({mark:M,HTMLAttributes:i0(M,d)})),[f.name,g]}));return new K2({topNode:o,nodes:a,marks:c})}function _m(t,e){return e.nodes[t]||e.marks[t]||null}function nS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function jy(t,e){const n=Uo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const kB=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var c,f;const d=((f=(c=i.type.spec).toText)===null||f===void 0?void 0:f.call(c,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),n};function Ly(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class hp{constructor(e){this.find=e.find,this.handler=e.handler}}const CB=(t,e)=>{if(Ly(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function mf(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:c}=n;if(c.composing)return!1;const f=c.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const h=kB(f)+s;return o.forEach(m=>{if(d)return;const g=CB(h,m.find);if(!g)return;const v=c.state.tr,S=fp({state:c.state,transaction:v}),M={from:r-(g[0].length-s.length),to:i},{commands:b,chain:w,can:E}=new dp({editor:n,state:S});m.handler({state:S,range:M,match:g,commands:b,chain:w,can:E})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:r,to:i,text:s}),c.dispatch(v),d=!0)}),d}function EB(t){const{editor:e,rules:n}=t,r=new kn({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=jy(ne.from(d),o.schema);const{from:h}=c,m=h+d.length;mf({editor:e,from:h,to:m,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return mf({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&mf({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?mf({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function MB(t){return Object.prototype.toString.call(t).slice(8,-1)}function gf(t){return MB(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function mp(t,e){const n={...t};return gf(t)&&gf(e)&&Object.keys(e).forEach(r=>{gf(e[r])&&gf(t[r])?n[r]=mp(t[r],e[r]):n[r]=e[r]}),n}class Xs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(ye(this,"addOptions",{name:this.name}))),this.storage=Be(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xs(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>mp(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Xs(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Be(ye(n,"addOptions",{name:n.name})),n.storage=Be(ye(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const c=o.find(f=>(f==null?void 0:f.type.name)===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function NB(t){return typeof t=="number"}class OB{constructor(e){this.find=e.find,this.handler=e.handler}}const TB=(t,e,n)=>{if(Ly(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function _B(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:c,chain:f,can:d}=new dp({editor:e,state:n}),h=[];return n.doc.nodesBetween(r,i,(g,v)=>{if(!g.isTextblock||g.type.spec.code)return;const S=Math.max(r,v),M=Math.min(i,v+g.content.size),b=g.textBetween(S-v,M-v,void 0,"");TB(b,s.find,o).forEach(E=>{if(E.index===void 0)return;const k=S+E.index+1,_=k+E[0].length,T={from:n.tr.mapping.map(k),to:n.tr.mapping.map(_)},D=s.handler({state:n,range:T,match:E,commands:c,chain:f,can:d,pasteEvent:o,dropEvent:a});h.push(D)})}),h.every(g=>g!==null)}let yf=null;const PB=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function DB(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:d,from:h,to:m,rule:g,pasteEvt:v})=>{const S=d.tr,M=fp({state:d,transaction:S});if(!(!_B({editor:e,state:M,from:Math.max(h-1,0),to:m.b-1,rule:g,pasteEvent:v,dropEvent:a})||!S.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(d=>new kn({view(h){const m=v=>{var S;r=!((S=h.dom.parentElement)===null||S===void 0)&&S.contains(v.target)?h.dom.parentElement:null,r&&(yf=e)},g=()=>{yf&&(yf=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(h,m)=>{if(s=r===h.dom.parentElement,a=m,!s){const g=yf;g!=null&&g.isEditable&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(h,m)=>{var g;const v=(g=m.clipboardData)===null||g===void 0?void 0:g.getData("text/html");return o=m,i=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(h,m,g)=>{const v=h[0],S=v.getMeta("uiEvent")==="paste"&&!i,M=v.getMeta("uiEvent")==="drop"&&!s,b=v.getMeta("applyPasteRules"),w=!!b;if(!S&&!M&&!w)return;if(w){let{text:_}=b;typeof _=="string"?_=_:_=jy(ne.from(_),g.schema);const{from:T}=b,D=T+_.length,A=PB(_);return c({rule:d,state:g,from:T,to:{b:D},pasteEvt:A})}const E=m.doc.content.findDiffStart(g.doc.content),k=m.doc.content.findDiffEnd(g.doc.content);if(!(!NB(E)||!k||E===k.b))return c({rule:d,state:g,from:E,to:k,pasteEvt:o})}}))}function AB(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Pl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Pl.resolve(e),this.schema=SB(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Pl.sort(Pl.flatten(e)),r=AB(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ye(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=ye(r,"priority")||100,o=ye(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:_m(n.name,this.schema)},i=ye(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Pl.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:_m(o.name,this.schema)},c=[],f=ye(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&ye(o,"exitable",a)&&(d.ArrowRight=()=>Xs.handleExit({editor:e,mark:o})),f){const S=Object.fromEntries(Object.entries(f()).map(([M,b])=>[M,()=>b({editor:e})]));d={...d,...S}}const h=Q5(d);c.push(h);const m=ye(o,"addInputRules",a);nS(o,e.options.enableInputRules)&&m&&r.push(...m());const g=ye(o,"addPasteRules",a);nS(o,e.options.enablePasteRules)&&g&&i.push(...g());const v=ye(o,"addProseMirrorPlugins",a);if(v){const S=v();c.push(...S)}return c}).flat();return[EB({editor:e,rules:r}),...DB({editor:e,rules:i}),...s]}get attributes(){return iM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=pp(this.extensions);return Object.fromEntries(n.filter(r=>!!ye(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Yt(r.name,this.schema)},o=ye(r,"addNodeView",s);if(!o)return[];const a=(c,f,d,h,m)=>{const g=i0(c,i);return o()({node:c,view:f,getPos:d,decorations:h,innerDecorations:m,editor:e,extension:r,HTMLAttributes:g})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:_m(e.name,this.schema)};e.type==="mark"&&(!((n=Be(ye(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=ye(e,"onBeforeCreate",r),s=ye(e,"onCreate",r),o=ye(e,"onUpdate",r),a=ye(e,"onSelectionUpdate",r),c=ye(e,"onTransaction",r),f=ye(e,"onFocus",r),d=ye(e,"onBlur",r),h=ye(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}}class cn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(ye(this,"addOptions",{name:this.name}))),this.storage=Be(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>mp(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new cn({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Be(ye(n,"addOptions",{name:n.name})),n.storage=Be(ye(n,"addStorage",{name:n.name,options:n.options})),n}}function oM(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(c,f,d,h)=>{var m;c.isBlock&&f>r&&(a+=s);const g=o==null?void 0:o[c.type.name];if(g)return d&&(a+=g({node:c,pos:f,parent:d,index:h,range:e})),!1;c.isText&&(a+=(m=c==null?void 0:c.text)===null||m===void 0?void 0:m.slice(Math.max(r,f)-f,i-f))}),a}function lM(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const RB=cn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new kn({key:new Zr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),c=lM(n);return oM(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),IB=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),jB=(t=!1)=>({commands:e})=>e.setContent("",t),LB=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,c)=>{if(a.type.isText)return;const{doc:f,mapping:d}=e,h=f.resolve(d.map(c)),m=f.resolve(d.map(c+a.nodeSize)),g=h.blockRange(m);if(!g)return;const v=oa(g);if(a.type.isTextblock){const{defaultType:S}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(g.start,S)}(v||v===0)&&e.lift(g,v)})}),!0},zB=t=>e=>t(e),BB=()=>({state:t,dispatch:e})=>eM(t,e),FB=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new _e(r.doc.resolve(Math.max(o-1,0)))),!0},$B=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),c=i.after(s);t.delete(a,c).scrollIntoView()}return!0}return!1},VB=t=>({tr:e,state:n,dispatch:r})=>{const i=Yt(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const c=s.before(o),f=s.after(o);e.delete(c,f).scrollIntoView()}return!0}return!1},HB=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},WB=()=>({state:t,dispatch:e})=>Py(t,e),UB=()=>({commands:t})=>t.keyboardShortcut("Enter"),KB=()=>({state:t,dispatch:e})=>iB(t,e);function Od(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Ly(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function aM(t,e,n={}){return t.find(r=>r.type===e&&Od(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function rS(t,e,n={}){return!!aM(t,e,n)}function zy(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!aM([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,c=o+1,f=a+i.node.nodeSize;for(;o>0&&rS([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&rS([...t.parent.child(c).marks],e,n);)f+=t.parent.child(c).nodeSize,c+=1;return{from:a,to:f}}function eo(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const qB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=eo(t,r.schema),{doc:o,selection:a}=n,{$from:c,from:f,to:d}=a;if(i){const h=zy(c,s,e);if(h&&h.from<=f&&h.to>=d){const m=_e.create(o,h.from,h.to);n.setSelection(m)}}return!0},XB=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function By(t){return t instanceof _e}function Gi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function uM(t,e=null){if(!e)return null;const n=Le.atStart(t),r=Le.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?_e.create(t,Gi(0,i,s),Gi(t.content.size,i,s)):_e.create(t,Gi(e,i,s),Gi(e,i,s))}function iS(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Td(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function GB(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const YB=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Td()||iS())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),GB()&&!Td()&&!iS()&&r.dom.focus({preventScroll:!0}))})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!By(n.state.selection))return o(),!0;const a=uM(i.doc,t)||n.state.selection,c=n.state.selection.eq(a);return s&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},JB=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),QB=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),cM=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&cM(r)}return t};function vf(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return cM(n)}function Du(t,e,n){if(t instanceof Fs||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Du("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const c=new K2({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(o=!0,a=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?$s.fromSchema(c).parseSlice(vf(t),n.parseOptions):$s.fromSchema(c).parse(vf(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=$s.fromSchema(e);return n.slice?s.parseSlice(vf(t),n.parseOptions).content:s.parse(vf(t),n.parseOptions)}return Du("",e,n)}function ZB(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Ut||i instanceof Xt))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,c,f,d)=>{o===0&&(o=d)}),t.setSelection(Le.near(t.doc.resolve(o),n))}const eF=t=>!("type"in t),tF=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const c=M=>{s.emit("contentError",{editor:s,error:M,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Du(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(M){c(M)}try{a=Du(e,s.schema,{parseOptions:f,errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(M){return c(M),!1}let{from:d,to:h}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,g=!0;if((eF(a)?a:[a]).forEach(M=>{M.check(),m=m?M.isText&&M.marks.length===0:!1,g=g?M.isBlock:!1}),d===h&&g){const{parent:M}=r.doc.resolve(d);M.isTextblock&&!M.type.spec.code&&!M.childCount&&(d-=1,h+=1)}let S;if(m){if(Array.isArray(e))S=e.map(M=>M.text||"").join("");else if(e instanceof ne){let M="";e.forEach(b=>{b.text&&(M+=b.text)}),S=M}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,d,h)}else S=a,r.replaceWith(d,h,S);n.updateSelection&&ZB(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:S})}return!0},nF=()=>({state:t,dispatch:e})=>tB(t,e),rF=()=>({state:t,dispatch:e})=>nB(t,e),iF=()=>({state:t,dispatch:e})=>qE(t,e),sF=()=>({state:t,dispatch:e})=>JE(t,e),oF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=sp(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},lF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=sp(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},aF=()=>({state:t,dispatch:e})=>Z5(t,e),uF=()=>({state:t,dispatch:e})=>eB(t,e);function fM(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function cF(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Td()||fM()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const fF=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=cF(t).split(/-(?!$)/),o=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,a))});return c==null||c.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Au(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Yt(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(h,m)=>{if(h.isText)return;const g=Math.max(r,m),v=Math.min(i,m+h.nodeSize);a.push({node:h,from:g,to:v})});const c=i-r,f=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>Od(h.node.attrs,n,{strict:!1}));return s?!!f.length:f.reduce((h,m)=>h+m.to-m.from,0)>=c}const dF=(t,e={})=>({state:n,dispatch:r})=>{const i=Yt(t,n.schema);return Au(n,i,e)?rB(n,r):!1},pF=()=>({state:t,dispatch:e})=>tM(t,e),hF=t=>({state:e,dispatch:n})=>{const r=Yt(t,e.schema);return mB(r)(e,n)},mF=()=>({state:t,dispatch:e})=>ZE(t,e);function gp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function sS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const gF=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=gp(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Yt(t,r.schema)),a==="mark"&&(o=eo(t,r.schema)),i&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(f,d)=>{s&&s===f.type&&n.setNodeMarkup(d,void 0,sS(f.attrs,e)),o&&f.marks.length&&f.marks.forEach(h=>{o===h.type&&n.addMark(d,d+f.nodeSize,o.create(sS(h.attrs,e)))})})}),!0):!1},yF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),vF=()=>({tr:t,dispatch:e})=>{if(e){const n=new Er(t.doc);t.setSelection(n)}return!0},xF=()=>({state:t,dispatch:e})=>GE(t,e),wF=()=>({state:t,dispatch:e})=>QE(t,e),bF=()=>({state:t,dispatch:e})=>lB(t,e),SF=()=>({state:t,dispatch:e})=>cB(t,e),kF=()=>({state:t,dispatch:e})=>uB(t,e);function s0(t,e,n={},r={}){return Du(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const CF=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var c,f;const{doc:d}=s;if(n.preserveWhitespace!=="full"){const h=s0(t,i.schema,n,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return o&&s.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck})};function dM(t,e){const n=eo(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{o.push(...c.marks)});const a=o.find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function EF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function MF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Fy(t){return e=>MF(e.$from,t)}function NF(t,e){const n={from:0,to:t.content.size};return oM(t,n,e)}function OF(t,e){const n=Yt(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function TF(t,e){const n=gp(typeof e=="string"?e:e.name,t.schema);return n==="node"?OF(t,e):n==="mark"?dM(t,e):{}}function pM(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=zy(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function zf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function o0(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?eo(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Od(h.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:h,$to:m})=>{const g=h.pos,v=m.pos;t.doc.nodesBetween(g,v,(S,M)=>{if(!S.isText&&!S.marks.length)return;const b=Math.max(g,M),w=Math.min(v,M+S.nodeSize),E=w-b;o+=E,a.push(...S.marks.map(k=>({mark:k,from:b,to:w})))})}),o===0)return!1;const c=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Od(h.mark.attrs,n,{strict:!1})).reduce((h,m)=>h+m.to-m.from,0),f=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,m)=>h+m.to-m.from,0);return(c>0?c+f:c)>=o}function _F(t,e,n={}){if(!e)return Au(t,null,n)||o0(t,null,n);const r=gp(e,t.schema);return r==="node"?Au(t,e,n):r==="mark"?o0(t,e,n):!1}function oS(t,e){const{nodeExtensions:n}=pp(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Be(ye(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function yp(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(yp(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function hM(t){return t instanceof ke}function PF(t,e,n){const i=t.state.doc.content.size,s=Gi(e,0,i),o=Gi(n,0,i),a=t.coordsAtPos(s),c=t.coordsAtPos(o,-1),f=Math.min(a.top,c.top),d=Math.max(a.bottom,c.bottom),h=Math.min(a.left,c.left),m=Math.max(a.right,c.right),g=m-h,v=d-f,b={top:f,bottom:d,left:h,right:m,width:g,height:v,x:h,y:f};return{...b,toJSON:()=>b}}function DF(t,e,n){var r;const{selection:i}=e;let s=null;if(By(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(c=>c.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:c})=>{let f=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,c.pos,(d,h,m)=>{if(f)return!1;if(d.isInline){const g=!m||m.type.allowsMarkType(n),v=!!n.isInSet(d.marks)||!d.marks.some(S=>S.type.excludes(n));f=g&&v}return!f}),f})}const AF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,c=eo(t,r.schema);if(i)if(o){const f=dM(r,c);n.addStoredMark(c.create({...f,...e}))}else a.forEach(f=>{const d=f.$from.pos,h=f.$to.pos;r.doc.nodesBetween(d,h,(m,g)=>{const v=Math.max(g,d),S=Math.min(g+m.nodeSize,h);m.marks.find(b=>b.type===c)?m.marks.forEach(b=>{c===b.type&&n.addMark(v,S,c.create({...b.attrs,...e}))}):n.addMark(v,S,c.create(e))})});return DF(r,n,c)},RF=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),IF=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Yt(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>Zb(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>Zb(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},jF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Gi(t,0,r.content.size),s=ke.create(r,i);e.setSelection(s)}return!0},LF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=_e.atStart(r).from,a=_e.atEnd(r).to,c=Gi(i,o,a),f=Gi(s,o,a),d=_e.create(r,c,f);e.setSelection(d)}return!0},zF=t=>({state:e,dispatch:n})=>{const r=Yt(t,e.schema);return vB(r)(e,n)};function lS(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const BF=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:c}=s,f=i.extensionManager.attributes,d=zf(f,a.node().type.name,a.node().attrs);if(s instanceof ke&&s.node.isBlock)return!a.parentOffset||!Ji(o,a.pos)?!1:(r&&(t&&lS(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=c.parentOffset===c.parent.content.size,m=a.depth===0?void 0:EF(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=h&&m?[{type:m,attrs:d}]:void 0,v=Ji(e.doc,e.mapping.map(a.pos),1,g);if(!g&&!v&&Ji(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(v=!0,g=m?[{type:m,attrs:d}]:void 0),r){if(v&&(s instanceof _e&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,g),m&&!h&&!a.parentOffset&&a.parent.type!==m)){const S=e.mapping.map(a.before()),M=e.doc.resolve(S);a.node(-1).canReplaceWith(M.index(),M.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}t&&lS(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},FF=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=Yt(t,r.schema),{$from:c,$to:f}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(f))return!1;const h=c.node(-1);if(h.type!==a)return!1;const m=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let b=ne.empty;const w=c.index(-1)?1:c.index(-2)?2:3;for(let A=c.depth-w;A>=c.depth-3;A-=1)b=ne.from(c.node(A).copy(b));const E=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,k={...zf(m,c.node().type.name,c.node().attrs),...e},_=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;b=b.append(ne.from(a.createAndFill(null,_)||void 0));const T=c.before(c.depth-(w-1));n.replace(T,c.after(-E),new de(b,4-w,0));let D=-1;n.doc.nodesBetween(T,n.doc.content.size,(A,F)=>{if(D>-1)return!1;A.isTextblock&&A.content.size===0&&(D=F+1)}),D>-1&&n.setSelection(_e.near(n.doc.resolve(D))),n.scrollIntoView()}return!0}const g=f.pos===c.end()?h.contentMatchAt(0).defaultType:null,v={...zf(m,h.type.name,h.attrs),...e},S={...zf(m,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,f.pos);const M=g?[{type:a,attrs:v},{type:g,attrs:S}]:[{type:a,attrs:v}];if(!Ji(n.doc,c.pos,2))return!1;if(i){const{selection:b,storedMarks:w}=r,{splittableMarks:E}=s.extensionManager,k=w||b.$to.parentOffset&&b.$from.marks();if(n.split(c.pos,2,M).scrollIntoView(),!k||!i)return!0;const _=k.filter(T=>E.includes(T.type.name));n.ensureMarks(_)}return!0},Pm=(t,e)=>{const n=Fy(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Qs(t.doc,n.pos)&&t.join(n.pos),!0},Dm=(t,e)=>{const n=Fy(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Qs(t.doc,r)&&t.join(r),!0},$F=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:c,commands:f,can:d})=>{const{extensions:h,splittableMarks:m}=i.extensionManager,g=Yt(t,o.schema),v=Yt(e,o.schema),{selection:S,storedMarks:M}=o,{$from:b,$to:w}=S,E=b.blockRange(w),k=M||S.$to.parentOffset&&S.$from.marks();if(!E)return!1;const _=Fy(T=>oS(T.type.name,h))(S);if(E.depth>=1&&_&&E.depth-_.depth<=1){if(_.node.type===g)return f.liftListItem(v);if(oS(_.node.type.name,h)&&g.validContent(_.node.content)&&a)return c().command(()=>(s.setNodeMarkup(_.pos,g),!0)).command(()=>Pm(s,g)).command(()=>Dm(s,g)).run()}return!n||!k||!a?c().command(()=>d().wrapInList(g,r)?!0:f.clearNodes()).wrapInList(g,r).command(()=>Pm(s,g)).command(()=>Dm(s,g)).run():c().command(()=>{const T=d().wrapInList(g,r),D=k.filter(A=>m.includes(A.type.name));return s.ensureMarks(D),T?!0:f.clearNodes()}).wrapInList(g,r).command(()=>Pm(s,g)).command(()=>Dm(s,g)).run()},VF=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=eo(t,r.schema);return o0(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},HF=(t,e,n={})=>({state:r,commands:i})=>{const s=Yt(t,r.schema),o=Yt(e,r.schema),a=Au(r,s,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),a?i.setNode(o,c):i.setNode(s,{...c,...n})},WF=(t,e={})=>({state:n,commands:r})=>{const i=Yt(t,n.schema);return Au(n,i,e)?r.lift(i):r.wrapIn(i,e)},UF=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let c=a.steps.length-1;c>=0;c-=1)o.step(a.steps[c].invert(a.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},KF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},qF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,c=eo(t,r.schema),{$from:f,empty:d,ranges:h}=a;if(!i)return!0;if(d&&o){let{from:m,to:g}=a;const v=(s=f.marks().find(M=>M.type===c))===null||s===void 0?void 0:s.attrs,S=zy(f,c,v);S&&(m=S.from,g=S.to),n.removeMark(m,g,c)}else h.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,c)});return n.removeStoredMark(c),!0},XF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=gp(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=Yt(t,r.schema)),a==="mark"&&(o=eo(t,r.schema)),i&&n.selection.ranges.forEach(c=>{const f=c.$from.pos,d=c.$to.pos;let h,m,g,v;n.selection.empty?r.doc.nodesBetween(f,d,(S,M)=>{s&&s===S.type&&(g=Math.max(M,f),v=Math.min(M+S.nodeSize,d),h=M,m=S)}):r.doc.nodesBetween(f,d,(S,M)=>{M<f&&s&&s===S.type&&(g=Math.max(M,f),v=Math.min(M+S.nodeSize,d),h=M,m=S),M>=f&&M<=d&&(s&&s===S.type&&n.setNodeMarkup(M,void 0,{...S.attrs,...e}),o&&S.marks.length&&S.marks.forEach(b=>{if(o===b.type){const w=Math.max(M,f),E=Math.min(M+S.nodeSize,d);n.addMark(w,E,o.create({...b.attrs,...e}))}}))}),m&&(h!==void 0&&n.setNodeMarkup(h,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(S=>{o===S.type&&n.addMark(g,v,o.create({...S.attrs,...e}))}))}),!0):!1},GF=(t,e={})=>({state:n,dispatch:r})=>{const i=Yt(t,n.schema);return fB(i,e)(n,r)},YF=(t,e={})=>({state:n,dispatch:r})=>{const i=Yt(t,n.schema);return dB(i,e)(n,r)};var JF=Object.freeze({__proto__:null,blur:IB,clearContent:jB,clearNodes:LB,command:zB,createParagraphNear:BB,cut:FB,deleteCurrentNode:$B,deleteNode:VB,deleteRange:HB,deleteSelection:WB,enter:UB,exitCode:KB,extendMarkRange:qB,first:XB,focus:YB,forEach:JB,insertContent:QB,insertContentAt:tF,joinBackward:iF,joinDown:rF,joinForward:sF,joinItemBackward:oF,joinItemForward:lF,joinTextblockBackward:aF,joinTextblockForward:uF,joinUp:nF,keyboardShortcut:fF,lift:dF,liftEmptyBlock:pF,liftListItem:hF,newlineInCode:mF,resetAttributes:gF,scrollIntoView:yF,selectAll:vF,selectNodeBackward:xF,selectNodeForward:wF,selectParentNode:bF,selectTextblockEnd:SF,selectTextblockStart:kF,setContent:CF,setMark:AF,setMeta:RF,setNode:IF,setNodeSelection:jF,setTextSelection:LF,sinkListItem:zF,splitBlock:BF,splitListItem:FF,toggleList:$F,toggleMark:VF,toggleNode:HF,toggleWrap:WF,undoInputRule:UF,unsetAllMarks:KF,unsetMark:qF,updateAttributes:XF,wrapIn:GF,wrapInList:YF});const QF=cn.create({name:"commands",addCommands(){return{...JF}}}),ZF=cn.create({name:"drop",addProseMirrorPlugins(){return[new kn({key:new Zr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),e6=cn.create({name:"editable",addProseMirrorPlugins(){return[new kn({key:new Zr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),t6=new Zr("focusEvents"),n6=cn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new kn({key:t6,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),r6=cn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:c,doc:f}=a,{empty:d,$anchor:h}=c,{pos:m,parent:g}=h,v=h.parent.isTextblock&&m>0?a.doc.resolve(m-1):h,S=v.parent.type.spec.isolating,M=h.pos-h.parentOffset,b=S&&v.parent.childCount===1?M===h.pos:Le.atStart(f).from===m;return!d||!g.type.isTextblock||g.textContent.length||!b||b&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Td()||fM()?s:i},addProseMirrorPlugins(){return[new kn({key:new Zr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),i=t.some(S=>S.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,c=Le.atStart(e.doc).from,f=Le.atEnd(e.doc).to;if(s||!(o===c&&a===f)||!yp(n.doc))return;const m=n.tr,g=fp({state:n,transaction:m}),{commands:v}=new dp({editor:this.editor,state:g});if(v.clearNodes(),!!m.steps.length)return m}})]}}),i6=cn.create({name:"paste",addProseMirrorPlugins(){return[new kn({key:new Zr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),s6=cn.create({name:"tabindex",addProseMirrorPlugins(){return[new kn({key:new Zr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class vo{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new vo(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new vo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new vo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const c=new vo(a,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new vo(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const c=o[a];if(s[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(c=>n[c]===o.node.attrs[c])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const o6=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function l6(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class a6 extends xB{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=l6(o6,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=sM(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[e6,RB.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),QF,n6,r6,s6,ZF,i6].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Pl(i,this)}createCommandManager(){this.commandManager=new dp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=s0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=s0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=uM(n,this.options.autofocus);this.view=new WE(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:_l.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return TF(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return _F(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return jy(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return NF(this.state.doc,{blockSeparator:n,textSerializers:{...lM(this.schema),...r}})}get isEmpty(){return yp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new vo(n,this)}get $doc(){return this.$pos(0)}}function Jl(t){return new hp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Be(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const c=a.search(/\S/),f=n.from+a.indexOf(o),d=f+o.length;if(pM(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(S=>S===t.type&&S!==g.mark.type)).filter(g=>g.to>f).length)return null;d<n.to&&s.delete(d,n.to),f>n.from&&s.delete(n.from+c,f);const m=n.from+c+o.length;s.addMark(n.from+c,m,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function u6(t){return new hp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Be(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const c=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=o+f;d>a?d=a:a=d+r[1].length;const h=r[0][r[0].length-1];s.insertText(h,o+r[0].length-1),s.replaceWith(d,a,c)}else if(r[0]){const f=t.type.isInline?o:o-1;s.insert(f,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function l0(t){return new hp({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Be(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Ru(t){return new hp({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Be(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),f=c&&wy(c,t.type,s);if(!f)return null;if(o.wrap(c,f),t.keepMarks&&t.editor){const{selection:h,storedMarks:m}=e,{splittableMarks:g}=t.editor.extensionManager,v=m||h.$to.parentOffset&&h.$from.marks();if(v){const S=v.filter(M=>g.includes(M.type.name));o.ensureMarks(S)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(h,s).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Qs(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&o.join(n.from-1)}})}class ar{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(ye(this,"addOptions",{name:this.name}))),this.storage=Be(ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ar(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>mp(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ar(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Be(ye(n,"addOptions",{name:n.name})),n.storage=Be(ye(n,"addStorage",{name:n.name,options:n.options})),n}}function Ql(t){return new OB({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Be(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];let f=n.to;if(a){const d=c.search(/\S/),h=n.from+c.indexOf(a),m=h+a.length;if(pM(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(M=>M===t.type&&M!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&o.delete(m,n.to),h>n.from&&o.delete(n.from+d,h),f=n.from+d+a.length,o.addMark(n.from+d,f,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function c6(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ke){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var or="top",Jr="bottom",Qr="right",lr="left",$y="auto",Xu=[or,Jr,Qr,lr],Zl="start",Iu="end",f6="clippingParents",mM="viewport",ja="popper",d6="reference",aS=Xu.reduce(function(t,e){return t.concat([e+"-"+Zl,e+"-"+Iu])},[]),gM=[].concat(Xu,[$y]).reduce(function(t,e){return t.concat([e,e+"-"+Zl,e+"-"+Iu])},[]),p6="beforeRead",h6="read",m6="afterRead",g6="beforeMain",y6="main",v6="afterMain",x6="beforeWrite",w6="write",b6="afterWrite",S6=[p6,h6,m6,g6,y6,v6,x6,w6,b6];function _i(t){return t?(t.nodeName||"").toLowerCase():null}function Nr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function $o(t){var e=Nr(t).Element;return t instanceof e||t instanceof Element}function Xr(t){var e=Nr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Vy(t){if(typeof ShadowRoot>"u")return!1;var e=Nr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function k6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Xr(s)||!_i(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function C6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(c,f){return c[f]="",c},{});!Xr(i)||!_i(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}const yM={name:"applyStyles",enabled:!0,phase:"write",fn:k6,effect:C6,requires:["computeStyles"]};function Ni(t){return t.split("-")[0]}var _o=Math.max,_d=Math.min,ea=Math.round;function a0(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function vM(){return!/^((?!chrome|android).)*safari/i.test(a0())}function ta(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Xr(t)&&(i=t.offsetWidth>0&&ea(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&ea(r.height)/t.offsetHeight||1);var o=$o(t)?Nr(t):window,a=o.visualViewport,c=!vM()&&n,f=(r.left+(c&&a?a.offsetLeft:0))/i,d=(r.top+(c&&a?a.offsetTop:0))/s,h=r.width/i,m=r.height/s;return{width:h,height:m,top:d,right:f+h,bottom:d+m,left:f,x:f,y:d}}function Hy(t){var e=ta(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function xM(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Vy(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function rs(t){return Nr(t).getComputedStyle(t)}function E6(t){return["table","td","th"].indexOf(_i(t))>=0}function to(t){return(($o(t)?t.ownerDocument:t.document)||window.document).documentElement}function vp(t){return _i(t)==="html"?t:t.assignedSlot||t.parentNode||(Vy(t)?t.host:null)||to(t)}function uS(t){return!Xr(t)||rs(t).position==="fixed"?null:t.offsetParent}function M6(t){var e=/firefox/i.test(a0()),n=/Trident/i.test(a0());if(n&&Xr(t)){var r=rs(t);if(r.position==="fixed")return null}var i=vp(t);for(Vy(i)&&(i=i.host);Xr(i)&&["html","body"].indexOf(_i(i))<0;){var s=rs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Gu(t){for(var e=Nr(t),n=uS(t);n&&E6(n)&&rs(n).position==="static";)n=uS(n);return n&&(_i(n)==="html"||_i(n)==="body"&&rs(n).position==="static")?e:n||M6(t)||e}function Wy(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function iu(t,e,n){return _o(t,_d(e,n))}function N6(t,e,n){var r=iu(t,e,n);return r>n?n:r}function wM(){return{top:0,right:0,bottom:0,left:0}}function bM(t){return Object.assign({},wM(),t)}function SM(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var O6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,bM(typeof e!="number"?e:SM(e,Xu))};function T6(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ni(n.placement),c=Wy(a),f=[lr,Qr].indexOf(a)>=0,d=f?"height":"width";if(!(!s||!o)){var h=O6(i.padding,n),m=Hy(s),g=c==="y"?or:lr,v=c==="y"?Jr:Qr,S=n.rects.reference[d]+n.rects.reference[c]-o[c]-n.rects.popper[d],M=o[c]-n.rects.reference[c],b=Gu(s),w=b?c==="y"?b.clientHeight||0:b.clientWidth||0:0,E=S/2-M/2,k=h[g],_=w-m[d]-h[v],T=w/2-m[d]/2+E,D=iu(k,T,_),A=c;n.modifiersData[r]=(e={},e[A]=D,e.centerOffset=D-T,e)}}function _6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||xM(e.elements.popper,i)&&(e.elements.arrow=i))}const P6={name:"arrow",enabled:!0,phase:"main",fn:T6,effect:_6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function na(t){return t.split("-")[1]}var D6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function A6(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:ea(n*i)/i||0,y:ea(r*i)/i||0}}function cS(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,h=t.isFixed,m=o.x,g=m===void 0?0:m,v=o.y,S=v===void 0?0:v,M=typeof d=="function"?d({x:g,y:S}):{x:g,y:S};g=M.x,S=M.y;var b=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),E=lr,k=or,_=window;if(f){var T=Gu(n),D="clientHeight",A="clientWidth";if(T===Nr(n)&&(T=to(n),rs(T).position!=="static"&&a==="absolute"&&(D="scrollHeight",A="scrollWidth")),T=T,i===or||(i===lr||i===Qr)&&s===Iu){k=Jr;var F=h&&T===_&&_.visualViewport?_.visualViewport.height:T[D];S-=F-r.height,S*=c?1:-1}if(i===lr||(i===or||i===Jr)&&s===Iu){E=Qr;var U=h&&T===_&&_.visualViewport?_.visualViewport.width:T[A];g-=U-r.width,g*=c?1:-1}}var le=Object.assign({position:a},f&&D6),ae=d===!0?A6({x:g,y:S},Nr(n)):{x:g,y:S};if(g=ae.x,S=ae.y,c){var X;return Object.assign({},le,(X={},X[k]=w?"0":"",X[E]=b?"0":"",X.transform=(_.devicePixelRatio||1)<=1?"translate("+g+"px, "+S+"px)":"translate3d("+g+"px, "+S+"px, 0)",X))}return Object.assign({},le,(e={},e[k]=w?S+"px":"",e[E]=b?g+"px":"",e.transform="",e))}function R6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,c=a===void 0?!0:a,f={placement:Ni(e.placement),variation:na(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cS(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cS(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const I6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:R6,data:{}};var xf={passive:!0};function j6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,c=Nr(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&f.forEach(function(d){d.addEventListener("scroll",n.update,xf)}),a&&c.addEventListener("resize",n.update,xf),function(){s&&f.forEach(function(d){d.removeEventListener("scroll",n.update,xf)}),a&&c.removeEventListener("resize",n.update,xf)}}const L6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j6,data:{}};var z6={left:"right",right:"left",bottom:"top",top:"bottom"};function Bf(t){return t.replace(/left|right|bottom|top/g,function(e){return z6[e]})}var B6={start:"end",end:"start"};function fS(t){return t.replace(/start|end/g,function(e){return B6[e]})}function Uy(t){var e=Nr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ky(t){return ta(to(t)).left+Uy(t).scrollLeft}function F6(t,e){var n=Nr(t),r=to(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;var f=vM();(f||!f&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a+Ky(t),y:c}}function $6(t){var e,n=to(t),r=Uy(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=_o(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=_o(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ky(t),c=-r.scrollTop;return rs(i||n).direction==="rtl"&&(a+=_o(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:c}}function qy(t){var e=rs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kM(t){return["html","body","#document"].indexOf(_i(t))>=0?t.ownerDocument.body:Xr(t)&&qy(t)?t:kM(vp(t))}function su(t,e){var n;e===void 0&&(e=[]);var r=kM(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Nr(r),o=i?[s].concat(s.visualViewport||[],qy(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(su(vp(o)))}function u0(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function V6(t,e){var n=ta(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function dS(t,e,n){return e===mM?u0(F6(t,n)):$o(e)?V6(e,n):u0($6(to(t)))}function H6(t){var e=su(vp(t)),n=["absolute","fixed"].indexOf(rs(t).position)>=0,r=n&&Xr(t)?Gu(t):t;return $o(r)?e.filter(function(i){return $o(i)&&xM(i,r)&&_i(i)!=="body"}):[]}function W6(t,e,n,r){var i=e==="clippingParents"?H6(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(c,f){var d=dS(t,f,r);return c.top=_o(d.top,c.top),c.right=_d(d.right,c.right),c.bottom=_d(d.bottom,c.bottom),c.left=_o(d.left,c.left),c},dS(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function CM(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ni(r):null,s=r?na(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(i){case or:c={x:o,y:e.y-n.height};break;case Jr:c={x:o,y:e.y+e.height};break;case Qr:c={x:e.x+e.width,y:a};break;case lr:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var f=i?Wy(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(s){case Zl:c[f]=c[f]-(e[d]/2-n[d]/2);break;case Iu:c[f]=c[f]+(e[d]/2-n[d]/2);break}}return c}function ju(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,c=a===void 0?f6:a,f=n.rootBoundary,d=f===void 0?mM:f,h=n.elementContext,m=h===void 0?ja:h,g=n.altBoundary,v=g===void 0?!1:g,S=n.padding,M=S===void 0?0:S,b=bM(typeof M!="number"?M:SM(M,Xu)),w=m===ja?d6:ja,E=t.rects.popper,k=t.elements[v?w:m],_=W6($o(k)?k:k.contextElement||to(t.elements.popper),c,d,o),T=ta(t.elements.reference),D=CM({reference:T,element:E,placement:i}),A=u0(Object.assign({},E,D)),F=m===ja?A:T,U={top:_.top-F.top+b.top,bottom:F.bottom-_.bottom+b.bottom,left:_.left-F.left+b.left,right:F.right-_.right+b.right},le=t.modifiersData.offset;if(m===ja&&le){var ae=le[i];Object.keys(U).forEach(function(X){var oe=[Qr,Jr].indexOf(X)>=0?1:-1,G=[or,Jr].indexOf(X)>=0?"y":"x";U[X]+=ae[G]*oe})}return U}function U6(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?gM:c,d=na(r),h=d?a?aS:aS.filter(function(v){return na(v)===d}):Xu,m=h.filter(function(v){return f.indexOf(v)>=0});m.length===0&&(m=h);var g=m.reduce(function(v,S){return v[S]=ju(t,{placement:S,boundary:i,rootBoundary:s,padding:o})[Ni(S)],v},{});return Object.keys(g).sort(function(v,S){return g[v]-g[S]})}function K6(t){if(Ni(t)===$y)return[];var e=Bf(t);return[fS(t),e,fS(e)]}function q6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,f=n.padding,d=n.boundary,h=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,S=n.allowedAutoPlacements,M=e.options.placement,b=Ni(M),w=b===M,E=c||(w||!v?[Bf(M)]:K6(M)),k=[M].concat(E).reduce(function(xe,be){return xe.concat(Ni(be)===$y?U6(e,{placement:be,boundary:d,rootBoundary:h,padding:f,flipVariations:v,allowedAutoPlacements:S}):be)},[]),_=e.rects.reference,T=e.rects.popper,D=new Map,A=!0,F=k[0],U=0;U<k.length;U++){var le=k[U],ae=Ni(le),X=na(le)===Zl,oe=[or,Jr].indexOf(ae)>=0,G=oe?"width":"height",z=ju(e,{placement:le,boundary:d,rootBoundary:h,altBoundary:m,padding:f}),Z=oe?X?Qr:lr:X?Jr:or;_[G]>T[G]&&(Z=Bf(Z));var L=Bf(Z),V=[];if(s&&V.push(z[ae]<=0),a&&V.push(z[Z]<=0,z[L]<=0),V.every(function(xe){return xe})){F=le,A=!1;break}D.set(le,V)}if(A)for(var B=v?3:1,ee=function(be){var We=k.find(function(Ke){var H=D.get(Ke);if(H)return H.slice(0,be).every(function(se){return se})});if(We)return F=We,"break"},re=B;re>0;re--){var K=ee(re);if(K==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}const X6={name:"flip",enabled:!0,phase:"main",fn:q6,requiresIfExists:["offset"],data:{_skip:!1}};function pS(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function hS(t){return[or,Qr,Jr,lr].some(function(e){return t[e]>=0})}function G6(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=ju(e,{elementContext:"reference"}),a=ju(e,{altBoundary:!0}),c=pS(o,r),f=pS(a,i,s),d=hS(c),h=hS(f);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const Y6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:G6};function J6(t,e,n){var r=Ni(t),i=[lr,or].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[lr,Qr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Q6(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=gM.reduce(function(d,h){return d[h]=J6(h,e.rects,s),d},{}),a=o[e.placement],c=a.x,f=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}const Z6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q6};function e8(t){var e=t.state,n=t.name;e.modifiersData[n]=CM({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const t8={name:"popperOffsets",enabled:!0,phase:"read",fn:e8,data:{}};function n8(t){return t==="x"?"y":"x"}function r8(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.padding,m=n.tether,g=m===void 0?!0:m,v=n.tetherOffset,S=v===void 0?0:v,M=ju(e,{boundary:c,rootBoundary:f,padding:h,altBoundary:d}),b=Ni(e.placement),w=na(e.placement),E=!w,k=Wy(b),_=n8(k),T=e.modifiersData.popperOffsets,D=e.rects.reference,A=e.rects.popper,F=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,U=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),le=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ae={x:0,y:0};if(T){if(s){var X,oe=k==="y"?or:lr,G=k==="y"?Jr:Qr,z=k==="y"?"height":"width",Z=T[k],L=Z+M[oe],V=Z-M[G],B=g?-A[z]/2:0,ee=w===Zl?D[z]:A[z],re=w===Zl?-A[z]:-D[z],K=e.elements.arrow,xe=g&&K?Hy(K):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wM(),We=be[oe],Ke=be[G],H=iu(0,D[z],xe[z]),se=E?D[z]/2-B-H-We-U.mainAxis:ee-H-We-U.mainAxis,fe=E?-D[z]/2+B+H+Ke+U.mainAxis:re+H+Ke+U.mainAxis,we=e.elements.arrow&&Gu(e.elements.arrow),Je=we?k==="y"?we.clientTop||0:we.clientLeft||0:0,Se=(X=le==null?void 0:le[k])!=null?X:0,Ne=Z+se-Se-Je,kt=Z+fe-Se,Wn=iu(g?_d(L,Ne):L,Z,g?_o(V,kt):V);T[k]=Wn,ae[k]=Wn-Z}if(a){var yt,Lt=k==="x"?or:lr,Cn=k==="x"?Jr:Qr,tt=T[_],Fe=_==="y"?"height":"width",ot=tt+M[Lt],nt=tt-M[Cn],En=[or,lr].indexOf(b)!==-1,fn=(yt=le==null?void 0:le[_])!=null?yt:0,ei=En?ot:tt-D[Fe]-A[Fe]-fn+U.altAxis,dn=En?tt+D[Fe]+A[Fe]-fn-U.altAxis:nt,Vt=g&&En?N6(ei,tt,dn):iu(g?ei:ot,tt,g?dn:nt);T[_]=Vt,ae[_]=Vt-tt}e.modifiersData[r]=ae}}const i8={name:"preventOverflow",enabled:!0,phase:"main",fn:r8,requiresIfExists:["offset"]};function s8(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function o8(t){return t===Nr(t)||!Xr(t)?Uy(t):s8(t)}function l8(t){var e=t.getBoundingClientRect(),n=ea(e.width)/t.offsetWidth||1,r=ea(e.height)/t.offsetHeight||1;return n!==1||r!==1}function a8(t,e,n){n===void 0&&(n=!1);var r=Xr(e),i=Xr(e)&&l8(e),s=to(e),o=ta(t,i,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((_i(e)!=="body"||qy(s))&&(a=o8(e)),Xr(e)?(c=ta(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=Ky(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function u8(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&i(c)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function c8(t){var e=u8(t);return S6.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function f8(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function d8(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var mS={placement:"bottom",modifiers:[],strategy:"absolute"};function gS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function p8(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?mS:i;return function(a,c,f){f===void 0&&(f=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},mS,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],m=!1,g={state:d,setOptions:function(b){var w=typeof b=="function"?b(d.options):b;S(),d.options=Object.assign({},s,d.options,w),d.scrollParents={reference:$o(a)?su(a):a.contextElement?su(a.contextElement):[],popper:su(c)};var E=c8(d8([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(k){return k.enabled}),v(),g.update()},forceUpdate:function(){if(!m){var b=d.elements,w=b.reference,E=b.popper;if(gS(w,E)){d.rects={reference:a8(w,Gu(E),d.options.strategy==="fixed"),popper:Hy(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(U){return d.modifiersData[U.name]=Object.assign({},U.data)});for(var k=0;k<d.orderedModifiers.length;k++){if(d.reset===!0){d.reset=!1,k=-1;continue}var _=d.orderedModifiers[k],T=_.fn,D=_.options,A=D===void 0?{}:D,F=_.name;typeof T=="function"&&(d=T({state:d,options:A,name:F,instance:g})||d)}}}},update:f8(function(){return new Promise(function(M){g.forceUpdate(),M(d)})}),destroy:function(){S(),m=!0}};if(!gS(a,c))return g;g.setOptions(f).then(function(M){!m&&f.onFirstUpdate&&f.onFirstUpdate(M)});function v(){d.orderedModifiers.forEach(function(M){var b=M.name,w=M.options,E=w===void 0?{}:w,k=M.effect;if(typeof k=="function"){var _=k({state:d,name:b,instance:g,options:E}),T=function(){};h.push(_||T)}})}function S(){h.forEach(function(M){return M()}),h=[]}return g}}var h8=[L6,t8,I6,yM,Z6,X6,i8,P6,Y6],m8=p8({defaultModifiers:h8}),g8="tippy-box",EM="tippy-content",y8="tippy-backdrop",MM="tippy-arrow",NM="tippy-svg-arrow",go={passive:!0,capture:!0},OM=function(){return document.body};function Am(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Xy(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function TM(t,e){return typeof t=="function"?t.apply(void 0,e):t}function yS(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function v8(t){return t.split(/\s+/).filter(Boolean)}function gl(t){return[].concat(t)}function vS(t,e){t.indexOf(e)===-1&&t.push(e)}function x8(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function w8(t){return t.split("-")[0]}function Pd(t){return[].slice.call(t)}function xS(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ou(){return document.createElement("div")}function xp(t){return["Element","Fragment"].some(function(e){return Xy(t,e)})}function b8(t){return Xy(t,"NodeList")}function S8(t){return Xy(t,"MouseEvent")}function k8(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function C8(t){return xp(t)?[t]:b8(t)?Pd(t):Array.isArray(t)?t:Pd(document.querySelectorAll(t))}function Rm(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function wS(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function E8(t){var e,n=gl(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function M8(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,c=a.interactiveBorder,f=w8(o.placement),d=o.modifiersData.offset;if(!d)return!0;var h=f==="bottom"?d.top.y:0,m=f==="top"?d.bottom.y:0,g=f==="right"?d.left.x:0,v=f==="left"?d.right.x:0,S=s.top-r+h>c,M=r-s.bottom-m>c,b=s.left-n+g>c,w=n-s.right-v>c;return S||M||b||w})}function Im(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function bS(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Si={isTouch:!1},SS=0;function N8(){Si.isTouch||(Si.isTouch=!0,window.performance&&document.addEventListener("mousemove",_M))}function _M(){var t=performance.now();t-SS<20&&(Si.isTouch=!1,document.removeEventListener("mousemove",_M)),SS=t}function O8(){var t=document.activeElement;if(k8(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function T8(){document.addEventListener("touchstart",N8,go),window.addEventListener("blur",O8)}var _8=typeof window<"u"&&typeof document<"u",P8=_8?!!window.msCrypto:!1,D8={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},A8={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},fi=Object.assign({appendTo:OM,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},D8,A8),R8=Object.keys(fi),I8=function(e){var n=Object.keys(e);n.forEach(function(r){fi[r]=e[r]})};function PM(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=fi[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function j8(t,e){var n=e?Object.keys(PM(Object.assign({},fi,{plugins:e}))):R8,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function kS(t,e){var n=Object.assign({},e,{content:TM(e.content,[t])},e.ignoreAttributes?{}:j8(t,e.plugins));return n.aria=Object.assign({},fi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var L8=function(){return"innerHTML"};function c0(t,e){t[L8()]=e}function CS(t){var e=ou();return t===!0?e.className=MM:(e.className=NM,xp(t)?e.appendChild(t):c0(e,t)),e}function ES(t,e){xp(e.content)?(c0(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?c0(t,e.content):t.textContent=e.content)}function f0(t){var e=t.firstElementChild,n=Pd(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(EM)}),arrow:n.find(function(r){return r.classList.contains(MM)||r.classList.contains(NM)}),backdrop:n.find(function(r){return r.classList.contains(y8)})}}function DM(t){var e=ou(),n=ou();n.className=g8,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ou();r.className=EM,r.setAttribute("data-state","hidden"),ES(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=f0(e),c=a.box,f=a.content,d=a.arrow;o.theme?c.setAttribute("data-theme",o.theme):c.removeAttribute("data-theme"),typeof o.animation=="string"?c.setAttribute("data-animation",o.animation):c.removeAttribute("data-animation"),o.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?c.setAttribute("role",o.role):c.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&ES(f,t.props),o.arrow?d?s.arrow!==o.arrow&&(c.removeChild(d),c.appendChild(CS(o.arrow))):c.appendChild(CS(o.arrow)):d&&c.removeChild(d)}return{popper:e,onUpdate:i}}DM.$$tippy=!0;var z8=1,wf=[],jm=[];function B8(t,e){var n=kS(t,Object.assign({},fi,PM(xS(e)))),r,i,s,o=!1,a=!1,c=!1,f=!1,d,h,m,g=[],v=yS(Ne,n.interactiveDebounce),S,M=z8++,b=null,w=x8(n.plugins),E={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:M,reference:t,popper:ou(),popperInstance:b,props:n,state:E,plugins:w,clearDelayTimeouts:ei,setProps:dn,setContent:Vt,show:pt,hide:he,hideWithInteractivity:$e,enable:En,disable:fn,unmount:Xe,destroy:mi};if(!n.render)return k;var _=n.render(k),T=_.popper,D=_.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+k.id,k.popper=T,t._tippy=k,T._tippy=k;var A=w.map(function(W){return W.fn(k)}),F=t.hasAttribute("aria-expanded");return we(),B(),Z(),L("onCreate",[k]),n.showOnCreate&&ot(),T.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),T.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&oe().addEventListener("mousemove",v)}),k;function U(){var W=k.props.touch;return Array.isArray(W)?W:[W,0]}function le(){return U()[0]==="hold"}function ae(){var W;return!!((W=k.props.render)!=null&&W.$$tippy)}function X(){return S||t}function oe(){var W=X().parentNode;return W?E8(W):document}function G(){return f0(T)}function z(W){return k.state.isMounted&&!k.state.isVisible||Si.isTouch||d&&d.type==="focus"?0:Am(k.props.delay,W?0:1,fi.delay)}function Z(W){W===void 0&&(W=!1),T.style.pointerEvents=k.props.interactive&&!W?"":"none",T.style.zIndex=""+k.props.zIndex}function L(W,ce,pe){if(pe===void 0&&(pe=!0),A.forEach(function(Pe){Pe[W]&&Pe[W].apply(Pe,ce)}),pe){var Ce;(Ce=k.props)[W].apply(Ce,ce)}}function V(){var W=k.props.aria;if(W.content){var ce="aria-"+W.content,pe=T.id,Ce=gl(k.props.triggerTarget||t);Ce.forEach(function(Pe){var rt=Pe.getAttribute(ce);if(k.state.isVisible)Pe.setAttribute(ce,rt?rt+" "+pe:pe);else{var ht=rt&&rt.replace(pe,"").trim();ht?Pe.setAttribute(ce,ht):Pe.removeAttribute(ce)}})}}function B(){if(!(F||!k.props.aria.expanded)){var W=gl(k.props.triggerTarget||t);W.forEach(function(ce){k.props.interactive?ce.setAttribute("aria-expanded",k.state.isVisible&&ce===X()?"true":"false"):ce.removeAttribute("aria-expanded")})}}function ee(){oe().removeEventListener("mousemove",v),wf=wf.filter(function(W){return W!==v})}function re(W){if(!(Si.isTouch&&(c||W.type==="mousedown"))){var ce=W.composedPath&&W.composedPath()[0]||W.target;if(!(k.props.interactive&&bS(T,ce))){if(gl(k.props.triggerTarget||t).some(function(pe){return bS(pe,ce)})){if(Si.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[k,W]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),a=!0,setTimeout(function(){a=!1}),k.state.isMounted||We())}}}function K(){c=!0}function xe(){c=!1}function be(){var W=oe();W.addEventListener("mousedown",re,!0),W.addEventListener("touchend",re,go),W.addEventListener("touchstart",xe,go),W.addEventListener("touchmove",K,go)}function We(){var W=oe();W.removeEventListener("mousedown",re,!0),W.removeEventListener("touchend",re,go),W.removeEventListener("touchstart",xe,go),W.removeEventListener("touchmove",K,go)}function Ke(W,ce){se(W,function(){!k.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&ce()})}function H(W,ce){se(W,ce)}function se(W,ce){var pe=G().box;function Ce(Pe){Pe.target===pe&&(Im(pe,"remove",Ce),ce())}if(W===0)return ce();Im(pe,"remove",h),Im(pe,"add",Ce),h=Ce}function fe(W,ce,pe){pe===void 0&&(pe=!1);var Ce=gl(k.props.triggerTarget||t);Ce.forEach(function(Pe){Pe.addEventListener(W,ce,pe),g.push({node:Pe,eventType:W,handler:ce,options:pe})})}function we(){le()&&(fe("touchstart",Se,{passive:!0}),fe("touchend",kt,{passive:!0})),v8(k.props.trigger).forEach(function(W){if(W!=="manual")switch(fe(W,Se),W){case"mouseenter":fe("mouseleave",kt);break;case"focus":fe(P8?"focusout":"blur",Wn);break;case"focusin":fe("focusout",Wn);break}})}function Je(){g.forEach(function(W){var ce=W.node,pe=W.eventType,Ce=W.handler,Pe=W.options;ce.removeEventListener(pe,Ce,Pe)}),g=[]}function Se(W){var ce,pe=!1;if(!(!k.state.isEnabled||yt(W)||a)){var Ce=((ce=d)==null?void 0:ce.type)==="focus";d=W,S=W.currentTarget,B(),!k.state.isVisible&&S8(W)&&wf.forEach(function(Pe){return Pe(W)}),W.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||o)&&k.props.hideOnClick!==!1&&k.state.isVisible?pe=!0:ot(W),W.type==="click"&&(o=!pe),pe&&!Ce&&nt(W)}}function Ne(W){var ce=W.target,pe=X().contains(ce)||T.contains(ce);if(!(W.type==="mousemove"&&pe)){var Ce=Fe().concat(T).map(function(Pe){var rt,ht=Pe._tippy,Ot=(rt=ht.popperInstance)==null?void 0:rt.state;return Ot?{popperRect:Pe.getBoundingClientRect(),popperState:Ot,props:n}:null}).filter(Boolean);M8(Ce,W)&&(ee(),nt(W))}}function kt(W){var ce=yt(W)||k.props.trigger.indexOf("click")>=0&&o;if(!ce){if(k.props.interactive){k.hideWithInteractivity(W);return}nt(W)}}function Wn(W){k.props.trigger.indexOf("focusin")<0&&W.target!==X()||k.props.interactive&&W.relatedTarget&&T.contains(W.relatedTarget)||nt(W)}function yt(W){return Si.isTouch?le()!==W.type.indexOf("touch")>=0:!1}function Lt(){Cn();var W=k.props,ce=W.popperOptions,pe=W.placement,Ce=W.offset,Pe=W.getReferenceClientRect,rt=W.moveTransition,ht=ae()?f0(T).arrow:null,Ot=Pe?{getBoundingClientRect:Pe,contextElement:Pe.contextElement||X()}:t,pn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Mn){var Dt=Mn.state;if(ae()){var Un=G(),At=Un.box;["placement","reference-hidden","escaped"].forEach(function(Jt){Jt==="placement"?At.setAttribute("data-placement",Dt.placement):Dt.attributes.popper["data-popper-"+Jt]?At.setAttribute("data-"+Jt,""):At.removeAttribute("data-"+Jt)}),Dt.attributes.popper={}}}},vt=[{name:"offset",options:{offset:Ce}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!rt}},pn];ae()&&ht&&vt.push({name:"arrow",options:{element:ht,padding:3}}),vt.push.apply(vt,(ce==null?void 0:ce.modifiers)||[]),k.popperInstance=m8(Ot,T,Object.assign({},ce,{placement:pe,onFirstUpdate:m,modifiers:vt}))}function Cn(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function tt(){var W=k.props.appendTo,ce,pe=X();k.props.interactive&&W===OM||W==="parent"?ce=pe.parentNode:ce=TM(W,[pe]),ce.contains(T)||ce.appendChild(T),k.state.isMounted=!0,Lt()}function Fe(){return Pd(T.querySelectorAll("[data-tippy-root]"))}function ot(W){k.clearDelayTimeouts(),W&&L("onTrigger",[k,W]),be();var ce=z(!0),pe=U(),Ce=pe[0],Pe=pe[1];Si.isTouch&&Ce==="hold"&&Pe&&(ce=Pe),ce?r=setTimeout(function(){k.show()},ce):k.show()}function nt(W){if(k.clearDelayTimeouts(),L("onUntrigger",[k,W]),!k.state.isVisible){We();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(W.type)>=0&&o)){var ce=z(!1);ce?i=setTimeout(function(){k.state.isVisible&&k.hide()},ce):s=requestAnimationFrame(function(){k.hide()})}}function En(){k.state.isEnabled=!0}function fn(){k.hide(),k.state.isEnabled=!1}function ei(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function dn(W){if(!k.state.isDestroyed){L("onBeforeUpdate",[k,W]),Je();var ce=k.props,pe=kS(t,Object.assign({},ce,xS(W),{ignoreAttributes:!0}));k.props=pe,we(),ce.interactiveDebounce!==pe.interactiveDebounce&&(ee(),v=yS(Ne,pe.interactiveDebounce)),ce.triggerTarget&&!pe.triggerTarget?gl(ce.triggerTarget).forEach(function(Ce){Ce.removeAttribute("aria-expanded")}):pe.triggerTarget&&t.removeAttribute("aria-expanded"),B(),Z(),D&&D(ce,pe),k.popperInstance&&(Lt(),Fe().forEach(function(Ce){requestAnimationFrame(Ce._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[k,W])}}function Vt(W){k.setProps({content:W})}function pt(){var W=k.state.isVisible,ce=k.state.isDestroyed,pe=!k.state.isEnabled,Ce=Si.isTouch&&!k.props.touch,Pe=Am(k.props.duration,0,fi.duration);if(!(W||ce||pe||Ce)&&!X().hasAttribute("disabled")&&(L("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,ae()&&(T.style.visibility="visible"),Z(),be(),k.state.isMounted||(T.style.transition="none"),ae()){var rt=G(),ht=rt.box,Ot=rt.content;Rm([ht,Ot],0)}m=function(){var vt;if(!(!k.state.isVisible||f)){if(f=!0,T.offsetHeight,T.style.transition=k.props.moveTransition,ae()&&k.props.animation){var ut=G(),Mn=ut.box,Dt=ut.content;Rm([Mn,Dt],Pe),wS([Mn,Dt],"visible")}V(),B(),vS(jm,k),(vt=k.popperInstance)==null||vt.forceUpdate(),L("onMount",[k]),k.props.animation&&ae()&&H(Pe,function(){k.state.isShown=!0,L("onShown",[k])})}},tt()}}function he(){var W=!k.state.isVisible,ce=k.state.isDestroyed,pe=!k.state.isEnabled,Ce=Am(k.props.duration,1,fi.duration);if(!(W||ce||pe)&&(L("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,f=!1,o=!1,ae()&&(T.style.visibility="hidden"),ee(),We(),Z(!0),ae()){var Pe=G(),rt=Pe.box,ht=Pe.content;k.props.animation&&(Rm([rt,ht],Ce),wS([rt,ht],"hidden"))}V(),B(),k.props.animation?ae()&&Ke(Ce,k.unmount):k.unmount()}}function $e(W){oe().addEventListener("mousemove",v),vS(wf,v),v(W)}function Xe(){k.state.isVisible&&k.hide(),k.state.isMounted&&(Cn(),Fe().forEach(function(W){W._tippy.unmount()}),T.parentNode&&T.parentNode.removeChild(T),jm=jm.filter(function(W){return W!==k}),k.state.isMounted=!1,L("onHidden",[k]))}function mi(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),Je(),delete t._tippy,k.state.isDestroyed=!0,L("onDestroy",[k]))}}function Yu(t,e){e===void 0&&(e={});var n=fi.plugins.concat(e.plugins||[]);T8();var r=Object.assign({},e,{plugins:n}),i=C8(t),s=i.reduce(function(o,a){var c=a&&B8(a,r);return c&&o.push(c),o},[]);return xp(t)?s[0]:s}Yu.defaultProps=fi;Yu.setDefaultProps=I8;Yu.currentInput=Si;Object.assign({},yM,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Yu.setDefaultProps({render:DM});class F8{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:c,from:f,to:d})=>{const{doc:h,selection:m}=c,{empty:g}=m,v=!h.textBetween(f,d).length&&By(c.selection),S=this.element.contains(document.activeElement);return!(!(a.hasFocus()||S)||g||v||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var c;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((c=this.element.parentNode)===null||c===void 0)&&c.contains(a.relatedTarget))||(a==null?void 0:a.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,c)=>{const f=!(c!=null&&c.selection.eq(a.state.selection)),d=!(c!=null&&c.doc.eq(a.state.doc));!f&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,f,d,c)},this.updateDelay))},this.updateHandler=(a,c,f,d)=>{var h,m,g;const{state:v,composing:S}=a,{selection:M}=v;if(S||!c&&!f)return;this.createTooltip();const{ranges:w}=M,E=Math.min(...w.map(T=>T.$from.pos)),k=Math.max(...w.map(T=>T.$to.pos));if(!((h=this.shouldShow)===null||h===void 0?void 0:h.call(this,{editor:this.editor,element:this.element,view:a,state:v,oldState:d,from:E,to:k}))){this.hide();return}(m=this.tippy)===null||m===void 0||m.setProps({getReferenceClientRect:((g=this.tippyOptions)===null||g===void 0?void 0:g.getReferenceClientRect)||(()=>{if(hM(v.selection)){let T=a.nodeDOM(E);if(T){const D=T.dataset.nodeViewWrapper?T:T.querySelector("[data-node-view-wrapper]");if(D&&(T=D.firstChild),T)return T.getBoundingClientRect()}}return PF(a,E,k)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.element.tabIndex=0,!(this.tippy||!n)&&(this.tippy=Yu(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),o=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,o,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const AM=t=>new kn({key:typeof t.pluginKey=="string"?new Zr(t.pluginKey):t.pluginKey,view:e=>new F8({view:e,...t})}),$8=cn.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[AM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function V8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RM={exports:{}},Lm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function H8(){if(MS)return Lm;MS=1;var t=rn;function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(h,m){var g=m(),v=r({inst:{value:g,getSnapshot:m}}),S=v[0].inst,M=v[1];return s(function(){S.value=g,S.getSnapshot=m,c(S)&&M({inst:S})},[h,g,m]),i(function(){return c(S)&&M({inst:S}),h(function(){c(S)&&M({inst:S})})},[h]),o(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function f(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:a;return Lm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Lm}RM.exports=H8();var Gy=RM.exports;const W8=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},U8=({contentComponent:t})=>{const e=Gy.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return rn.createElement(rn.Fragment,null,Object.values(e))};function K8(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:vj.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class q8 extends rn.Component{constructor(e){var n;super(e),this.editorContentRef=rn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=K8(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return rn.createElement(rn.Fragment,null,rn.createElement("div",{ref:W8(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&rn.createElement(U8,{contentComponent:e.contentComponent}))}}const X8=Y.forwardRef((t,e)=>{const n=rn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return rn.createElement(q8,{key:n,innerRef:e,...t})}),G8=rn.memo(X8);var Y8=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},J8=V8(Y8),IM={exports:{}},zm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS;function Q8(){if(NS)return zm;NS=1;var t=rn,e=Gy;function n(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return zm.useSyncExternalStoreWithSelector=function(f,d,h,m,g){var v=s(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=a(function(){function b(T){if(!w){if(w=!0,E=T,T=m(T),g!==void 0&&S.hasValue){var D=S.value;if(g(D,T))return k=D}return k=T}if(D=k,r(E,T))return D;var A=m(T);return g!==void 0&&g(D,A)?D:(E=T,k=A)}var w=!1,E,k,_=h===void 0?null:h;return[function(){return b(d())},_===null?void 0:function(){return b(_())}]},[d,h,m,g]);var M=i(f,v[0],v[1]);return o(function(){S.hasValue=!0,S.value=M},[M]),c(M),M},zm}IM.exports=Q8();var Z8=IM.exports;const e$=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;class t${constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function n$(t){var e;const[n]=Y.useState(()=>new t$(t.editor)),r=Z8.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:J8);return e$(()=>n.watch(t.editor),[t.editor,n]),Y.useDebugValue(r),r}const r$=!1,d0=typeof window>"u",i$=d0||!!(typeof window<"u"&&window.next);class Yy{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?d0||i$?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new a6(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)===null||o===void 0?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Yy.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function s$(t={},e=[]){const n=Y.useRef(t);n.current=t;const[r]=Y.useState(()=>new Yy(n)),i=Gy.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return Y.useDebugValue(i),Y.useEffect(r.onRender(e)),n$({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const jM=Y.createContext({editor:null});jM.Consumer;const o$=()=>Y.useContext(jM),l$=t=>{const[e,n]=Y.useState(null),{editor:r}=o$();return Y.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:o,tippyOptions:a={},updateDelay:c,shouldShow:f=null}=t,d=o||r;if(!d){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const h=AM({updateDelay:c,editor:d,element:e,pluginKey:s,shouldShow:f,tippyOptions:a});return d.registerPlugin(h),()=>{d.unregisterPlugin(s)}},[t.editor,r,e]),rn.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},a$=Y.createContext({onDragStart:void 0}),u$=()=>Y.useContext(a$);rn.forwardRef((t,e)=>{const{onDragStart:n}=u$(),r=t.as||"div";return rn.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const c$=/^\s*>\s$/,f$=ar.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ru({find:c$,type:this.type})]}}),d$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,p$=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,h$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,m$=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,g$=Xs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jl({find:d$,type:this.type}),Jl({find:h$,type:this.type})]},addPasteRules(){return[Ql({find:p$,type:this.type}),Ql({find:m$,type:this.type})]}}),y$="listItem",OS="textStyle",TS=/^\s*([-+*])\s$/,v$=ar.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(y$,this.editor.getAttributes(OS)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ru({find:TS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ru({find:TS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(OS),editor:this.editor})),[t]}}),x$=/(^|[^`])`([^`]+)`(?!`)/,w$=/(^|[^`])`([^`]+)`(?!`)/g,b$=Xs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Jl({find:x$,type:this.type})]},addPasteRules(){return[Ql({find:w$,type:this.type})]}}),S$=/^```([a-z]+)?[\s\n]$/,k$=/^~~~([a-z]+)?[\s\n]$/,C$=ar.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",$n(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:f})=>(f.setSelection(Le.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[l0({find:S$,type:this.type,getAttributes:t=>({language:t[1]})}),l0({find:k$,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new kn({key:new Zr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,c=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(_e.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),E$=ar.create({name:"doc",topNode:!0,content:"block+"});function M$(t={}){return new kn({view(e){return new N$(e,t)}})}class N${constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let h=e.nodeBefore,m=e.nodeAfter;if(h||m){let g=this.editorView.nodeDOM(this.cursorPos-(h?h.nodeSize:0));if(g){let v=g.getBoundingClientRect(),S=h?v.bottom:v.top;h&&m&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let M=this.width/2*a;r={left:v.left,right:v.right,top:S-M,bottom:S+M}}}}if(!r){let h=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*o;r={left:h.left-m,right:h.left+m,top:h.top,bottom:h.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,d=-pageYOffset;else{let h=c.getBoundingClientRect(),m=h.width/c.offsetWidth,g=h.height/c.offsetHeight;f=h.left-c.scrollLeft*m,d=h.top-c.scrollTop*g}this.element.style.left=(r.left-f)/o+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=rE(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const O$=cn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[M$(this.options)]}});class Mt extends Le{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Mt.valid(r)?new Mt(r):Le.near(r)}content(){return de.empty}eq(e){return e instanceof Mt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Mt(e.resolve(n.pos))}getBookmark(){return new Jy(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!T$(e)||!_$(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Mt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let c=e.doc.resolve(i);if(Mt.valid(c))return c}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ke.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Mt.valid(a))return a}return null}}}Mt.prototype.visible=!1;Mt.findFrom=Mt.findGapCursorFrom;Le.jsonID("gapcursor",Mt);class Jy{constructor(e){this.pos=e}map(e){return new Jy(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Mt.valid(n)?new Mt(n):Le.near(n)}}function LM(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function T$(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||LM(i.type))return!0;if(i.inlineContent)return!1}}return!0}function _$(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||LM(i.type))return!0;if(i.inlineContent)return!1}}return!0}function P$(){return new kn({props:{decorations:I$,createSelectionBetween(t,e,n){return e.pos==n.pos&&Mt.valid(n)?new Mt(n):null},handleClick:A$,handleKeyDown:D$,handleDOMEvents:{beforeinput:R$}}})}const D$=UE({ArrowLeft:bf("horiz",-1),ArrowRight:bf("horiz",1),ArrowUp:bf("vert",-1),ArrowDown:bf("vert",1)});function bf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,c=o.empty;if(o instanceof _e){if(!s.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=r.doc.resolve(e>0?a.after():a.before())}let f=Mt.findGapCursorFrom(a,e,c);return f?(i&&i(r.tr.setSelection(new Mt(f))),!0):!1}}function A$(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Mt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ke.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Mt(r))),!0)}function R$(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Mt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ne.empty;for(let o=r.length-1;o>=0;o--)i=ne.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new de(i,0,0));return s.setSelection(_e.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function I$(t){if(!(t.selection instanceof Mt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Rt.create(t.doc,[Sr.widget(t.selection.head,e,{key:"gapcursor"})])}const j$=cn.create({name:"gapCursor",addProseMirrorPlugins(){return[P$()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Be(ye(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),L$=ar.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",$n(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&c&&o){const h=c.filter(m=>a.includes(m.type.name));f.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),z$=ar.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,$n(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>l0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Dd=200,Gt=function(){};Gt.prototype.append=function(e){return e.length?(e=Gt.from(e),!this.length&&e||e.length<Dd&&this.leafAppend(e)||this.length<Dd&&e.leafPrepend(this)||this.appendInner(e)):this};Gt.prototype.prepend=function(e){return e.length?Gt.from(e).append(this):this};Gt.prototype.appendInner=function(e){return new B$(this,e)};Gt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Gt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Gt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Gt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Gt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Gt.from=function(e){return e instanceof Gt?e:e&&e.length?new zM(e):Gt.empty};var zM=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var c=s;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var c=s-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Dd)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Dd)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Gt);Gt.empty=new zM([]);var B$=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Gt);const F$=500;class ci{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,c,f=[],d=[];return this.items.forEach((h,m)=>{if(!h.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,d.push(h);return}if(i){d.push(new bi(h.map));let g=h.step.map(i.slice(s)),v;g&&o.maybeStep(g).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],f.push(new bi(v,void 0,void 0,f.length+d.length))),s--,v&&i.appendMap(v,s)}else o.maybeStep(h.step);if(h.selection)return a=i?h.selection.map(i.slice(s)):h.selection,c=new ci(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),m=new bi(e.mapping.maps[d],h,n),g;(g=c&&c.merge(m))&&(m=g,d?s.pop():a=a.slice(0,a.length-1)),s.push(m),n&&(o++,n=void 0),i||(c=m)}let f=o-r.depth;return f>V$&&(a=$$(a,f),o-=f),new ci(a.append(s),o)}remapping(e,n){let r=new Nu;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ci(this.items.append(e.map(n=>new bi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},i);let c=n;this.items.forEach(m=>{let g=s.getMirror(--c);if(g==null)return;o=Math.min(o,g);let v=s.maps[g];if(m.step){let S=e.steps[g].invert(e.docs[g]),M=m.selection&&m.selection.map(s.slice(c+1,g));M&&a++,r.push(new bi(v,S,M))}else r.push(new bi(v))},i);let f=[];for(let m=n;m<o;m++)f.push(new bi(s.maps[m]));let d=this.items.slice(0,i).append(f).append(r),h=new ci(d,a);return h.emptyItemCount()>F$&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(n.slice(r)),f=c&&c.getMap();if(r--,f&&n.appendMap(f,r),c){let d=o.selection&&o.selection.map(n.slice(r));d&&s++;let h=new bi(f.invert(),c,d),m,g=i.length-1;(m=i.length&&i[g].merge(h))?i[g]=m:i.push(h)}}else o.map&&r--},this.items.length,0),new ci(Gt.from(i.reverse()),s)}}ci.empty=new ci(Gt.empty,0);function $$(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class bi{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new bi(n.getMap().invert(),n,this.selection)}}}class Ss{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const V$=20;function H$(t,e,n,r){let i=n.getMeta(Po),s;if(i)return i.historyState;n.getMeta(K$)&&(t=new Ss(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Po))return o.getMeta(Po).redo?new Ss(t.done.addTransform(n,void 0,r,Ff(e)),t.undone,_S(n.mapping.maps),t.prevTime,t.prevComposition):new Ss(t.done,t.undone.addTransform(n,void 0,r,Ff(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!W$(n,t.prevRanges)),f=o?Bm(t.prevRanges,n.mapping):_S(n.mapping.maps);return new Ss(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,Ff(e)),ci.empty,f,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Ss(t.done.rebased(n,s),t.undone.rebased(n,s),Bm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Ss(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Bm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function W$(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function _S(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Bm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function U$(t,e,n){let r=Ff(e),i=Po.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Ss(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Po,{redo:n,historyState:c})}let Fm=!1,PS=null;function Ff(t){let e=t.plugins;if(PS!=e){Fm=!1,PS=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Fm=!0;break}}return Fm}const Po=new Zr("history"),K$=new Zr("closeHistory");function q$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new kn({key:Po,state:{init(){return new Ss(ci.empty,ci.empty,null,0,-1)},apply(e,n,r){return H$(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?FM:r=="historyRedo"?$M:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function BM(t,e){return(n,r)=>{let i=Po.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=U$(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const FM=BM(!1,!0),$M=BM(!0,!0),X$=cn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>FM(t,e),redo:()=>({state:t,dispatch:e})=>$M(t,e)}},addProseMirrorPlugins(){return[q$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),G$=ar.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",$n(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!c6(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):hM(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:f}=o.selection,d=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(_e.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(ke.create(o.doc,f.pos)):o.setSelection(_e.create(o.doc,f.pos));else{const h=(c=f.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();h&&(o.insert(d,h),o.setSelection(_e.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[u6({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Y$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,J$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Q$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Z$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,eV=Xs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jl({find:Y$,type:this.type}),Jl({find:Q$,type:this.type})]},addPasteRules(){return[Ql({find:J$,type:this.type}),Ql({find:Z$,type:this.type})]}}),tV=ar.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",$n(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nV="listItem",DS="textStyle",AS=/^(\d+)\.\s$/,rV=ar.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",$n(this.options.HTMLAttributes,n),0]:["ol",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nV,this.editor.getAttributes(DS)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ru({find:AS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ru({find:AS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(DS)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),iV=ar.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),sV=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,oV=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,lV=Xs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",$n(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Jl({find:sV,type:this.type})]},addPasteRules(){return[Ql({find:oV,type:this.type})]}}),aV=ar.create({name:"text",group:"inline"}),uV=cn.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(g$.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(f$.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(v$.configure(this.options.bulletList)),this.options.code!==!1&&t.push(b$.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(C$.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(E$.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(O$.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(j$.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(L$.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(z$.configure(this.options.heading)),this.options.history!==!1&&t.push(X$.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(G$.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(eV.configure(this.options.italic)),this.options.listItem!==!1&&t.push(tV.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(rV.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(iV.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(lV.configure(this.options.strike)),this.options.text!==!1&&t.push(aV.configure(this.options.text)),t}}),cV=cn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new kn({key:new Zr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const c=r>=a&&r<=a+o.nodeSize,f=!o.isLeaf&&yp(o);if((c||!this.options.showOnlyCurrent)&&f){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const h=Sr.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:c}):this.options.placeholder});i.push(h)}return this.options.includeChildren}),Rt.create(t,i)}}})]}}),fV="gp_ai_configs",dV="gp_ai_active_id";async function pV(t,e,n){n&&n(!0);try{const r=localStorage.getItem(fV),i=localStorage.getItem(dV);if(!r)throw new Error(" AI");const s=JSON.parse(r),o=s.find(f=>f.id===i)||s[0];if(!o||!o.key||!o.url)throw new Error("AI  Key");const c=await(await fetch(o.url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.key}`},body:JSON.stringify({model:o.model,messages:[{role:"system",content:t},{role:"user",content:e}],stream:!1})})).json();if(c.error)throw new Error(c.error.message||"API Error");if(c.choices&&c.choices[0])return c.choices[0].message.content;throw new Error("")}catch(r){throw console.error("AI Request Failed:",r),r}finally{n&&n(!1)}}const hV={generate:"Markdown",rewrite:"",expand:"",summarize:"",translate:""};function mV({mode:t,selectedText:e="",onInsert:n,onClose:r}){const[i,s]=Y.useState(""),[o,a]=Y.useState(""),[c,f]=Y.useState(!1),[d,h]=Y.useState("");Y.useEffect(()=>{t!=="generate"&&e&&m(e)},[]);const m=async g=>{h(""),a("");const v=hV[t];let S=g;t==="generate"?S=`${i}`:S=`
"${e}"

${t}`;try{const M=await pV(v,S,f);a(M)}catch(M){h(M.message||"")}};return x.jsx("div",{className:"fixed inset-0 z-[2000] bg-black/60 backdrop-blur-sm flex items-center justify-center",onClick:r,children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 w-[700px] max-h-[85vh] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95",onClick:g=>g.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-900/50",children:[x.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[x.jsx(my,{size:18}),x.jsxs("span",{className:"font-bold text-sm uppercase tracking-wider",children:["AI Assistant - ",t.toUpperCase()]})]}),x.jsx("button",{onClick:r,children:x.jsx(yy,{size:18,className:"text-slate-500 hover:text-white"})})]}),x.jsxs("div",{className:"p-6 flex-1 overflow-y-auto custom-scrollbar space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:t==="generate"?" (Prompt)":" (Original Context)"}),t==="generate"?x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{value:i,onChange:g=>s(g.target.value),onKeyDown:g=>g.key==="Enter"&&m(i),placeholder:"...",className:"flex-1 bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-sm text-white focus:border-purple-500 outline-none",autoFocus:!0}),x.jsx("button",{onClick:()=>m(i),disabled:c||!i.trim(),className:"bg-purple-600 hover:bg-purple-500 disabled:opacity-50 text-white px-4 rounded-lg font-bold",children:x.jsx(Az,{size:18})})]}):x.jsxs("div",{className:"p-3 bg-slate-900/50 border border-slate-700 rounded-lg text-slate-400 text-sm italic max-h-24 overflow-y-auto",children:['"',e,'"']})]}),(c||o||d)&&x.jsxs("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("label",{className:"text-xs font-bold text-emerald-500 uppercase",children:"AI  (Result)"}),o&&x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:()=>m(t==="generate"?i:e),className:"text-slate-500 hover:text-white text-xs flex items-center gap-1",children:[x.jsx(Qw,{size:12})," "]}),x.jsxs("button",{onClick:()=>navigator.clipboard.writeText(o),className:"text-slate-500 hover:text-white text-xs flex items-center gap-1",children:[x.jsx(zz,{size:12})," "]})]})]}),x.jsx("div",{className:`p-4 rounded-lg border min-h-[100px] text-sm leading-relaxed whitespace-pre-wrap ${d?"bg-red-900/20 border-red-500/50 text-red-300":"bg-slate-900 border-purple-500/30 text-slate-200"}`,children:c?x.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[x.jsx(Qw,{size:16,className:"animate-spin"}),"..."]}):d||o})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900/50 flex justify-end gap-3",children:[x.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-400 hover:text-white text-sm",children:""}),o&&x.jsxs(x.Fragment,{children:[t!=="generate"&&x.jsx("button",{onClick:()=>n(o,"replace"),className:"px-4 py-2 bg-red-600/80 hover:bg-red-500 text-white rounded-lg text-sm font-bold flex items-center gap-2",title:"",children:""}),x.jsxs("button",{onClick:()=>n(o,"insert"),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm font-bold flex items-center gap-2 shadow-lg shadow-emerald-900/20",title:"/",children:[x.jsx(C2,{size:16})," "]})]})]})]})})}const $m=[{id:"blank",name:"",content:""},{id:"gdd",name:"GDD ",content:"<h1> (Project Name)</h1><h2>1. </h2><p><strong></strong></p><p><strong></strong>RPG / FPS / RTS...</p>"},{id:"level",name:"",content:"<h1>: [Level 1]</h1><h2>1. </h2><p></p>"},{id:"char",name:"",content:"<h1>: [Name]</h1><h2>1. </h2><ul><li><strong>:</strong> 18</li></ul>"}];function gV({initialDocs:t,onUpdate:e}){const[n,r]=Y.useState(t||[]),[i,s]=Y.useState(null),[o,a]=Y.useState([]),c=Y.useRef(null),[f,d]=Y.useState(!1),[h,m]=Y.useState(null),[g,v]=Y.useState(null),[S,M]=Y.useState("");Y.useEffect(()=>{t&&t.length>0?(r(t),(!i||!t.find(X=>X.id===i))&&s(t[0].id)):t&&t.length===0&&n.length===0&&k("gdd",null)},[t]);const b=(X,oe)=>{const G=n.map(z=>z.id===X?{...z,content:oe}:z);r(G),e(G)},w=(X,oe)=>{const G=n.map(z=>z.id===X?{...z,title:oe}:z);r(G),e(G)},E=X=>{m(X),d(!0)},k=(X,oe)=>{const G=$m.find(L=>L.id===X)||$m[0],z={id:br(),title:G.id==="blank"?"":G.name,content:G.content,parentId:oe,expanded:!0};let Z=[...n,z];oe&&(Z=Z.map(L=>L.id===oe?{...L,expanded:!0}:L)),r(Z),e(Z),s(z.id),d(!1)},_=(X,oe)=>{if(X.stopPropagation(),!confirm(""))return;const G=new Set,z=L=>{G.add(L),n.filter(V=>V.parentId===L).forEach(V=>z(V.id))};z(oe);const Z=n.filter(L=>!G.has(L.id));r(Z),e(Z),i&&G.has(i)&&s(null)},T=(X,oe)=>{X.stopPropagation(),r(n.map(G=>G.id===oe?{...G,expanded:!G.expanded}:G))},D=()=>{const X=n.find(L=>L.id===i);if(!X)return;const oe=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8"><title>${X.title}</title>
        <style>body { font-family: sans-serif; max-width: 800px; margin: 40px auto; line-height: 1.6; color: #333; } img { max-width: 100%; }</style>
      </head>
      <body><h1>${X.title}</h1>${X.content}</body>
      </html>
    `,G=new Blob([oe],{type:"text/html"}),z=URL.createObjectURL(G),Z=document.createElement("a");Z.href=z,Z.download=`${X.title}.html`,Z.click(),URL.revokeObjectURL(z)},A=X=>{if(!c.current)return;const oe=c.current;oe.commands.setTextSelection(X);const G=oe.view.nodeDOM(X);if(G&&G instanceof HTMLElement)G.scrollIntoView({behavior:"smooth",block:"center"});else{const z=oe.view.domAtPos(X+1);z.node instanceof HTMLElement&&z.node.scrollIntoView({behavior:"smooth",block:"center"})}},F=(X,oe)=>{const G=c.current;G&&(oe==="replace"?G.chain().focus().deleteSelection().insertContent(X).run():g==="generate"?G.chain().focus().insertContent(X).run():G.chain().focus().insertContent(`
${X}`).run(),v(null))},U=()=>{M(""),v("generate")},le=(X,oe=0)=>{const G=n.filter(z=>(z.parentId||null)===X);return G.length===0?null:G.map(z=>{const Z=n.some(V=>V.parentId===z.id),L=i===z.id;return x.jsxs("div",{children:[x.jsxs("div",{className:`flex items-center gap-2 py-1 px-2 rounded cursor-pointer group select-none ${L?"bg-emerald-600/20 text-emerald-400":"text-slate-400 hover:bg-slate-800 hover:text-slate-200"}`,style:{paddingLeft:`${oe*12+8}px`},onClick:()=>s(z.id),children:[x.jsx("span",{className:`p-0.5 rounded hover:bg-slate-700/50 ${Z?"opacity-100":"opacity-0"}`,onClick:V=>Z&&T(V,z.id),children:z.expanded?x.jsx(Iz,{size:14}):x.jsx(jz,{size:14})}),Z?x.jsx(Wz,{size:16,className:"text-yellow-500/80"}):x.jsx($g,{size:16,className:"text-blue-400/80"}),x.jsx("span",{className:"flex-1 truncate text-sm",children:z.title}),x.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[x.jsx("button",{onClick:V=>{V.stopPropagation(),E(z.id)},className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white",children:x.jsx(Cu,{size:12})}),x.jsx("button",{onClick:V=>_(V,z.id),className:"p-1 hover:bg-red-900/50 rounded text-slate-400 hover:text-red-400",children:x.jsx(gy,{size:12})})]})]}),L&&o.length>0&&x.jsx("div",{className:"flex flex-col mb-1 animate-in slide-in-from-left-2 duration-200 border-l border-slate-700/50 ml-4 my-1",children:o.map((V,B)=>x.jsxs("div",{onClick:ee=>{ee.stopPropagation(),A(V.pos)},className:"flex items-center gap-2 py-1 pr-2 rounded cursor-pointer hover:bg-slate-800 text-slate-500 hover:text-emerald-300 text-xs transition-colors",style:{paddingLeft:`${oe*12+24+(V.level-1)*8}px`},children:[x.jsx(Uz,{size:10,className:"opacity-50 shrink-0"}),x.jsx("span",{className:"truncate",children:V.text})]},B))}),Z&&z.expanded&&le(z.id,oe+1)]},z.id)})},ae=n.find(X=>X.id===i);return x.jsxs("div",{className:"flex h-full w-full bg-slate-900 overflow-hidden relative",children:[x.jsxs("div",{className:"w-64 bg-slate-800/50 border-r border-slate-700 flex flex-col shrink-0",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[x.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Documents"}),x.jsx("button",{onClick:()=>E(null),className:"p-1 hover:bg-emerald-600/20 rounded text-slate-400 hover:text-emerald-400",children:x.jsx(Cu,{size:16})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin",children:le(null)})]}),x.jsx("div",{className:"flex-1 flex flex-col bg-slate-900 min-w-0",children:ae?x.jsxs("div",{className:"flex-1 flex flex-col max-w-4xl mx-auto w-full h-full relative",children:[x.jsxs("div",{className:"flex items-center justify-between px-8 pt-8 pb-4 mx-8 border-b border-slate-800",children:[x.jsx("input",{value:ae.title,onChange:X=>w(ae.id,X.target.value),className:"bg-transparent text-4xl font-bold text-white outline-none flex-1 mr-4 placeholder-slate-700",placeholder:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-1.5 bg-purple-600 hover:bg-purple-500 text-white rounded transition-colors text-sm font-bold shadow-lg shadow-purple-900/20",children:[x.jsx(my,{size:16})," ",x.jsx("span",{children:"AI "})]}),x.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-emerald-600 hover:text-white text-slate-400 rounded transition-colors text-sm font-medium",children:[x.jsx(Fz,{size:16}),x.jsx("span",{children:""})]})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto px-16 py-8",children:x.jsx(yV,{docId:ae.id,initialContent:ae.content,onChange:X=>b(ae.id,X),onHeadingsUpdate:a,setEditorRef:X=>c.current=X,onAIRequest:(X,oe)=>{M(oe),v(X)}})})]}):x.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-600",children:x.jsxs("div",{className:"text-center",children:[x.jsx(Hz,{size:48,className:"mx-auto mb-4 opacity-20"}),x.jsx("p",{children:" + "})]})})}),f&&x.jsx("div",{className:"fixed inset-0 bg-black/70 z-[9999] flex items-center justify-center backdrop-blur-sm",onClick:()=>d(!1),children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-6 rounded-xl w-[500px]",onClick:X=>X.stopPropagation(),children:[x.jsx("h3",{className:"text-white mb-4",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-4",children:$m.map(X=>x.jsx("div",{onClick:()=>k(X.id,h),className:"p-4 bg-slate-700 hover:bg-emerald-600 cursor-pointer rounded text-white",children:X.name},X.id))}),x.jsx("button",{onClick:()=>d(!1),className:"mt-6 w-full py-2 text-slate-500 hover:text-slate-300 text-sm",children:""})]})}),g&&x.jsx(mV,{mode:g,selectedText:S,onInsert:F,onClose:()=>v(null)})]})}function yV({docId:t,initialContent:e,onChange:n,setEditorRef:r,onAIRequest:i,onHeadingsUpdate:s}){const o=Y.useRef(n),a=Y.useRef("");Y.useEffect(()=>{o.current=n},[n]);const c=h=>{if(!s)return;const m=[];h.state.doc.descendants((v,S)=>{v.type.name==="heading"&&m.push({level:v.attrs.level,text:v.textContent,id:`heading-${S}`,pos:S})});const g=JSON.stringify(m.map(v=>v.id+v.text));g!==a.current&&(a.current=g,s(m))},f=s$({extensions:[uV,cV.configure({placeholder:"..."}),$8.configure({pluginKey:"bubbleMenu"})],onUpdate:({editor:h})=>{o.current(h.getHTML()),c(h)},onCreate:({editor:h})=>{r(h),e&&h.commands.setContent(e),setTimeout(()=>c(h),100)},editorProps:{attributes:{class:"prose prose-invert prose-lg max-w-none focus:outline-none min-h-[500px]"}}},[]),d=Y.useRef(t);return Y.useEffect(()=>{f&&t!==d.current&&(f.commands.setContent(e||""),d.current=t,setTimeout(()=>c(f),50))},[t,f,e]),f?x.jsxs(x.Fragment,{children:[x.jsxs(l$,{editor:f,tippyOptions:{duration:100},className:"flex gap-1 bg-slate-800 border border-slate-600 p-1 rounded-lg shadow-xl overflow-hidden animate-in fade-in zoom-in-95",children:[x.jsxs("button",{onClick:()=>i("rewrite",f.state.doc.textBetween(f.state.selection.from,f.state.selection.to)),className:"flex items-center gap-1 px-2 py-1 text-xs text-slate-200 hover:bg-purple-600 hover:text-white rounded transition-colors",children:[x.jsx(o3,{size:12})," "]}),x.jsxs("button",{onClick:()=>i("expand",f.state.doc.textBetween(f.state.selection.from,f.state.selection.to)),className:"flex items-center gap-1 px-2 py-1 text-xs text-slate-200 hover:bg-emerald-600 hover:text-white rounded transition-colors",children:[x.jsx($z,{size:12})," "]}),x.jsxs("button",{onClick:()=>i("summarize",f.state.doc.textBetween(f.state.selection.from,f.state.selection.to)),className:"flex items-center gap-1 px-2 py-1 text-xs text-slate-200 hover:bg-blue-600 hover:text-white rounded transition-colors",children:[x.jsx(e3,{size:12})," "]}),x.jsxs("button",{onClick:()=>i("translate",f.state.doc.textBetween(f.state.selection.from,f.state.selection.to)),className:"flex items-center gap-1 px-2 py-1 text-xs text-slate-200 hover:bg-orange-600 hover:text-white rounded transition-colors",children:[x.jsx(qz,{size:12})," "]})]}),x.jsx(G8,{editor:f})]}):null}const VM=[{id:"btn_blue_normal",x:0,y:16,w:16,h:16,label:""},{id:"btn_red_normal",x:50,y:0,w:48,h:16,label:""},{id:"panel_bg",x:0,y:32,w:96,h:96,label:""},{id:"bar_empty",x:100,y:0,w:64,h:10,label:""},{id:"bar_full",x:100,y:12,w:64,h:10,label:""},{id:"Play",x:160,y:16,w:115,h:33,label:""},{id:"setting",x:128,y:16,w:16,h:16,label:""}],HM=({config:t,scale:e=1,className:n="",onClick:r,overrideW:i,overrideH:s})=>{const o=Y.useRef(null);return Y.useEffect(()=>{const a=o.current;if(!a)return;const c=a.getContext("2d");if(!c)return;const f=new Image;f.src=t.imageUrl||"./assets/ui-sprites.png",f.onload=()=>{const d=(i||t.w)*e,h=(s||t.h)*e;a.width=d,a.height=h,c.imageSmoothingEnabled=!1,c.drawImage(f,t.x,t.y,t.w,t.h,0,0,d,h)}},[t,e,i,s]),x.jsx("canvas",{ref:o,onClick:r,className:`inline-block ${n}`,style:{display:"block",pointerEvents:"none"},title:t.label})};function vV({component:t,assetConfig:e,isSelected:n,isMoving:r,scale:i=1,globalVars:s={},onUpdate:o,onSelect:a,onContextMenu:c,onInteraction:f}){var T,D,A,F,U,le,ae;const d=Y.useRef(null),h=t.customScale||1,[m,g]=Y.useState(!1),v=t.width*h,S=t.height*h,M=X=>{if(!X)return!0;try{const oe=X.trim().split(/\s+/);if(oe.length<3)return!1;const G=oe[0],z=oe[1],Z=parseFloat(oe[2]),L=s[G]||0;switch(z){case"==":return L===Z;case"!=":return L!==Z;case">":return L>Z;case"<":return L<Z;case">=":return L>=Z;case"<=":return L<=Z;default:return!1}}catch{return!1}},b=X=>{if(r)return;const{type:oe,targetId:G,param:z}=t.interaction||{type:"none"};if(oe!=="none"){if(oe==="toggle"&&g(!m),oe==="increment"&&f("increment",void 0,z||"VAR"),oe==="trigger_cond"){M(z||"")&&G&&f("navigate",G);return}["navigate","open_modal","close_modal","back"].includes(oe)&&f(oe,G,z)}},w=((T=t.interaction)==null?void 0:T.type)==="toggle"&&!m?"brightness-50":"";let E="";r?E="ring-2 ring-emerald-400 ring-dashed cursor-move z-[999]":n?E="ring-2 ring-purple-500 cursor-pointer":E=((D=t.interaction)==null?void 0:D.type)!=="none"?"hover:ring-1 hover:ring-white/50 cursor-pointer":"";const k=(A=t.state)!=null&&A.isDisabled?.5:1,_=((F=t.state)==null?void 0:F.isVisible)===!1?"none":"block";return x.jsx(v2,{nodeRef:d,position:{x:t.x,y:t.y},scale:i,disabled:!r,onStop:(X,oe)=>o(t.id,{x:oe.x,y:oe.y}),onMouseDown:X=>{X.stopPropagation(),a(X)},children:x.jsxs("div",{ref:d,onClick:b,onContextMenu:X=>{X.preventDefault(),X.stopPropagation(),c(X)},className:`absolute group transition-all active:scale-95 ${E} ${w}`,style:{width:v,height:S,zIndex:r?9999:t.zIndex||1,opacity:k,display:_},children:[r&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50 pointer-events-none",children:x.jsx(O2,{size:24,className:"text-emerald-400 drop-shadow-md animate-pulse"})}),e?x.jsx(HM,{config:e,scale:h,overrideW:t.width,overrideH:t.height,className:"w-full h-full block"}):x.jsx("div",{className:"w-full h-full bg-red-500/50 border border-red-500 flex items-center justify-center text-xs text-white overflow-hidden",children:t.name}),((U=t.interaction)==null?void 0:U.type)==="increment"&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center font-mono font-bold text-white drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)] text-xl pointer-events-none select-none",children:(s==null?void 0:s[t.interaction.param||""])||0}),!r&&((le=t.interaction)==null?void 0:le.type)!=="none"&&x.jsx("div",{className:"absolute -top-2 -right-2 bg-slate-700 text-white text-[9px] px-1.5 py-0.5 rounded shadow-sm z-[200] pointer-events-none border border-slate-500",children:(ae=t.interaction)==null?void 0:ae.type})]})})}function xV({component:t,allPages:e,onSave:n,onClose:r}){var Z,L,V,B,ee,re;const[i,s]=Y.useState("prop"),[o,a]=Y.useState(t.name),[c,f]=Y.useState(t.x),[d,h]=Y.useState(t.y),[m,g]=Y.useState(t.width),[v,S]=Y.useState(t.height),[M,b]=Y.useState(t.customScale||1),[w,E]=Y.useState(t.zIndex||1),[k,_]=Y.useState(((Z=t.state)==null?void 0:Z.isDisabled)||!1),[T,D]=Y.useState(((L=t.state)==null?void 0:L.isActive)||!1),[A,F]=Y.useState(((V=t.state)==null?void 0:V.isVisible)??!0),[U,le]=Y.useState(((B=t.interaction)==null?void 0:B.type)||"none"),[ae,X]=Y.useState(((ee=t.interaction)==null?void 0:ee.targetId)||""),[oe,G]=Y.useState(((re=t.interaction)==null?void 0:re.param)||""),z=()=>{n({name:o,x:Number(c),y:Number(d),width:Number(m),height:Number(v),zIndex:Number(w),customScale:Number(M),state:{isDisabled:k,isActive:T,isVisible:A},interaction:{type:U,targetId:["navigate","open_modal"].includes(U)?ae:void 0,param:oe}}),r()};return x.jsx("div",{className:"fixed inset-0 z-[1200] bg-black/60 backdrop-blur-sm flex items-center justify-center",onClick:r,children:x.jsxs("div",{className:"bg-slate-800 border border-slate-700 w-[600px] h-[500px] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95",onClick:K=>K.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 p-4 bg-slate-900/50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded flex items-center justify-center text-white font-bold text-xs",children:"CFG"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-white font-bold text-base",children:o}),x.jsxs("p",{className:"text-slate-500 text-[10px] uppercase",children:["ID: ",t.id.slice(0,6)]})]})]}),x.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white",children:x.jsx(yy,{size:20})})]}),x.jsx("div",{className:"flex bg-slate-900/30 border-b border-slate-700 px-4 gap-6",children:[{id:"prop",label:"Transform",icon:md},{id:"inter",label:"Interaction",icon:Yz},{id:"style",label:"State & Style",icon:Yw}].map(K=>x.jsxs("button",{onClick:()=>s(K.id),className:`flex items-center gap-2 py-3 text-sm border-b-2 transition-colors ${i===K.id?"border-purple-500 text-purple-400 font-bold":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[x.jsx(K.icon,{size:14})," ",K.label]},K.id))}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:[i==="prop"&&x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs text-slate-500 font-bold",children:"Name"}),x.jsx("input",{value:o,onChange:K=>a(K.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1.5 text-white text-sm"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-xs text-emerald-500 font-bold",children:"Scale"}),x.jsx("input",{type:"number",step:"0.1",value:M,onChange:K=>b(Number(K.target.value)),className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1.5 text-white text-sm"})]})]}),x.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"X"}),x.jsx("input",{type:"number",value:c,onChange:K=>f(Number(K.target.value)),className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"Y"}),x.jsx("input",{type:"number",value:d,onChange:K=>h(Number(K.target.value)),className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"W"}),x.jsx("input",{type:"number",value:m,onChange:K=>g(Number(K.target.value)),className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white text-xs"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] text-slate-500 font-bold block mb-1",children:"H"}),x.jsx("input",{type:"number",value:v,onChange:K=>S(Number(K.target.value)),className:"w-full bg-slate-900 border border-slate-600 rounded px-2 py-1 text-white text-xs"})]})]})]}),i==="inter"&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-slate-700/30 p-4 rounded-lg border border-slate-600",children:[x.jsxs("label",{className:"flex items-center gap-2 text-sm text-white font-bold mb-3",children:[x.jsx(eb,{size:16,className:"text-yellow-500"}),"  (On Click)"]}),x.jsxs("select",{value:U,onChange:K=>le(K.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white text-sm focus:border-purple-500 outline-none",children:[x.jsx("option",{value:"none",children:" (None)"}),x.jsx("option",{value:"navigate",children:" (Navigate)"}),x.jsx("option",{value:"open_modal",children:" (Open Modal)"}),x.jsx("option",{value:"close_modal",children:" (Close Self)"}),x.jsx("option",{value:"back",children:" (Go Back)"}),x.jsx("option",{value:"toggle",children:" (Toggle State)"}),x.jsx("option",{value:"increment",children:"+1 (Increment)"}),x.jsx("option",{value:"trigger_cond",children:" (Condition)"})]})]}),U==="navigate"&&x.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[x.jsx("label",{className:"text-xs text-blue-400 font-bold block mb-1",children:" (Target Screen)"}),x.jsxs("select",{value:ae,onChange:K=>X(K.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[x.jsx("option",{value:"",children:"--  --"}),e.filter(K=>!K.type.includes("modal")).map(K=>x.jsx("option",{value:K.id,children:K.name},K.id))]})]}),U==="open_modal"&&x.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[x.jsx("label",{className:"text-xs text-yellow-500 font-bold block mb-1",children:" (Target Modal)"}),x.jsxs("select",{value:ae,onChange:K=>X(K.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white text-sm",children:[x.jsx("option",{value:"",children:"--  --"}),e.filter(K=>K.type.includes("modal")||K.type.includes("toast")).map(K=>x.jsxs("option",{value:K.id,children:[K.name," (",K.type,")"]},K.id))]})]}),["trigger_cond","increment"].includes(U)&&x.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[x.jsx("label",{className:"text-xs text-slate-400 font-bold block mb-1",children:" / "}),x.jsx("input",{value:oe,onChange:K=>G(K.target.value),className:"w-full bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white text-sm",placeholder:": HP, 100, isUnloked..."})]})]}),i==="style"&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between bg-slate-700/30 p-3 rounded border border-slate-600",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[x.jsx(Yw,{size:16}),"  (Z-Index)"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>E(K=>Math.max(0,K-1)),className:"w-6 h-6 bg-slate-800 rounded text-white",children:"-"}),x.jsx("input",{type:"number",value:w,onChange:K=>E(Number(K.target.value)),className:"w-12 bg-slate-900 text-center text-white text-sm rounded border border-slate-600 py-0.5"}),x.jsx("button",{onClick:()=>E(K=>K+1),className:"w-6 h-6 bg-slate-800 rounded text-white",children:"+"})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"text-xs text-slate-500 font-bold uppercase",children:" (Initial State)"}),x.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-700/50 rounded cursor-pointer",onClick:()=>_(!k),children:[x.jsxs("span",{className:"text-sm text-white flex items-center gap-2",children:[x.jsx(Vz,{size:14,className:k?"text-red-500":"text-slate-600"}),"  (Disabled)"]}),x.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${k?"bg-red-600":"bg-slate-600"}`,children:x.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${k?"left-4.5":"left-0.5"}`})})]}),x.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-700/50 rounded cursor-pointer",onClick:()=>D(!T),children:[x.jsxs("span",{className:"text-sm text-white flex items-center gap-2",children:[x.jsx(eb,{size:14,className:T?"text-yellow-500":"text-slate-600"})," / (Active)"]}),x.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${T?"bg-yellow-600":"bg-slate-600"}`,children:x.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${T?"left-4.5":"left-0.5"}`})})]}),x.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-slate-700/50 rounded cursor-pointer",onClick:()=>F(!A),children:[x.jsx("span",{className:"text-sm text-white flex items-center gap-2",children:"  (Visible)"}),x.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${A?"bg-emerald-600":"bg-slate-600"}`,children:x.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${A?"left-4.5":"left-0.5"}`})})]})]})]})]}),x.jsxs("div",{className:"p-4 border-t border-slate-700 flex justify-end gap-3 bg-slate-900/50",children:[x.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-400 hover:text-white text-sm",children:"Cancel"}),x.jsx("button",{onClick:z,className:"px-6 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded font-bold text-sm shadow-lg shadow-purple-900/20",children:"Save Changes"})]})]})})}function wV({page:t,allPages:e,allAssets:n=VM,activeModalId:r,globalVars:i,onBack:s,onUpdate:o,onInteraction:a}){const[c,f]=Y.useState(t),[d,h]=Y.useState(null),[m,g]=Y.useState(null),[v,S]=Y.useState(null),[M,b]=Y.useState(null),w=Y.useRef(null),E=Y.useRef(null);Y.useEffect(()=>{f(t),h(null),g(null),S(null)},[t]);const k=r?e.find(z=>z.id===r):null,_=z=>{const Z={...c,...z};f(Z),o(Z)},T=z=>{z.preventDefault();const Z=z.dataTransfer.getData("uicomponent");if(!Z)return;const L=w.current;if(L)try{const V=JSON.parse(Z),B=L.getBoundingClientRect(),ee=z.clientX-B.left,re=z.clientY-B.top,K=2,xe={id:br(),name:V.label||"",type:"sprite",src:V.id,x:ee-V.w*K/2,y:re-V.h*K/2,width:V.w*K,height:V.h*K,zIndex:c.components.length+10,customScale:1,state:{isVisible:!0,isActive:!1,isDisabled:!1},interaction:{type:"none"}};_({components:[...c.components,xe]}),h(xe.id)}catch(V){console.error(V)}},D=z=>{z.preventDefault()},A=(z,Z="")=>{const L=c.width/2-100,V=c.height/2-50,B=["image","video","audio","sprite"].includes(z),ee={id:br(),name:`${z}`,type:z,src:B?Z:void 0,text:B?void 0:Z,x:L,y:V,width:z==="status"?128:200,height:z==="status"?40:150,zIndex:20,customScale:1,state:{isVisible:!0},interaction:{type:"none"}};_({components:[...c.components,ee]})},F=(z,Z)=>{const L=c.components.map(V=>V.id===z?{...V,...Z}:V);_({components:L})},U=(z,Z)=>{const L=z;S({x:L.clientX,y:L.clientY,componentId:Z})},le=z=>{const Z=c.components.filter(L=>L.id!==z);_({components:Z}),S(null)},ae=()=>{h(null),S(null),g(null)},X=async()=>{if(w.current)try{const z=await o2(w.current,{pixelRatio:2}),Z=document.createElement("a");Z.download=`${c.name}.png`,Z.href=z,Z.click()}catch{}},oe=z=>{var L;const Z=(L=z.target.files)==null?void 0:L[0];if(Z){const V=new FileReader;V.onload=B=>{var re;let ee="image";Z.type.startsWith("video/")&&(ee="video"),Z.type.startsWith("audio/")&&(ee="audio"),A(ee,(re=B.target)==null?void 0:re.result)},V.readAsDataURL(Z)}z.target.value=""},G=(z,Z=!1)=>z.map(L=>x.jsx(vV,{component:L,assetConfig:n.find(V=>V.id===L.src),isSelected:d===L.id,isMoving:m===L.id,scale:1,globalVars:i,onUpdate:Z?()=>{}:F,onSelect:V=>{Z||(h(L.id),S(null))},onContextMenu:V=>{Z||U(V,L.id)},onInteraction:a},L.id));return x.jsxs("div",{className:"flex h-full w-full bg-[#121212] overflow-hidden flex-col",onClick:ae,children:[x.jsx("input",{type:"file",ref:E,onChange:oe,className:"hidden"}),x.jsxs("div",{className:"h-14 bg-slate-800 border-b border-slate-700 flex items-center justify-between px-4 shrink-0 z-20",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-700 rounded-lg text-slate-300",children:x.jsx(Dz,{size:20})}),x.jsx("input",{value:c.name,onChange:z=>_({name:z.target.value}),className:"bg-transparent text-white font-bold outline-none border-b border-transparent focus:border-purple-500 px-1"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>A("text"),className:"p-2 hover:bg-slate-700 rounded text-slate-300",title:"",children:x.jsx(_2,{size:18})}),x.jsx("button",{onClick:()=>{var z;return(z=E.current)==null?void 0:z.click()},className:"p-2 hover:bg-slate-700 rounded text-slate-300",title:"",children:x.jsx(N2,{size:18})}),x.jsx("button",{onClick:X,className:"p-2 hover:bg-blue-600 bg-blue-700 rounded text-white",title:"",children:x.jsx(hd,{size:18})})]})]}),x.jsx("div",{className:"flex-1 flex overflow-hidden",children:x.jsx("div",{className:"flex-1 bg-[#0f0f0f] relative overflow-auto flex p-10 custom-scrollbar",children:x.jsx("div",{className:"min-w-full min-h-full flex items-center justify-center pointer-events-none",children:x.jsxs("div",{ref:w,className:"shadow-2xl relative border border-slate-800 transition-all shrink-0 pointer-events-auto",style:{width:c.width,height:c.height,backgroundColor:c.backgroundColor||"#1e1e1e"},onDrop:T,onDragOver:D,onClick:z=>{z.stopPropagation(),ae()},children:[G(c.components),k&&x.jsx("div",{className:"absolute inset-0 bg-black/60 z-[2000] flex items-center justify-center animate-in fade-in",children:x.jsx("div",{className:"relative shadow-2xl overflow-hidden animate-in zoom-in-95",style:{width:k.width,height:k.height,backgroundColor:k.backgroundColor||"#2a2a2a",border:"1px solid #444"},children:G(k.components,!0)})})]})})})}),v&&x.jsxs("div",{className:"fixed bg-slate-800 border border-slate-600 rounded shadow-xl py-1 w-36 z-[3000]",style:{top:v.y,left:v.x},onClick:z=>z.stopPropagation(),children:[x.jsxs("button",{onClick:()=>{g(m===v.componentId?null:v.componentId),S(null)},className:"w-full text-left px-4 py-2 text-sm text-white hover:bg-emerald-600 transition-colors flex items-center gap-2",children:[m===v.componentId?x.jsx(Gz,{size:14}):x.jsx(O2,{size:14}),m===v.componentId?"":""]}),x.jsx("div",{className:"h-px bg-slate-700 my-1"}),x.jsx("button",{onClick:()=>{b(v.componentId),S(null)},className:"w-full text-left px-4 py-2 text-sm text-white hover:bg-purple-600 transition-colors",children:" "}),x.jsx("div",{className:"h-px bg-slate-700 my-1"}),x.jsx("button",{onClick:()=>le(v.componentId),className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-slate-700 transition-colors",children:" "})]}),M&&x.jsx(xV,{component:c.components.find(z=>z.id===M),allPages:e,onClose:()=>b(null),onSave:z=>F(M,z)})]})}function bV({onSave:t,onClose:e}){const[n,r]=Y.useState(""),[i,s]=Y.useState(""),[o,a]=Y.useState(0),[c,f]=Y.useState(0),[d,h]=Y.useState(64),[m,g]=Y.useState(64),v=M=>{var w;const b=(w=M.target.files)==null?void 0:w[0];if(b){const E=new FileReader;E.onload=k=>{var D;const _=(D=k.target)==null?void 0:D.result;r(_);const T=new Image;T.onload=()=>{h(T.width>200?100:T.width),g(T.height>200?100:T.height)},T.src=_},E.readAsDataURL(b)}},S=()=>{if(!n)return;const M={id:`custom_${br().slice(0,8)}`,label:i,imageUrl:n,x:Number(o),y:Number(c),w:Number(d),h:Number(m)};t(M)};return x.jsx("div",{className:"fixed inset-0 z-[2000] bg-black/80 backdrop-blur-sm flex items-center justify-center",onClick:e,children:x.jsxs("div",{className:"bg-slate-800 w-[900px] h-[600px] rounded-xl border border-slate-700 flex flex-col shadow-2xl overflow-hidden animate-in zoom-in-95",onClick:M=>M.stopPropagation(),children:[x.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-900",children:[x.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[x.jsx(hd,{className:"text-purple-500",size:20})," (Asset Slicer)"]}),x.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:x.jsx(yy,{size:20})})]}),x.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[x.jsx("div",{className:"flex-1 bg-[#1a1a1a] p-8 overflow-auto flex items-center justify-center relative pattern-grid",children:n?x.jsxs("div",{className:"relative inline-block shadow-2xl border border-slate-600 bg-slate-800",children:[x.jsx("img",{src:n,className:"max-w-none block",style:{imageRendering:"pixelated"},alt:"Source",draggable:!1}),x.jsx("div",{className:"absolute border-2 border-red-500 bg-red-500/20 pointer-events-none transition-all duration-75",style:{left:o,top:c,width:d,height:m},children:x.jsxs("div",{className:"absolute -top-6 left-0 bg-red-500 text-white text-[10px] px-1 rounded font-mono whitespace-nowrap",children:["x:",o,", y:",c,", ",d,"x",m]})})]}):x.jsxs("div",{className:"text-slate-500 flex flex-col items-center gap-2",children:[x.jsx(hd,{size:48,className:"opacity-20"}),x.jsx("p",{children:""})]})}),x.jsxs("div",{className:"w-80 bg-slate-900 border-l border-slate-700 p-6 flex flex-col gap-6 overflow-y-auto",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase flex items-center gap-2",children:[x.jsx("span",{className:"w-4 h-4 rounded-full bg-slate-700 text-white flex items-center justify-center text-[10px]",children:"1"}),""]}),x.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-700 hover:border-emerald-500 hover:bg-slate-800 rounded-lg cursor-pointer transition-all group",children:[x.jsx(i3,{size:24,className:"text-slate-500 group-hover:text-emerald-400 mb-2"}),x.jsx("span",{className:"text-xs text-slate-400 group-hover:text-white",children:""}),x.jsx("input",{type:"file",onChange:v,className:"hidden",accept:"image/*"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("label",{className:"text-xs font-bold text-emerald-500 uppercase flex items-center gap-2",children:[x.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-900 text-emerald-400 flex items-center justify-center text-[10px]",children:"2"})," (Source Rect)"]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"X ()"}),x.jsx("input",{type:"number",value:o,onChange:M=>a(Number(M.target.value)),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-white text-sm font-mono focus:border-emerald-500 outline-none"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"Y ()"}),x.jsx("input",{type:"number",value:c,onChange:M=>f(Number(M.target.value)),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-white text-sm font-mono focus:border-emerald-500 outline-none"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"Width ()"}),x.jsx("input",{type:"number",value:d,onChange:M=>h(Number(M.target.value)),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-white text-sm font-mono focus:border-emerald-500 outline-none"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:"Height ()"}),x.jsx("input",{type:"number",value:m,onChange:M=>g(Number(M.target.value)),className:"w-full bg-slate-800 border border-slate-600 rounded px-2 py-1.5 text-white text-sm font-mono focus:border-emerald-500 outline-none"})]})]}),x.jsx("div",{className:"text-[10px] text-slate-500 leading-tight",children:""})]}),x.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-800 mt-auto",children:[x.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase",children:""}),x.jsx("input",{value:i,onChange:M=>s(M.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded px-3 py-2 text-white text-sm focus:border-purple-500 outline-none",placeholder:""}),x.jsxs("button",{onClick:S,disabled:!n,className:"w-full bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 shadow-lg shadow-purple-900/20 transition-all active:scale-95",children:[x.jsx(T2,{size:16})," "]})]})]})]})]})})}const SV=[{label:"PC ",type:"screen",w:1280,h:720,icon:M2,desc:""},{label:"iPhone",type:"screen",w:390,h:844,icon:t3,desc:""},{label:"Tablet",type:"screen",w:1024,h:768,icon:r3,desc:"/"},{label:"",type:"modal_center",w:500,h:400,icon:Bz,desc:"/"},{label:"",type:"modal_bottom",w:390,h:300,icon:md,desc:""},{label:"",type:"sidebar_left",w:300,h:720,icon:Qz,desc:""},{label:"",type:"toast",w:200,h:60,icon:n3,desc:""}];function kV({data:t,onUpdate:e}){const[n,r]=Y.useState(null),[i,s]=Y.useState(!1),[o,a]=Y.useState(null),[c,f]=Y.useState(!1),[d,h]=Y.useState({HP:100,GOLD:0,KEY:0}),m=t.assets||[],g=[...VM,...m],v=(E,k,_)=>{E==="navigate"&&k&&(r(k),a(null)),E==="open_modal"&&k&&a(k),E==="close_modal"&&a(null),E==="back"&&o&&a(null),E==="increment"&&_&&h(T=>({...T,[_]:(T[_]||0)+1}))},S=E=>{const k={id:br(),name:`${E.label} ${t.pages.length+1}`,type:E.type,width:E.w,height:E.h,backgroundColor:E.type.includes("modal")?"#2a2a2a":"#1e1e1e",components:[]};e({...t,pages:[...t.pages,k]}),s(!1)},M=E=>{const k=[...m,E];e({...t,assets:k}),f(!1)},b=(E,k)=>{E.stopPropagation(),confirm("")&&e({...t,pages:t.pages.filter(_=>_.id!==k)})},w=(E,k)=>{E.stopPropagation(),e({...t,startPageId:k})};if(n){const E=t.pages.find(k=>k.id===n);return E?x.jsxs("div",{className:"flex h-full w-full bg-[#121212] overflow-hidden",children:[x.jsxs("div",{className:"w-64 bg-slate-900 border-r border-slate-700 p-4 flex flex-col gap-4 select-none shrink-0 z-10 h-full",children:[x.jsxs("div",{className:"flex justify-between items-center mb-1",children:[x.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase",children:"UI "}),x.jsx("button",{onClick:()=>f(!0),className:"p-1.5 hover:bg-slate-700 rounded text-emerald-500 hover:text-emerald-400 transition-colors",title:"",children:x.jsx(Cu,{size:16})})]}),x.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar",children:x.jsx("div",{className:"grid grid-cols-2 gap-3 pb-4",children:g.map(k=>x.jsxs("div",{className:"flex flex-col items-center gap-2 p-2 bg-slate-800 rounded border border-slate-700 hover:border-emerald-500 cursor-grab active:cursor-grabbing transition-all group",draggable:!0,onDragStart:_=>{_.dataTransfer.setData("uicomponent",JSON.stringify({type:"sprite",...k}))},children:[x.jsx("div",{className:"w-full h-16 flex items-center justify-center overflow-hidden bg-slate-900/50 rounded",children:x.jsx(HM,{config:k,scale:1,className:"max-w-full max-h-full object-contain"})}),x.jsx("span",{className:"text-[10px] text-slate-500 group-hover:text-slate-300 text-center break-all leading-tight w-full truncate",children:k.label})]},k.id))})})]}),x.jsx("div",{className:"flex-1 overflow-hidden",children:x.jsx(wV,{page:E,allPages:t.pages,allAssets:g,activeModalId:o,globalVars:d,onBack:()=>{r(null),a(null)},onUpdate:k=>{const _=t.pages.map(T=>T.id===k.id?k:T);e({...t,pages:_})},onInteraction:v},n)}),c&&x.jsx(bV,{onSave:M,onClose:()=>f(!1)})]}):(r(null),null)}return x.jsxs("div",{className:"flex-1 bg-slate-900 p-8 overflow-y-auto h-full relative",children:[x.jsx("div",{className:"flex justify-between items-center mb-8",children:x.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[x.jsx(M2,{size:32,className:"text-purple-500"})," UI  Pro"]})}),x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[x.jsxs("button",{onClick:()=>s(!0),className:"aspect-video bg-slate-800/50 border-2 border-dashed border-slate-700 hover:border-emerald-500 rounded-xl flex flex-col items-center justify-center group",children:[x.jsx(Cu,{size:32,className:"text-slate-500 group-hover:text-white"}),x.jsx("span",{className:"text-slate-500 mt-2",children:""})]}),t.pages.map(E=>x.jsxs("div",{onClick:()=>r(E.id),className:`aspect-video bg-slate-800 border-2 rounded-xl relative group cursor-pointer hover:-translate-y-1 transition-all ${t.startPageId===E.id?"border-purple-500":"border-slate-700"}`,children:[x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white font-bold bg-slate-900/50",children:[E.name,x.jsx("span",{className:"text-[10px] text-slate-500 font-normal uppercase mt-1",children:E.type})]}),x.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("button",{onClick:k=>w(k,E.id),className:"p-1.5 bg-slate-600 rounded text-white hover:bg-purple-600",children:x.jsx(Zz,{size:14})}),x.jsx("button",{onClick:k=>b(k,E.id),className:"p-1.5 bg-slate-600 rounded text-white hover:bg-red-600",children:x.jsx(gy,{size:14})})]}),t.startPageId===E.id&&x.jsx("div",{className:"absolute top-2 left-2 bg-purple-600 text-[10px] px-2 rounded font-bold",children:"HOME"})]},E.id))]}),i&&x.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[1000] backdrop-blur-sm",onClick:()=>s(!1),children:x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl w-[800px] border border-slate-700 shadow-2xl",onClick:E=>E.stopPropagation(),children:[x.jsx("h3",{className:"text-white font-bold mb-4 text-xl",children:""}),x.jsx("div",{className:"grid grid-cols-4 gap-4",children:SV.map((E,k)=>x.jsxs("div",{onClick:()=>S(E),className:"bg-slate-700/50 p-4 rounded-lg cursor-pointer hover:bg-emerald-600/20 hover:border-emerald-500 border border-slate-600 text-center flex flex-col items-center justify-center h-32 group transition-all",children:[x.jsx("p",{className:"text-slate-300 group-hover:text-white font-bold mb-1",children:E.label}),x.jsxs("span",{className:"text-[10px] text-slate-500",children:[E.w,"x",E.h]})]},k))})]})})]})}const RS="gp_ai_configs",IS="gp_ai_active_id",Vm={id:"default",name:" (Mimo)",url:"https://api.xiaomimimo.com/v1/chat/completions",key:"",model:"mimo-v2-flash"};function CV(){const[t,e]=Y.useState([]),[n,r]=Y.useState(""),[i,s]=Y.useState(null),[o,a]=Y.useState(Vm);Y.useEffect(()=>{var M;const v=localStorage.getItem(RS),S=localStorage.getItem(IS);e(v?JSON.parse(v):[Vm]),r(S||(v?(M=JSON.parse(v)[0])==null?void 0:M.id:Vm.id))},[]);const c=(v,S)=>{localStorage.setItem(RS,JSON.stringify(v)),localStorage.setItem(IS,S),e(v),r(S)},f=()=>{const v={id:br(),name:"",url:"https://api.openai.com/v1/chat/completions",key:"",model:"gpt-3.5-turbo"},S=[...t,v];c(S,n),s(v.id),a(v)},d=v=>{if(confirm("")){const S=t.filter(b=>b.id!==v);let M=n;v===n&&S.length>0&&(M=S[0].id),c(S,M),i===v&&s(null)}},h=v=>{s(v.id),a({...v})},m=()=>{const v=t.map(S=>S.id===i?o:S);c(v,n),s(null)},g=v=>{c(t,v)};return x.jsxs("div",{className:"p-8 max-w-4xl mx-auto text-slate-200",children:[x.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center gap-3",children:[x.jsx(gd,{className:"text-emerald-500",size:32}),""]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden flex flex-col h-[500px]",children:[x.jsxs("div",{className:"p-4 bg-slate-900/50 border-b border-slate-700 flex justify-between items-center",children:[x.jsx("span",{className:"font-bold text-slate-300",children:"AI "}),x.jsx("button",{onClick:f,className:"p-1.5 bg-emerald-600 hover:bg-emerald-500 rounded text-white transition-colors",title:"",children:x.jsx(Cu,{size:16})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 custom-scrollbar",children:t.map(v=>x.jsxs("div",{onClick:()=>h(v),className:`p-3 rounded-lg border cursor-pointer transition-all flex items-center justify-between group ${i===v.id?"bg-slate-700 border-emerald-500/50":"bg-slate-800/50 border-slate-700 hover:bg-slate-700"}`,children:[x.jsxs("div",{className:"flex flex-col min-w-0",children:[x.jsx("span",{className:`font-bold text-sm truncate ${v.id===n?"text-emerald-400":"text-slate-300"}`,children:v.name}),x.jsx("span",{className:"text-[10px] text-slate-500 truncate",children:v.model})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[v.id===n?x.jsx("span",{className:"text-[10px] bg-emerald-900/50 text-emerald-400 px-2 py-0.5 rounded-full border border-emerald-500/30",children:""}):x.jsx("button",{onClick:S=>{S.stopPropagation(),g(v.id)},className:"p-1.5 text-slate-500 hover:text-emerald-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:x.jsx(C2,{size:14})}),x.jsx("button",{onClick:S=>{S.stopPropagation(),d(v.id)},className:"p-1.5 text-slate-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:x.jsx(gy,{size:14})})]})]},v.id))})]}),x.jsx("div",{className:"md:col-span-2 bg-slate-800 rounded-xl border border-slate-700 p-6 h-[500px] flex flex-col",children:i?x.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[x.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-4",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:""}),x.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 rounded text-white font-bold text-sm transition-colors",children:[x.jsx(T2,{size:16})," "]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-xs font-bold text-slate-400 mb-1 block",children:" (Alias)"}),x.jsx("input",{value:o.name,onChange:v=>a({...o,name:v.target.value}),className:"w-full bg-slate-900 border border-slate-600 rounded p-2.5 text-white focus:border-emerald-500 outline-none transition-colors",placeholder:" Key"})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-bold text-slate-400 mb-1 flex items-center gap-2",children:[x.jsx(E2,{size:12})," API  (Base URL)"]}),x.jsx("input",{value:o.url,onChange:v=>a({...o,url:v.target.value}),className:"w-full bg-slate-900 border border-slate-600 rounded p-2.5 text-slate-300 font-mono text-xs focus:border-emerald-500 outline-none transition-colors",placeholder:"https://api.openai.com/v1/chat/completions"}),x.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:" /v1/chat/completions "})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-bold text-slate-400 mb-1 flex items-center gap-2",children:[x.jsx(Kz,{size:12})," API Key"]}),x.jsx("input",{type:"password",value:o.key,onChange:v=>a({...o,key:v.target.value}),className:"w-full bg-slate-900 border border-slate-600 rounded p-2.5 text-slate-300 font-mono text-xs focus:border-emerald-500 outline-none transition-colors",placeholder:"sk-..."})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-bold text-slate-400 mb-1 flex items-center gap-2",children:[x.jsx(Rz,{size:12}),"  (Model Name)"]}),x.jsx("input",{value:o.model,onChange:v=>a({...o,model:v.target.value}),className:"w-full bg-slate-900 border border-slate-600 rounded p-2.5 text-white focus:border-emerald-500 outline-none transition-colors",placeholder:": gpt-4o, claude-3-5-sonnet, deepseek-chat"})]})]})]}):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 gap-4",children:[x.jsx(gd,{size:48,className:"opacity-20"}),x.jsx("p",{children:' "+" '})]})})]}),x.jsx("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg text-xs text-yellow-200/70",children:" API Key  (LocalStorage)  Key"})]})}function EV(){const[t,e]=Y.useState(null),[n,r]=Y.useState(null),[i,s]=Y.useState("saved"),o=c=>{e(c),r(Cj(c.id))},a=()=>{t&&n&&_w(t.id,n),e(null),r(null)};return Y.useEffect(()=>{if(!t||!n)return;s("unsaved");const c=setTimeout(()=>{s("saving"),_w(t.id,n),setTimeout(()=>s("saved"),500)},2e3);return()=>clearTimeout(c)},[n]),t?n?x.jsx("div",{className:"flex h-screen w-screen bg-slate-900 text-slate-200 overflow-hidden flex-col md:flex-row",children:x.jsx(MV,{project:t,content:n,setContent:r,onBack:a,saveStatus:i})}):x.jsx("div",{className:"h-screen w-screen bg-slate-900 text-white flex items-center justify-center",children:"..."}):x.jsx(Ej,{onOpenProject:o})}function MV({project:t,content:e,setContent:n,onBack:r,saveStatus:i}){const[s,o]=Y.useState("brainstorm"),a=(g,v)=>{n(S=>S?{...S,brainstorm:{items:g,connections:v}}:null)},c=g=>{n(v=>v?{...v,members:g}:null)},f=g=>{n(v=>v?{...v,todos:g}:null)},d=g=>{n(v=>v?{...v,docs:g}:null)},h=g=>{n(v=>v?{...v,ui:g}:null)},m=()=>{var g,v;switch(s){case"brainstorm":return x.jsx(c3,{initialItems:((g=e.brainstorm)==null?void 0:g.items)||[],initialConnections:((v=e.brainstorm)==null?void 0:v.connections)||[],onDataChange:a},t.id+"-brainstorm");case"team":return x.jsx(d3,{members:e.members||[],todos:e.todos||[],onUpdateMembers:c,onUpdateTodos:f});case"docs":return x.jsx(gV,{initialDocs:e.docs||[],onUpdate:d});case"ui":return x.jsx(kV,{data:e.ui||{pages:[]},onUpdate:h});case"settings":return x.jsx(CV,{});default:return null}};return x.jsxs(x.Fragment,{children:[x.jsxs("aside",{className:"hidden md:flex w-64 shrink-0 flex-col bg-slate-800 border-r border-slate-700 z-50",children:[x.jsxs("div",{className:"h-14 flex items-center px-4 border-b border-slate-700 gap-3",children:[x.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors",children:x.jsx(Gw,{size:20})}),x.jsx("div",{className:"font-bold text-white truncate flex-1",children:t.name})]}),x.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[x.jsx(Sf,{icon:x.jsx(Jw,{size:18}),label:"",isActive:s==="brainstorm",onClick:()=>o("brainstorm")}),x.jsx(Sf,{icon:x.jsx(Zw,{size:18}),label:"",isActive:s==="team",onClick:()=>o("team")}),x.jsx(Sf,{icon:x.jsx($g,{size:18}),label:"",isActive:s==="docs",onClick:()=>o("docs")}),x.jsx(Sf,{icon:x.jsx(md,{size:18}),label:"UI ",isActive:s==="ui",onClick:()=>o("ui")}),x.jsx("div",{className:"h-px bg-slate-700 my-2"}),x.jsxs("button",{onClick:()=>o("settings"),className:`w-full text-left px-4 py-3 rounded-md transition-all flex items-center gap-3 ${s==="settings"?"bg-emerald-600 text-white shadow-md":"hover:bg-slate-700 text-slate-400 hover:text-slate-200"}`,children:[x.jsx(gd,{size:18})," "]})]}),x.jsx("div",{className:"p-4 text-xs border-t border-slate-700 text-center",children:i==="saving"?" ...":" "})]}),x.jsxs("div",{className:"md:hidden h-12 bg-slate-800 border-b border-slate-700 flex items-center px-4 justify-between shrink-0",children:[x.jsx("button",{onClick:r,className:"text-slate-300",children:x.jsx(Gw,{size:24})}),x.jsx("span",{className:"font-bold text-white",children:t.name}),x.jsx("button",{onClick:()=>o("settings"),className:"text-slate-300",children:x.jsx(gd,{size:20})})]}),x.jsx("main",{className:"flex-1 relative overflow-hidden bg-slate-900 pb-16 md:pb-0",children:m()}),x.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 bg-slate-800 border-t border-slate-700 flex justify-around items-center z-[9999]",children:[x.jsx(kf,{icon:x.jsx(Jw,{size:20}),label:"",isActive:s==="brainstorm",onClick:()=>o("brainstorm")}),x.jsx(kf,{icon:x.jsx(Zw,{size:20}),label:"",isActive:s==="team",onClick:()=>o("team")}),x.jsx(kf,{icon:x.jsx($g,{size:20}),label:"",isActive:s==="docs",onClick:()=>o("docs")}),x.jsx(kf,{icon:x.jsx(md,{size:20}),label:"",isActive:s==="ui",onClick:()=>o("ui")})]})]})}function Sf({icon:t,label:e,isActive:n,onClick:r}){return x.jsxs("button",{onClick:r,className:`w-full text-left px-4 py-3 rounded-md transition-all flex items-center gap-3 ${n?"bg-emerald-600 text-white shadow-md":"hover:bg-slate-700 text-slate-400 hover:text-slate-200"}`,children:[t,x.jsx("span",{children:e})]})}function kf({icon:t,label:e,isActive:n,onClick:r}){return x.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center w-full h-full gap-1 ${n?"text-emerald-400":"text-slate-500 hover:text-slate-300"}`,children:[t,x.jsx("span",{className:"text-[10px]",children:e})]})}Hm.createRoot(document.getElementById("root")).render(x.jsx(rn.StrictMode,{children:x.jsx(EV,{})}));window.ipcRenderer.on("main-process-message",(t,e)=>{console.log(e)});
