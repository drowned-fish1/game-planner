(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ck={exports:{}},Yd={},Ek={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),zD=Symbol.for("react.portal"),BD=Symbol.for("react.fragment"),FD=Symbol.for("react.strict_mode"),jD=Symbol.for("react.profiler"),$D=Symbol.for("react.provider"),HD=Symbol.for("react.context"),UD=Symbol.for("react.forward_ref"),VD=Symbol.for("react.suspense"),WD=Symbol.for("react.memo"),KD=Symbol.for("react.lazy"),Ax=Symbol.iterator;function qD(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var Tk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mk=Object.assign,_k={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=_k,this.updater=n||Tk}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nk(){}Nk.prototype=Zl.prototype;function E0(t,e,n){this.props=t,this.context=e,this.refs=_k,this.updater=n||Tk}var T0=E0.prototype=new Nk;T0.constructor=E0;Mk(T0,Zl.prototype);T0.isPureReactComponent=!0;var Px=Array.isArray,Ok=Object.prototype.hasOwnProperty,M0={current:null},Ak={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Ok.call(e,r)&&!Ak.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),f=0;f<a;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zu,type:t,key:o,ref:s,props:i,_owner:M0.current}}function GD(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function XD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dx=/\/+/g;function qp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XD(""+t.key):e.toString(36)}function xf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zu:case zD:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+qp(s,0):r,Px(i)?(n="",t!=null&&(n=t.replace(Dx,"$&/")+"/"),xf(i,e,n,"",function(f){return f})):i!=null&&(_0(i)&&(i=GD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Dx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Px(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+qp(o,a);s+=xf(o,e,n,c,i)}else if(c=qD(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+qp(o,a++),s+=xf(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function jc(t,e,n){if(t==null)return t;var r=[],i=0;return xf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function JD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},wf={transition:null},YD={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:wf,ReactCurrentOwner:M0};function Dk(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:jc,forEach:function(t,e,n){jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jc(t,function(){e++}),e},toArray:function(t){return jc(t,function(e){return e})||[]},only:function(t){if(!_0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Zl;Ae.Fragment=BD;Ae.Profiler=jD;Ae.PureComponent=E0;Ae.StrictMode=FD;Ae.Suspense=VD;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YD;Ae.act=Dk;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=M0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Ok.call(e,c)&&!Ak.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var f=0;f<c;f++)a[f]=arguments[f+2];r.children=a}return{$$typeof:zu,type:t.type,key:i,ref:o,props:r,_owner:s}};Ae.createContext=function(t){return t={$$typeof:HD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$D,_context:t},t.Consumer=t};Ae.createElement=Pk;Ae.createFactory=function(t){var e=Pk.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:UD,render:t}};Ae.isValidElement=_0;Ae.lazy=function(t){return{$$typeof:KD,_payload:{_status:-1,_result:t},_init:JD}};Ae.memo=function(t,e){return{$$typeof:WD,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=wf.transition;wf.transition={};try{t()}finally{wf.transition=e}};Ae.unstable_act=Dk;Ae.useCallback=function(t,e){return _n.current.useCallback(t,e)};Ae.useContext=function(t){return _n.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return _n.current.useEffect(t,e)};Ae.useId=function(){return _n.current.useId()};Ae.useImperativeHandle=function(t,e,n){return _n.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return _n.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return _n.current.useReducer(t,e,n)};Ae.useRef=function(t){return _n.current.useRef(t)};Ae.useState=function(t){return _n.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return _n.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return _n.current.useTransition()};Ae.version="18.3.1";Ek.exports=Ae;var se=Ek.exports;const Ho=Jd(se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD=se,ZD=Symbol.for("react.element"),eR=Symbol.for("react.fragment"),tR=Object.prototype.hasOwnProperty,nR=QD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rR={key:!0,ref:!0,__self:!0,__source:!0};function Rk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)tR.call(e,r)&&!rR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZD,type:t,key:o,ref:s,props:i,_owner:nR.current}}Yd.Fragment=eR;Yd.jsx=Rk;Yd.jsxs=Rk;Ck.exports=Yd;var I=Ck.exports,tg={},Ik={exports:{}},hr={},Lk={exports:{}},zk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,X){var ie=W.length;W.push(X);e:for(;0<ie;){var ke=ie-1>>>1,Ue=W[ke];if(0<i(Ue,X))W[ke]=X,W[ie]=Ue,ie=ke;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],ie=W.pop();if(ie!==X){W[0]=ie;e:for(var ke=0,Ue=W.length,fn=Ue>>>1;ke<fn;){var $t=2*(ke+1)-1,Zt=W[$t],Mt=$t+1,wt=W[Mt];if(0>i(Zt,ie))Mt<Ue&&0>i(wt,Zt)?(W[ke]=wt,W[Mt]=ie,ke=Mt):(W[ke]=Zt,W[$t]=ie,ke=$t);else if(Mt<Ue&&0>i(wt,ie))W[ke]=wt,W[Mt]=ie,ke=Mt;else break e}}return X}function i(W,X){var ie=W.sortIndex-X.sortIndex;return ie!==0?ie:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],f=[],d=1,p=null,m=3,g=!1,x=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(W){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=W)r(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function _(W){if(k=!1,C(W),!x)if(n(c)!==null)x=!0,ve(M);else{var X=n(f);X!==null&&Se(_,X.startTime-W)}}function M(W,X){x=!1,k&&(k=!1,w(D),D=-1),g=!0;var ie=m;try{for(C(X),p=n(c);p!==null&&(!(p.expirationTime>X)||W&&!fe());){var ke=p.callback;if(typeof ke=="function"){p.callback=null,m=p.priorityLevel;var Ue=ke(p.expirationTime<=X);X=t.unstable_now(),typeof Ue=="function"?p.callback=Ue:p===n(c)&&r(c),C(X)}else r(c);p=n(c)}if(p!==null)var fn=!0;else{var $t=n(f);$t!==null&&Se(_,$t.startTime-X),fn=!1}return fn}finally{p=null,m=ie,g=!1}}var A=!1,P=null,D=-1,B=5,U=-1;function fe(){return!(t.unstable_now()-U<B)}function me(){if(P!==null){var W=t.unstable_now();U=W;var X=!0;try{X=P(!0,W)}finally{X?Y():(A=!1,P=null)}}else A=!1}var Y;if(typeof v=="function")Y=function(){v(me)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ee=le.port2;le.port1.onmessage=me,Y=function(){ee.postMessage(null)}}else Y=function(){b(me,0)};function ve(W){P=W,A||(A=!0,Y())}function Se(W,X){D=b(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,ve(M))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(W){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var ie=m;m=X;try{return W()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=m;m=W;try{return X()}finally{m=ie}},t.unstable_scheduleCallback=function(W,X,ie){var ke=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,W){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ie+Ue,W={id:d++,callback:X,priorityLevel:W,startTime:ie,expirationTime:Ue,sortIndex:-1},ie>ke?(W.sortIndex=ie,e(f,W),n(c)===null&&W===n(f)&&(k?(w(D),D=-1):k=!0,Se(_,ie-ke))):(W.sortIndex=Ue,e(c,W),x||g||(x=!0,ve(M))),W},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(W){var X=m;return function(){var ie=m;m=X;try{return W.apply(this,arguments)}finally{m=ie}}}})(zk);Lk.exports=zk;var iR=Lk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=se,dr=iR;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bk=new Set,uu={};function js(t,e){Bl(t,e),Bl(t+"Capture",e)}function Bl(t,e){for(uu[t]=e,t=0;t<e.length;t++)Bk.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ng=Object.prototype.hasOwnProperty,sR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rx={},Ix={};function lR(t){return ng.call(Ix,t)?!0:ng.call(Rx,t)?!1:sR.test(t)?Ix[t]=!0:(Rx[t]=!0,!1)}function aR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uR(t,e,n,r){if(e===null||typeof e>"u"||aR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new Nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new Nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new Nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new Nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new Nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new Nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new Nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new Nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new Nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var N0=/[\-:]([a-z])/g;function O0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(N0,O0);Yt[e]=new Nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(N0,O0);Yt[e]=new Nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(N0,O0);Yt[e]=new Nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new Nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new Nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function A0(t,e,n,r){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uR(e,n,i,r)&&(n=null),r||i===null?lR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ji=oR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),gl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),P0=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),jk=Symbol.for("react.context"),D0=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),$k=Symbol.for("react.offscreen"),Lx=Symbol.iterator;function ka(t){return t===null||typeof t!="object"?null:(t=Lx&&t[Lx]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Gp;function Ra(t){if(Gp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gp=e&&e[1]||""}return`
`+Gp+t}var Xp=!1;function Jp(t,e){if(!t||Xp)return"";Xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{Xp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function cR(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=Jp(t.type,!1),t;case 11:return t=Jp(t.type.render,!1),t;case 1:return t=Jp(t.type,!0),t;default:return""}}function sg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yl:return"Fragment";case gl:return"Portal";case rg:return"Profiler";case P0:return"StrictMode";case ig:return"Suspense";case og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jk:return(t.displayName||"Context")+".Consumer";case Fk:return(t._context.displayName||"Context")+".Provider";case D0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R0:return e=t.displayName||null,e!==null?e:sg(t.type)||"Memo";case mo:e=t._payload,t=t._init;try{return sg(t(e))}catch{}}return null}function fR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sg(e);case 8:return e===P0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Uo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dR(t){var e=Hk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=dR(t))}function Uk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lg(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Uo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vk(t,e){e=e.checked,e!=null&&A0(t,"checked",e,!1)}function ag(t,e){Vk(t,e);var n=Uo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ug(t,e.type,n):e.hasOwnProperty("defaultValue")&&ug(t,e.type,Uo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ug(t,e,n){(e!=="number"||Lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ia=Array.isArray;function Ol(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Uo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ia(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Uo(n)}}function Wk(t,e){var n=Uo(e.value),r=Uo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uc,qk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hR=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){hR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function Gk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function Xk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pR=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dg(t,e){if(e){if(pR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function hg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=null;function I0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mg=null,Al=null,Pl=null;function $x(t){if(t=ju(t)){if(typeof mg!="function")throw Error(G(280));var e=t.stateNode;e&&(e=nh(e),mg(t.stateNode,t.type,e))}}function Jk(t){Al?Pl?Pl.push(t):Pl=[t]:Al=t}function Yk(){if(Al){var t=Al,e=Pl;if(Pl=Al=null,$x(t),e)for(t=0;t<e.length;t++)$x(e[t])}}function Qk(t,e){return t(e)}function Zk(){}var Yp=!1;function eb(t,e,n){if(Yp)return t(e,n);Yp=!0;try{return Qk(t,e,n)}finally{Yp=!1,(Al!==null||Pl!==null)&&(Zk(),Yk())}}function fu(t,e){var n=t.stateNode;if(n===null)return null;var r=nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var gg=!1;if(Ki)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){gg=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{gg=!1}function mR(t,e,n,r,i,o,s,a,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(d){this.onError(d)}}var Wa=!1,zf=null,Bf=!1,yg=null,gR={onError:function(t){Wa=!0,zf=t}};function yR(t,e,n,r,i,o,s,a,c){Wa=!1,zf=null,mR.apply(gR,arguments)}function vR(t,e,n,r,i,o,s,a,c){if(yR.apply(this,arguments),Wa){if(Wa){var f=zf;Wa=!1,zf=null}else throw Error(G(198));Bf||(Bf=!0,yg=f)}}function $s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hx(t){if($s(t)!==t)throw Error(G(188))}function xR(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Hx(i),t;if(o===r)return Hx(i),e;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function nb(t){return t=xR(t),t!==null?rb(t):null}function rb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rb(t);if(e!==null)return e;t=t.sibling}return null}var ib=dr.unstable_scheduleCallback,Ux=dr.unstable_cancelCallback,wR=dr.unstable_shouldYield,SR=dr.unstable_requestPaint,vt=dr.unstable_now,kR=dr.unstable_getCurrentPriorityLevel,L0=dr.unstable_ImmediatePriority,ob=dr.unstable_UserBlockingPriority,Ff=dr.unstable_NormalPriority,bR=dr.unstable_LowPriority,sb=dr.unstable_IdlePriority,Qd=null,yi=null;function CR(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Qd,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:MR,ER=Math.log,TR=Math.LN2;function MR(t){return t>>>=0,t===0?32:31-(ER(t)/TR|0)|0}var Vc=64,Wc=4194304;function La(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=La(a):(o&=s,o!==0&&(r=La(o)))}else s=n&~i,s!==0?r=La(s):o!==0&&(r=La(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ti(e),i=1<<n,r|=t[n],e&=~i;return r}function _R(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ti(o),a=1<<s,c=i[s];c===-1?(!(a&n)||a&r)&&(i[s]=_R(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function vg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lb(){var t=Vc;return Vc<<=1,!(Vc&4194240)&&(Vc=64),t}function Qp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=n}function OR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ti(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function z0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ti(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function ab(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ub,B0,cb,fb,db,xg=!1,Kc=[],No=null,Oo=null,Ao=null,du=new Map,hu=new Map,wo=[],AR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vx(t,e){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function Ca(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ju(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PR(t,e,n,r,i){switch(e){case"focusin":return No=Ca(No,t,e,n,r,i),!0;case"dragenter":return Oo=Ca(Oo,t,e,n,r,i),!0;case"mouseover":return Ao=Ca(Ao,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return du.set(o,Ca(du.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hu.set(o,Ca(hu.get(o)||null,t,e,n,r,i)),!0}return!1}function hb(t){var e=gs(t.target);if(e!==null){var n=$s(e);if(n!==null){if(e=n.tag,e===13){if(e=tb(n),e!==null){t.blockedOn=e,db(t.priority,function(){cb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pg=r,n.target.dispatchEvent(r),pg=null}else return e=ju(n),e!==null&&B0(e),t.blockedOn=n,!1;e.shift()}return!0}function Wx(t,e,n){Sf(t)&&n.delete(e)}function DR(){xg=!1,No!==null&&Sf(No)&&(No=null),Oo!==null&&Sf(Oo)&&(Oo=null),Ao!==null&&Sf(Ao)&&(Ao=null),du.forEach(Wx),hu.forEach(Wx)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,xg||(xg=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,DR)))}function pu(t){function e(i){return Ea(i,t)}if(0<Kc.length){Ea(Kc[0],t);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(No!==null&&Ea(No,t),Oo!==null&&Ea(Oo,t),Ao!==null&&Ea(Ao,t),du.forEach(e),hu.forEach(e),n=0;n<wo.length;n++)r=wo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wo.length&&(n=wo[0],n.blockedOn===null);)hb(n),n.blockedOn===null&&wo.shift()}var Dl=Ji.ReactCurrentBatchConfig,$f=!0;function RR(t,e,n,r){var i=He,o=Dl.transition;Dl.transition=null;try{He=1,F0(t,e,n,r)}finally{He=i,Dl.transition=o}}function IR(t,e,n,r){var i=He,o=Dl.transition;Dl.transition=null;try{He=4,F0(t,e,n,r)}finally{He=i,Dl.transition=o}}function F0(t,e,n,r){if($f){var i=wg(t,e,n,r);if(i===null)am(t,e,r,Hf,n),Vx(t,r);else if(PR(i,t,e,n,r))r.stopPropagation();else if(Vx(t,r),e&4&&-1<AR.indexOf(t)){for(;i!==null;){var o=ju(i);if(o!==null&&ub(o),o=wg(t,e,n,r),o===null&&am(t,e,r,Hf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else am(t,e,r,null,n)}}var Hf=null;function wg(t,e,n,r){if(Hf=null,t=I0(r),t=gs(t),t!==null)if(e=$s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hf=t,null}function pb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kR()){case L0:return 1;case ob:return 4;case Ff:case bR:return 16;case sb:return 536870912;default:return 16}default:return 16}}var Co=null,j0=null,kf=null;function mb(){if(kf)return kf;var t,e=j0,n=e.length,r,i="value"in Co?Co.value:Co.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return kf=i.slice(t,1<r?1-r:void 0)}function bf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qc(){return!0}function Kx(){return!1}function pr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qc:Kx,this.isPropagationStopped=Kx,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),e}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=pr(ea),Fu=ot({},ea,{view:0,detail:0}),LR=pr(Fu),Zp,em,Ta,Zd=ot({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ta&&(Ta&&t.type==="mousemove"?(Zp=t.screenX-Ta.screenX,em=t.screenY-Ta.screenY):em=Zp=0,Ta=t),Zp)},movementY:function(t){return"movementY"in t?t.movementY:em}}),qx=pr(Zd),zR=ot({},Zd,{dataTransfer:0}),BR=pr(zR),FR=ot({},Fu,{relatedTarget:0}),tm=pr(FR),jR=ot({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),$R=pr(jR),HR=ot({},ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UR=pr(HR),VR=ot({},ea,{data:0}),Gx=pr(VR),WR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qR[t])?!!e[t]:!1}function H0(){return GR}var XR=ot({},Fu,{key:function(t){if(t.key){var e=WR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H0,charCode:function(t){return t.type==="keypress"?bf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JR=pr(XR),YR=ot({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=pr(YR),QR=ot({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H0}),ZR=pr(QR),eI=ot({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=pr(eI),nI=ot({},Zd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rI=pr(nI),iI=[9,13,27,32],U0=Ki&&"CompositionEvent"in window,Ka=null;Ki&&"documentMode"in document&&(Ka=document.documentMode);var oI=Ki&&"TextEvent"in window&&!Ka,gb=Ki&&(!U0||Ka&&8<Ka&&11>=Ka),Jx=" ",Yx=!1;function yb(t,e){switch(t){case"keyup":return iI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vl=!1;function sI(t,e){switch(t){case"compositionend":return vb(e);case"keypress":return e.which!==32?null:(Yx=!0,Jx);case"textInput":return t=e.data,t===Jx&&Yx?null:t;default:return null}}function lI(t,e){if(vl)return t==="compositionend"||!U0&&yb(t,e)?(t=mb(),kf=j0=Co=null,vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gb&&e.locale!=="ko"?null:e.data;default:return null}}var aI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aI[t.type]:e==="textarea"}function xb(t,e,n,r){Jk(r),e=Uf(e,"onChange"),0<e.length&&(n=new $0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,mu=null;function uI(t){Ob(t,0)}function eh(t){var e=Sl(t);if(Uk(e))return t}function cI(t,e){if(t==="change")return e}var wb=!1;if(Ki){var nm;if(Ki){var rm="oninput"in document;if(!rm){var Zx=document.createElement("div");Zx.setAttribute("oninput","return;"),rm=typeof Zx.oninput=="function"}nm=rm}else nm=!1;wb=nm&&(!document.documentMode||9<document.documentMode)}function ew(){qa&&(qa.detachEvent("onpropertychange",Sb),mu=qa=null)}function Sb(t){if(t.propertyName==="value"&&eh(mu)){var e=[];xb(e,mu,t,I0(t)),eb(uI,e)}}function fI(t,e,n){t==="focusin"?(ew(),qa=e,mu=n,qa.attachEvent("onpropertychange",Sb)):t==="focusout"&&ew()}function dI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eh(mu)}function hI(t,e){if(t==="click")return eh(e)}function pI(t,e){if(t==="input"||t==="change")return eh(e)}function mI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ii=typeof Object.is=="function"?Object.is:mI;function gu(t,e){if(ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ng.call(e,i)||!ii(t[i],e[i]))return!1}return!0}function tw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nw(t,e){var n=tw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tw(n)}}function kb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bb(){for(var t=window,e=Lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lf(t.document)}return e}function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gI(t){var e=bb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kb(n.ownerDocument.documentElement,n)){if(r!==null&&V0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=nw(n,o);var s=nw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yI=Ki&&"documentMode"in document&&11>=document.documentMode,xl=null,Sg=null,Ga=null,kg=!1;function rw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kg||xl==null||xl!==Lf(r)||(r=xl,"selectionStart"in r&&V0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&gu(Ga,r)||(Ga=r,r=Uf(Sg,"onSelect"),0<r.length&&(e=new $0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xl)))}function Gc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wl={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},im={},Cb={};Ki&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete wl.animationend.animation,delete wl.animationiteration.animation,delete wl.animationstart.animation),"TransitionEvent"in window||delete wl.transitionend.transition);function th(t){if(im[t])return im[t];if(!wl[t])return t;var e=wl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cb)return im[t]=e[n];return t}var Eb=th("animationend"),Tb=th("animationiteration"),Mb=th("animationstart"),_b=th("transitionend"),Nb=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){Nb.set(t,e),js(e,[t])}for(var om=0;om<iw.length;om++){var sm=iw[om],vI=sm.toLowerCase(),xI=sm[0].toUpperCase()+sm.slice(1);qo(vI,"on"+xI)}qo(Eb,"onAnimationEnd");qo(Tb,"onAnimationIteration");qo(Mb,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(_b,"onTransitionEnd");Bl("onMouseEnter",["mouseout","mouseover"]);Bl("onMouseLeave",["mouseout","mouseover"]);Bl("onPointerEnter",["pointerout","pointerover"]);Bl("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wI=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vR(r,e,void 0,t),t.currentTarget=null}function Ob(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,f=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;ow(i,a,f),o=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,f=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;ow(i,a,f),o=c}}}if(Bf)throw t=yg,Bf=!1,yg=null,t}function Xe(t,e){var n=e[Mg];n===void 0&&(n=e[Mg]=new Set);var r=t+"__bubble";n.has(r)||(Ab(e,t,2,!1),n.add(r))}function lm(t,e,n){var r=0;e&&(r|=4),Ab(n,t,r,e)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function yu(t){if(!t[Xc]){t[Xc]=!0,Bk.forEach(function(n){n!=="selectionchange"&&(wI.has(n)||lm(n,!1,t),lm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xc]||(e[Xc]=!0,lm("selectionchange",!1,e))}}function Ab(t,e,n,r){switch(pb(e)){case 1:var i=RR;break;case 4:i=IR;break;default:i=F0}n=i.bind(null,e,n,t),i=void 0,!gg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function am(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=gs(a),s===null)return;if(c=s.tag,c===5||c===6){r=o=s;continue e}a=a.parentNode}}r=r.return}eb(function(){var f=o,d=I0(n),p=[];e:{var m=Nb.get(t);if(m!==void 0){var g=$0,x=t;switch(t){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":g=JR;break;case"focusin":x="focus",g=tm;break;case"focusout":x="blur",g=tm;break;case"beforeblur":case"afterblur":g=tm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=BR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ZR;break;case Eb:case Tb:case Mb:g=$R;break;case _b:g=tI;break;case"scroll":g=LR;break;case"wheel":g=rI;break;case"copy":case"cut":case"paste":g=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xx}var k=(e&4)!==0,b=!k&&t==="scroll",w=k?m!==null?m+"Capture":null:m;k=[];for(var v=f,C;v!==null;){C=v;var _=C.stateNode;if(C.tag===5&&_!==null&&(C=_,w!==null&&(_=fu(v,w),_!=null&&k.push(vu(v,_,C)))),b)break;v=v.return}0<k.length&&(m=new g(m,x,null,n,d),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==pg&&(x=n.relatedTarget||n.fromElement)&&(gs(x)||x[qi]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=f,x=x?gs(x):null,x!==null&&(b=$s(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=f),g!==x)){if(k=qx,_="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(k=Xx,_="onPointerLeave",w="onPointerEnter",v="pointer"),b=g==null?m:Sl(g),C=x==null?m:Sl(x),m=new k(_,v+"leave",g,n,d),m.target=b,m.relatedTarget=C,_=null,gs(d)===f&&(k=new k(w,v+"enter",x,n,d),k.target=C,k.relatedTarget=b,_=k),b=_,g&&x)t:{for(k=g,w=x,v=0,C=k;C;C=al(C))v++;for(C=0,_=w;_;_=al(_))C++;for(;0<v-C;)k=al(k),v--;for(;0<C-v;)w=al(w),C--;for(;v--;){if(k===w||w!==null&&k===w.alternate)break t;k=al(k),w=al(w)}k=null}else k=null;g!==null&&sw(p,m,g,k,!1),x!==null&&b!==null&&sw(p,b,x,k,!0)}}e:{if(m=f?Sl(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var M=cI;else if(Qx(m))if(wb)M=pI;else{M=dI;var A=fI}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=hI);if(M&&(M=M(t,f))){xb(p,M,n,d);break e}A&&A(t,m,f),t==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&ug(m,"number",m.value)}switch(A=f?Sl(f):window,t){case"focusin":(Qx(A)||A.contentEditable==="true")&&(xl=A,Sg=f,Ga=null);break;case"focusout":Ga=Sg=xl=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,rw(p,n,d);break;case"selectionchange":if(yI)break;case"keydown":case"keyup":rw(p,n,d)}var P;if(U0)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else vl?yb(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(gb&&n.locale!=="ko"&&(vl||D!=="onCompositionStart"?D==="onCompositionEnd"&&vl&&(P=mb()):(Co=d,j0="value"in Co?Co.value:Co.textContent,vl=!0)),A=Uf(f,D),0<A.length&&(D=new Gx(D,t,null,n,d),p.push({event:D,listeners:A}),P?D.data=P:(P=vb(n),P!==null&&(D.data=P)))),(P=oI?sI(t,n):lI(t,n))&&(f=Uf(f,"onBeforeInput"),0<f.length&&(d=new Gx("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:f}),d.data=P))}Ob(p,e)})}function vu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fu(t,n),o!=null&&r.unshift(vu(t,o,i)),o=fu(t,e),o!=null&&r.push(vu(t,o,i))),t=t.return}return r}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,f=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&f!==null&&(a=f,i?(c=fu(n,o),c!=null&&s.unshift(vu(n,c,a))):i||(c=fu(n,o),c!=null&&s.push(vu(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var SI=/\r\n?/g,kI=/\u0000|\uFFFD/g;function lw(t){return(typeof t=="string"?t:""+t).replace(SI,`
`).replace(kI,"")}function Jc(t,e,n){if(e=lw(e),lw(t)!==e&&n)throw Error(G(425))}function Vf(){}var bg=null,Cg=null;function Eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tg=typeof setTimeout=="function"?setTimeout:void 0,bI=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(t){return aw.resolve(null).then(t).catch(EI)}:Tg;function EI(t){setTimeout(function(){throw t})}function um(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pu(e)}function Po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),gi="__reactFiber$"+ta,xu="__reactProps$"+ta,qi="__reactContainer$"+ta,Mg="__reactEvents$"+ta,TI="__reactListeners$"+ta,MI="__reactHandles$"+ta;function gs(t){var e=t[gi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qi]||n[gi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uw(t);t!==null;){if(n=t[gi])return n;t=uw(t)}return e}t=n,n=t.parentNode}return null}function ju(t){return t=t[gi]||t[qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function nh(t){return t[xu]||null}var _g=[],kl=-1;function Go(t){return{current:t}}function Ye(t){0>kl||(t.current=_g[kl],_g[kl]=null,kl--)}function qe(t,e){kl++,_g[kl]=t.current,t.current=e}var Vo={},un=Go(Vo),Vn=Go(!1),Os=Vo;function Fl(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wn(t){return t=t.childContextTypes,t!=null}function Wf(){Ye(Vn),Ye(un)}function cw(t,e,n){if(un.current!==Vo)throw Error(G(168));qe(un,e),qe(Vn,n)}function Pb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,fR(t)||"Unknown",i));return ot({},n,r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,Os=un.current,qe(un,t),qe(Vn,Vn.current),!0}function fw(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=Pb(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,Ye(Vn),Ye(un),qe(un,t)):Ye(Vn),qe(Vn,n)}var Fi=null,rh=!1,cm=!1;function Db(t){Fi===null?Fi=[t]:Fi.push(t)}function _I(t){rh=!0,Db(t)}function Xo(){if(!cm&&Fi!==null){cm=!0;var t=0,e=He;try{var n=Fi;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fi=null,rh=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(t+1)),ib(L0,Xo),i}finally{He=e,cm=!1}}return null}var bl=[],Cl=0,qf=null,Gf=0,Pr=[],Dr=0,As=null,ji=1,$i="";function hs(t,e){bl[Cl++]=Gf,bl[Cl++]=qf,qf=t,Gf=e}function Rb(t,e,n){Pr[Dr++]=ji,Pr[Dr++]=$i,Pr[Dr++]=As,As=t;var r=ji;t=$i;var i=32-ti(r)-1;r&=~(1<<i),n+=1;var o=32-ti(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ji=1<<32-ti(e)+i|n<<i|r,$i=o+t}else ji=1<<o|n<<i|r,$i=t}function W0(t){t.return!==null&&(hs(t,1),Rb(t,1,0))}function K0(t){for(;t===qf;)qf=bl[--Cl],bl[Cl]=null,Gf=bl[--Cl],bl[Cl]=null;for(;t===As;)As=Pr[--Dr],Pr[Dr]=null,$i=Pr[--Dr],Pr[Dr]=null,ji=Pr[--Dr],Pr[Dr]=null}var ur=null,ar=null,Ze=!1,Qr=null;function Ib(t,e){var n=Ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,ar=Po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:ji,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,ar=null,!0):!1;default:return!1}}function Ng(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Og(t){if(Ze){var e=ar;if(e){var n=e;if(!dw(t,e)){if(Ng(t))throw Error(G(418));e=Po(n.nextSibling);var r=ur;e&&dw(t,e)?Ib(r,n):(t.flags=t.flags&-4097|2,Ze=!1,ur=t)}}else{if(Ng(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ze=!1,ur=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function Yc(t){if(t!==ur)return!1;if(!Ze)return hw(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eg(t.type,t.memoizedProps)),e&&(e=ar)){if(Ng(t))throw Lb(),Error(G(418));for(;e;)Ib(t,e),e=Po(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=Po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=ur?Po(t.stateNode.nextSibling):null;return!0}function Lb(){for(var t=ar;t;)t=Po(t.nextSibling)}function jl(){ar=ur=null,Ze=!1}function q0(t){Qr===null?Qr=[t]:Qr.push(t)}var NI=Ji.ReactCurrentBatchConfig;function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Qc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pw(t){var e=t._init;return e(t._payload)}function zb(t){function e(w,v){if(t){var C=w.deletions;C===null?(w.deletions=[v],w.flags|=16):C.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Lo(w,v),w.index=0,w.sibling=null,w}function o(w,v,C){return w.index=C,t?(C=w.alternate,C!==null?(C=C.index,C<v?(w.flags|=2,v):C):(w.flags|=2,v)):(w.flags|=1048576,v)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,C,_){return v===null||v.tag!==6?(v=ym(C,w.mode,_),v.return=w,v):(v=i(v,C),v.return=w,v)}function c(w,v,C,_){var M=C.type;return M===yl?d(w,v,C.props.children,_,C.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mo&&pw(M)===v.type)?(_=i(v,C.props),_.ref=Ma(w,v,C),_.return=w,_):(_=Of(C.type,C.key,C.props,null,w.mode,_),_.ref=Ma(w,v,C),_.return=w,_)}function f(w,v,C,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=vm(C,w.mode,_),v.return=w,v):(v=i(v,C.children||[]),v.return=w,v)}function d(w,v,C,_,M){return v===null||v.tag!==7?(v=Cs(C,w.mode,_,M),v.return=w,v):(v=i(v,C),v.return=w,v)}function p(w,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ym(""+v,w.mode,C),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $c:return C=Of(v.type,v.key,v.props,null,w.mode,C),C.ref=Ma(w,null,v),C.return=w,C;case gl:return v=vm(v,w.mode,C),v.return=w,v;case mo:var _=v._init;return p(w,_(v._payload),C)}if(Ia(v)||ka(v))return v=Cs(v,w.mode,C,null),v.return=w,v;Qc(w,v)}return null}function m(w,v,C,_){var M=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:a(w,v,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $c:return C.key===M?c(w,v,C,_):null;case gl:return C.key===M?f(w,v,C,_):null;case mo:return M=C._init,m(w,v,M(C._payload),_)}if(Ia(C)||ka(C))return M!==null?null:d(w,v,C,_,null);Qc(w,C)}return null}function g(w,v,C,_,M){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(C)||null,a(v,w,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $c:return w=w.get(_.key===null?C:_.key)||null,c(v,w,_,M);case gl:return w=w.get(_.key===null?C:_.key)||null,f(v,w,_,M);case mo:var A=_._init;return g(w,v,C,A(_._payload),M)}if(Ia(_)||ka(_))return w=w.get(C)||null,d(v,w,_,M,null);Qc(v,_)}return null}function x(w,v,C,_){for(var M=null,A=null,P=v,D=v=0,B=null;P!==null&&D<C.length;D++){P.index>D?(B=P,P=null):B=P.sibling;var U=m(w,P,C[D],_);if(U===null){P===null&&(P=B);break}t&&P&&U.alternate===null&&e(w,P),v=o(U,v,D),A===null?M=U:A.sibling=U,A=U,P=B}if(D===C.length)return n(w,P),Ze&&hs(w,D),M;if(P===null){for(;D<C.length;D++)P=p(w,C[D],_),P!==null&&(v=o(P,v,D),A===null?M=P:A.sibling=P,A=P);return Ze&&hs(w,D),M}for(P=r(w,P);D<C.length;D++)B=g(P,w,D,C[D],_),B!==null&&(t&&B.alternate!==null&&P.delete(B.key===null?D:B.key),v=o(B,v,D),A===null?M=B:A.sibling=B,A=B);return t&&P.forEach(function(fe){return e(w,fe)}),Ze&&hs(w,D),M}function k(w,v,C,_){var M=ka(C);if(typeof M!="function")throw Error(G(150));if(C=M.call(C),C==null)throw Error(G(151));for(var A=M=null,P=v,D=v=0,B=null,U=C.next();P!==null&&!U.done;D++,U=C.next()){P.index>D?(B=P,P=null):B=P.sibling;var fe=m(w,P,U.value,_);if(fe===null){P===null&&(P=B);break}t&&P&&fe.alternate===null&&e(w,P),v=o(fe,v,D),A===null?M=fe:A.sibling=fe,A=fe,P=B}if(U.done)return n(w,P),Ze&&hs(w,D),M;if(P===null){for(;!U.done;D++,U=C.next())U=p(w,U.value,_),U!==null&&(v=o(U,v,D),A===null?M=U:A.sibling=U,A=U);return Ze&&hs(w,D),M}for(P=r(w,P);!U.done;D++,U=C.next())U=g(P,w,D,U.value,_),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?D:U.key),v=o(U,v,D),A===null?M=U:A.sibling=U,A=U);return t&&P.forEach(function(me){return e(w,me)}),Ze&&hs(w,D),M}function b(w,v,C,_){if(typeof C=="object"&&C!==null&&C.type===yl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case $c:e:{for(var M=C.key,A=v;A!==null;){if(A.key===M){if(M=C.type,M===yl){if(A.tag===7){n(w,A.sibling),v=i(A,C.props.children),v.return=w,w=v;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mo&&pw(M)===A.type){n(w,A.sibling),v=i(A,C.props),v.ref=Ma(w,A,C),v.return=w,w=v;break e}n(w,A);break}else e(w,A);A=A.sibling}C.type===yl?(v=Cs(C.props.children,w.mode,_,C.key),v.return=w,w=v):(_=Of(C.type,C.key,C.props,null,w.mode,_),_.ref=Ma(w,v,C),_.return=w,w=_)}return s(w);case gl:e:{for(A=C.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){n(w,v.sibling),v=i(v,C.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=vm(C,w.mode,_),v.return=w,w=v}return s(w);case mo:return A=C._init,b(w,v,A(C._payload),_)}if(Ia(C))return x(w,v,C,_);if(ka(C))return k(w,v,C,_);Qc(w,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,C),v.return=w,w=v):(n(w,v),v=ym(C,w.mode,_),v.return=w,w=v),s(w)):n(w,v)}return b}var $l=zb(!0),Bb=zb(!1),Xf=Go(null),Jf=null,El=null,G0=null;function X0(){G0=El=Jf=null}function J0(t){var e=Xf.current;Ye(Xf),t._currentValue=e}function Ag(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rl(t,e){Jf=t,G0=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(G0!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(Jf===null)throw Error(G(308));El=t,Jf.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var ys=null;function Y0(t){ys===null?ys=[t]:ys.push(t)}function Fb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Y0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gi(t,r)}function Gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var go=!1;function Q0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Y0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gi(t,n)}function Cf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,z0(t,n)}}function mw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yf(t,e,n,r){var i=t.updateQueue;go=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,f=c.next;c.next=null,s===null?o=f:s.next=f,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=c))}if(o!==null){var p=i.baseState;s=0,d=f=c=null,a=o;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,k=a;switch(m=e,g=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){p=x.call(g,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,m=typeof x=="function"?x.call(g,p,m):x,m==null)break e;p=ot({},p,m);break e;case 2:go=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=g,c=p):d=d.next=g,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ds|=s,t.lanes=s,t.memoizedState=p}}function gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var $u={},vi=Go($u),wu=Go($u),Su=Go($u);function vs(t){if(t===$u)throw Error(G(174));return t}function Z0(t,e){switch(qe(Su,e),qe(wu,t),qe(vi,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fg(e,t)}Ye(vi),qe(vi,e)}function Hl(){Ye(vi),Ye(wu),Ye(Su)}function $b(t){vs(Su.current);var e=vs(vi.current),n=fg(e,t.type);e!==n&&(qe(wu,t),qe(vi,n))}function ey(t){wu.current===t&&(Ye(vi),Ye(wu))}var nt=Go(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fm=[];function ty(){for(var t=0;t<fm.length;t++)fm[t]._workInProgressVersionPrimary=null;fm.length=0}var Ef=Ji.ReactCurrentDispatcher,dm=Ji.ReactCurrentBatchConfig,Ps=0,it=null,Ot=null,It=null,Zf=!1,Xa=!1,ku=0,OI=0;function rn(){throw Error(G(321))}function ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ii(t[n],e[n]))return!1;return!0}function ry(t,e,n,r,i,o){if(Ps=o,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ef.current=t===null||t.memoizedState===null?RI:II,t=n(r,i),Xa){o=0;do{if(Xa=!1,ku=0,25<=o)throw Error(G(301));o+=1,It=Ot=null,e.updateQueue=null,Ef.current=LI,t=n(r,i)}while(Xa)}if(Ef.current=ed,e=Ot!==null&&Ot.next!==null,Ps=0,It=Ot=it=null,Zf=!1,e)throw Error(G(300));return t}function iy(){var t=ku!==0;return ku=0,t}function di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?it.memoizedState=It=t:It=It.next=t,It}function jr(){if(Ot===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=It===null?it.memoizedState:It.next;if(e!==null)It=e,Ot=t;else{if(t===null)throw Error(G(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},It===null?it.memoizedState=It=t:It=It.next=t}return It}function bu(t,e){return typeof e=="function"?e(t):e}function hm(t){var e=jr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,c=null,f=o;do{var d=f.lane;if((Ps&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var p={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(a=c=p,s=r):c=c.next=p,it.lanes|=d,Ds|=d}f=f.next}while(f!==null&&f!==o);c===null?s=r:c.next=a,ii(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,it.lanes|=o,Ds|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pm(t){var e=jr(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ii(o,e.memoizedState)||(Un=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Hb(){}function Ub(t,e){var n=it,r=jr(),i=e(),o=!ii(r.memoizedState,i);if(o&&(r.memoizedState=i,Un=!0),r=r.queue,oy(Kb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Cu(9,Wb.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(G(349));Ps&30||Vb(n,e,i)}return i}function Vb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wb(t,e,n,r){e.value=n,e.getSnapshot=r,qb(e)&&Gb(t)}function Kb(t,e,n){return n(function(){qb(e)&&Gb(t)})}function qb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ii(t,n)}catch{return!0}}function Gb(t){var e=Gi(t,1);e!==null&&ni(e,t,1,-1)}function yw(t){var e=di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:t},e.queue=t,t=t.dispatch=DI.bind(null,it,t),[e.memoizedState,t]}function Cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xb(){return jr().memoizedState}function Tf(t,e,n,r){var i=di();it.flags|=t,i.memoizedState=Cu(1|e,n,void 0,r===void 0?null:r)}function ih(t,e,n,r){var i=jr();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var s=Ot.memoizedState;if(o=s.destroy,r!==null&&ny(r,s.deps)){i.memoizedState=Cu(e,n,o,r);return}}it.flags|=t,i.memoizedState=Cu(1|e,n,o,r)}function vw(t,e){return Tf(8390656,8,t,e)}function oy(t,e){return ih(2048,8,t,e)}function Jb(t,e){return ih(4,2,t,e)}function Yb(t,e){return ih(4,4,t,e)}function Qb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zb(t,e,n){return n=n!=null?n.concat([t]):null,ih(4,4,Qb.bind(null,e,t),n)}function sy(){}function eC(t,e){var n=jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tC(t,e){var n=jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nC(t,e,n){return Ps&21?(ii(n,e)||(n=lb(),it.lanes|=n,Ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function AI(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=dm.transition;dm.transition={};try{t(!1),e()}finally{He=n,dm.transition=r}}function rC(){return jr().memoizedState}function PI(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iC(t))oC(e,n);else if(n=Fb(t,e,n,r),n!==null){var i=En();ni(n,t,r,i),sC(n,e,r)}}function DI(t,e,n){var r=Io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iC(t))oC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ii(a,s)){var c=e.interleaved;c===null?(i.next=i,Y0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Fb(t,e,i,r),n!==null&&(i=En(),ni(n,t,r,i),sC(n,e,r))}}function iC(t){var e=t.alternate;return t===it||e!==null&&e===it}function oC(t,e){Xa=Zf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,z0(t,n)}}var ed={readContext:Fr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},RI={readContext:Fr,useCallback:function(t,e){return di().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:vw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4194308,4,Qb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tf(4,2,t,e)},useMemo:function(t,e){var n=di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PI.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=di();return t={current:t},e.memoizedState=t},useState:yw,useDebugValue:sy,useDeferredValue:function(t){return di().memoizedState=t},useTransition:function(){var t=yw(!1),e=t[0];return t=AI.bind(null,t[1]),di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=di();if(Ze){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Bt===null)throw Error(G(349));Ps&30||Vb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,vw(Kb.bind(null,r,o,t),[t]),r.flags|=2048,Cu(9,Wb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=di(),e=Bt.identifierPrefix;if(Ze){var n=$i,r=ji;n=(r&~(1<<32-ti(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},II={readContext:Fr,useCallback:eC,useContext:Fr,useEffect:oy,useImperativeHandle:Zb,useInsertionEffect:Jb,useLayoutEffect:Yb,useMemo:tC,useReducer:hm,useRef:Xb,useState:function(){return hm(bu)},useDebugValue:sy,useDeferredValue:function(t){var e=jr();return nC(e,Ot.memoizedState,t)},useTransition:function(){var t=hm(bu)[0],e=jr().memoizedState;return[t,e]},useMutableSource:Hb,useSyncExternalStore:Ub,useId:rC,unstable_isNewReconciler:!1},LI={readContext:Fr,useCallback:eC,useContext:Fr,useEffect:oy,useImperativeHandle:Zb,useInsertionEffect:Jb,useLayoutEffect:Yb,useMemo:tC,useReducer:pm,useRef:Xb,useState:function(){return pm(bu)},useDebugValue:sy,useDeferredValue:function(t){var e=jr();return Ot===null?e.memoizedState=t:nC(e,Ot.memoizedState,t)},useTransition:function(){var t=pm(bu)[0],e=jr().memoizedState;return[t,e]},useMutableSource:Hb,useSyncExternalStore:Ub,useId:rC,unstable_isNewReconciler:!1};function Jr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oh={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=Io(t),o=Ui(r,i);o.payload=e,n!=null&&(o.callback=n),e=Do(t,o,i),e!==null&&(ni(e,t,i,r),Cf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=Io(t),o=Ui(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Do(t,o,i),e!==null&&(ni(e,t,i,r),Cf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=Io(t),i=Ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=Do(t,i,r),e!==null&&(ni(e,t,r,n),Cf(e,t,r))}};function xw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!gu(n,r)||!gu(i,o):!0}function lC(t,e,n){var r=!1,i=Vo,o=e.contextType;return typeof o=="object"&&o!==null?o=Fr(o):(i=Wn(e)?Os:un.current,r=e.contextTypes,o=(r=r!=null)?Fl(t,i):Vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ww(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oh.enqueueReplaceState(e,e.state,null)}function Dg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Q0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Fr(o):(o=Wn(e)?Os:un.current,i.context=Fl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Pg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oh.enqueueReplaceState(i,i.state,null),Yf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ul(t,e){try{var n="",r=e;do n+=cR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function mm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zI=typeof WeakMap=="function"?WeakMap:Map;function aC(t,e,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nd||(nd=!0,Vg=r),Rg(t,e)},n}function uC(t,e,n){n=Ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Rg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rg(t,e),typeof r!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Sw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YI.bind(null,t,e,n),e.then(t,t))}function kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ui(-1,1),e.tag=2,Do(n,e,1))),n.lanes|=1),t)}var BI=Ji.ReactCurrentOwner,Un=!1;function bn(t,e,n,r){e.child=t===null?Bb(e,null,n,r):$l(e,t.child,n,r)}function Cw(t,e,n,r,i){n=n.render;var o=e.ref;return Rl(e,i),r=ry(t,e,n,r,o,i),n=iy(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(Ze&&n&&W0(e),e.flags|=1,bn(t,e,r,i),e.child)}function Ew(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!py(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,cC(t,e,o,r,i)):(t=Of(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:gu,n(s,r)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=Lo(o,r),t.ref=e.ref,t.return=e,e.child=t}function cC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(gu(o,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return Ig(t,e,n,r,i)}function fC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ml,sr),sr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Ml,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(Ml,sr),sr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(Ml,sr),sr|=r;return bn(t,e,i,n),e.child}function dC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ig(t,e,n,r,i){var o=Wn(n)?Os:un.current;return o=Fl(e,o),Rl(e,i),n=ry(t,e,n,r,o,i),r=iy(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(Ze&&r&&W0(e),e.flags|=1,bn(t,e,n,i),e.child)}function Tw(t,e,n,r,i){if(Wn(n)){var o=!0;Kf(e)}else o=!1;if(Rl(e,i),e.stateNode===null)Mf(t,e),lC(e,n,r),Dg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=Fr(f):(f=Wn(n)?Os:un.current,f=Fl(e,f));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==f)&&ww(e,s,r,f),go=!1;var m=e.memoizedState;s.state=m,Yf(e,r,s,i),c=e.memoizedState,a!==r||m!==c||Vn.current||go?(typeof d=="function"&&(Pg(e,n,d,r),c=e.memoizedState),(a=go||xw(e,n,a,r,m,c,f))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=f,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,jb(t,e),a=e.memoizedProps,f=e.type===e.elementType?a:Jr(e.type,a),s.props=f,p=e.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fr(c):(c=Wn(n)?Os:un.current,c=Fl(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==c)&&ww(e,s,r,c),go=!1,m=e.memoizedState,s.state=m,Yf(e,r,s,i);var x=e.memoizedState;a!==p||m!==x||Vn.current||go?(typeof g=="function"&&(Pg(e,n,g,r),x=e.memoizedState),(f=go||xw(e,n,f,r,m,x,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Lg(t,e,n,r,o,i)}function Lg(t,e,n,r,i,o){dC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&fw(e,n,!1),Xi(t,e,o);r=e.stateNode,BI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$l(e,t.child,null,o),e.child=$l(e,null,a,o)):bn(t,e,a,o),e.memoizedState=r.state,i&&fw(e,n,!0),e.child}function hC(t){var e=t.stateNode;e.pendingContext?cw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cw(t,e.context,!1),Z0(t,e.containerInfo)}function Mw(t,e,n,r,i){return jl(),q0(i),e.flags|=256,bn(t,e,n,r),e.child}var zg={dehydrated:null,treeContext:null,retryLane:0};function Bg(t){return{baseLanes:t,cachePool:null,transitions:null}}function pC(t,e,n){var r=e.pendingProps,i=nt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(nt,i&1),t===null)return Og(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ah(s,r,0,null),t=Cs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bg(n),e.memoizedState=zg,t):ly(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FI(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Lo(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Lo(a,o):(o=Cs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Bg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=zg,r}return o=t.child,t=o.sibling,r=Lo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ly(t,e){return e=ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zc(t,e,n,r){return r!==null&&q0(r),$l(e,t.child,null,n),t=ly(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=mm(Error(G(422))),Zc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ah({mode:"visible",children:r.children},i,0,null),o=Cs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$l(e,t.child,null,s),e.child.memoizedState=Bg(s),e.memoizedState=zg,o);if(!(e.mode&1))return Zc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(G(419)),r=mm(o,r,void 0),Zc(t,e,s,r)}if(a=(s&t.childLanes)!==0,Un||a){if(r=Bt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gi(t,i),ni(r,t,i,-1))}return hy(),r=mm(Error(G(421))),Zc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ar=Po(i.nextSibling),ur=e,Ze=!0,Qr=null,t!==null&&(Pr[Dr++]=ji,Pr[Dr++]=$i,Pr[Dr++]=As,ji=t.id,$i=t.overflow,As=e),e=ly(e,r.children),e.flags|=4096,e)}function _w(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ag(t.return,e,n)}function gm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function mC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(bn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_w(t,n,e);else if(t.tag===19)_w(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gm(e,!0,n,null,o);break;case"together":gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Lo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jI(t,e,n){switch(e.tag){case 3:hC(e),jl();break;case 5:$b(e);break;case 1:Wn(e.type)&&Kf(e);break;case 4:Z0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Xf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?pC(t,e,n):(qe(nt,nt.current&1),t=Xi(t,e,n),t!==null?t.sibling:null);qe(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,fC(t,e,n)}return Xi(t,e,n)}var gC,Fg,yC,vC;gC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fg=function(){};yC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vs(vi.current);var o=null;switch(n){case"input":i=lg(t,i),r=lg(t,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=cg(t,i),r=cg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vf)}dg(n,r);var s;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(uu.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(a=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==a&&(c!=null||a!=null))if(f==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(uu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Xe("scroll",t),o||a===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};vC=function(t,e,n,r){n!==r&&(e.flags|=4)};function _a(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $I(t,e,n){var r=e.pendingProps;switch(K0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Wn(e.type)&&Wf(),on(e),null;case 3:return r=e.stateNode,Hl(),Ye(Vn),Ye(un),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qr!==null&&(qg(Qr),Qr=null))),Fg(t,e),on(e),null;case 5:ey(e);var i=vs(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)yC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return on(e),null}if(t=vs(vi.current),Yc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[gi]=e,r[xu]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<za.length;i++)Xe(za[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":zx(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":Fx(r,o),Xe("invalid",r)}dg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Jc(r.textContent,a,t),i=["children",""+a]):uu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Hc(r),Bx(r,o,!0);break;case"textarea":Hc(r),jx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[gi]=e,t[xu]=r,gC(t,e,!1,!1),e.stateNode=t;e:{switch(s=hg(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<za.length;i++)Xe(za[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":zx(t,r),i=lg(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Fx(t,r),i=cg(t,r),Xe("invalid",t);break;default:i=r}dg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Xk(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qk(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&cu(t,c):typeof c=="number"&&cu(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(uu.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Xe("scroll",t):c!=null&&A0(t,o,c,s))}switch(n){case"input":Hc(t),Bx(t,r,!1);break;case"textarea":Hc(t),jx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Uo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ol(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)vC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=vs(Su.current),vs(vi.current),Yc(e)){if(r=e.stateNode,n=e.memoizedProps,r[gi]=e,(o=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:Jc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gi]=e,e.stateNode=r}return on(e),null;case 13:if(Ye(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&ar!==null&&e.mode&1&&!(e.flags&128))Lb(),jl(),e.flags|=98560,o=!1;else if(o=Yc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(G(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[gi]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),o=!1}else Qr!==null&&(qg(Qr),Qr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?At===0&&(At=3):hy())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return Hl(),Fg(t,e),t===null&&yu(e.stateNode.containerInfo),on(e),null;case 10:return J0(e.type._context),on(e),null;case 17:return Wn(e.type)&&Wf(),on(e),null;case 19:if(Ye(nt),o=e.memoizedState,o===null)return on(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)_a(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Qf(t),s!==null){for(e.flags|=128,_a(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(nt,nt.current&1|2),e.child}t=t.sibling}o.tail!==null&&vt()>Vl&&(e.flags|=128,r=!0,_a(o,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_a(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ze)return on(e),null}else 2*vt()-o.renderingStartTime>Vl&&n!==1073741824&&(e.flags|=128,r=!0,_a(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=vt(),e.sibling=null,n=nt.current,qe(nt,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function HI(t,e){switch(K0(e),e.tag){case 1:return Wn(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hl(),Ye(Vn),Ye(un),ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ey(e),null;case 13:if(Ye(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(nt),null;case 4:return Hl(),null;case 10:return J0(e.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var ef=!1,an=!1,UI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Tl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function jg(t,e,n){try{n()}catch(r){ft(t,e,r)}}var Nw=!1;function VI(t,e){if(bg=$f,t=bb(),V0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,f=0,d=0,p=t,m=null;t:for(;;){for(var g;p!==n||i!==0&&p.nodeType!==3||(a=s+i),p!==o||r!==0&&p.nodeType!==3||(c=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===n&&++f===i&&(a=s),m===o&&++d===r&&(c=s),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cg={focusedElem:t,selectionRange:n},$f=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,b=x.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:Jr(e.type,k),b);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){ft(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return x=Nw,Nw=!1,x}function Ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&jg(e,n,o)}i=i.next}while(i!==r)}}function sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $g(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xC(t){var e=t.alternate;e!==null&&(t.alternate=null,xC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gi],delete e[xu],delete e[Mg],delete e[TI],delete e[MI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wC(t){return t.tag===5||t.tag===3||t.tag===4}function Ow(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vf));else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}function Ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ug(t,e,n),t=t.sibling;t!==null;)Ug(t,e,n),t=t.sibling}var Kt=null,Yr=!1;function uo(t,e,n){for(n=n.child;n!==null;)SC(t,e,n),n=n.sibling}function SC(t,e,n){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:an||Tl(n,e);case 6:var r=Kt,i=Yr;Kt=null,uo(t,e,n),Kt=r,Yr=i,Kt!==null&&(Yr?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Yr?(t=Kt,n=n.stateNode,t.nodeType===8?um(t.parentNode,n):t.nodeType===1&&um(t,n),pu(t)):um(Kt,n.stateNode));break;case 4:r=Kt,i=Yr,Kt=n.stateNode.containerInfo,Yr=!0,uo(t,e,n),Kt=r,Yr=i;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&jg(n,e,s),i=i.next}while(i!==r)}uo(t,e,n);break;case 1:if(!an&&(Tl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}uo(t,e,n);break;case 21:uo(t,e,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,uo(t,e,n),an=r):uo(t,e,n);break;default:uo(t,e,n)}}function Aw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UI),e.forEach(function(r){var i=ZI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Yr=!1;break e;case 3:Kt=a.stateNode.containerInfo,Yr=!0;break e;case 4:Kt=a.stateNode.containerInfo,Yr=!0;break e}a=a.return}if(Kt===null)throw Error(G(160));SC(o,s,i),Kt=null,Yr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ft(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kC(e,t),e=e.sibling}function kC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),fi(t),r&4){try{Ja(3,t,t.return),sh(3,t)}catch(k){ft(t,t.return,k)}try{Ja(5,t,t.return)}catch(k){ft(t,t.return,k)}}break;case 1:Gr(e,t),fi(t),r&512&&n!==null&&Tl(n,n.return);break;case 5:if(Gr(e,t),fi(t),r&512&&n!==null&&Tl(n,n.return),t.flags&32){var i=t.stateNode;try{cu(i,"")}catch(k){ft(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Vk(i,o),hg(a,s);var f=hg(a,o);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];d==="style"?Xk(i,p):d==="dangerouslySetInnerHTML"?qk(i,p):d==="children"?cu(i,p):A0(i,d,p,f)}switch(a){case"input":ag(i,o);break;case"textarea":Wk(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ol(i,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ol(i,!!o.multiple,o.defaultValue,!0):Ol(i,!!o.multiple,o.multiple?[]:"",!1))}i[xu]=o}catch(k){ft(t,t.return,k)}}break;case 6:if(Gr(e,t),fi(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){ft(t,t.return,k)}}break;case 3:if(Gr(e,t),fi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pu(e.containerInfo)}catch(k){ft(t,t.return,k)}break;case 4:Gr(e,t),fi(t);break;case 13:Gr(e,t),fi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cy=vt())),r&4&&Aw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(an=(f=an)||d,Gr(e,t),an=f):Gr(e,t),fi(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(p=ne=d;ne!==null;){switch(m=ne,g=m.child,m.tag){case 0:case 11:case 14:case 15:Ja(4,m,m.return);break;case 1:Tl(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(k){ft(r,n,k)}}break;case 5:Tl(m,m.return);break;case 22:if(m.memoizedState!==null){Dw(p);continue}}g!==null?(g.return=m,ne=g):Dw(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Gk("display",s))}catch(k){ft(t,t.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(k){ft(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Gr(e,t),fi(t),r&4&&Aw(t);break;case 21:break;default:Gr(e,t),fi(t)}}function fi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wC(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cu(i,""),r.flags&=-33);var o=Ow(t);Ug(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ow(t);Hg(t,a,s);break;default:throw Error(G(161))}}catch(c){ft(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WI(t,e,n){ne=t,bC(t)}function bC(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ef;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||an;a=ef;var f=an;if(ef=s,(an=c)&&!f)for(ne=i;ne!==null;)s=ne,c=s.child,s.tag===22&&s.memoizedState!==null?Rw(i):c!==null?(c.return=s,ne=c):Rw(i);for(;o!==null;)ne=o,bC(o),o=o.sibling;ne=i,ef=a,an=f}Pw(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):Pw(t)}}function Pw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||sh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!an)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&pu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}an||e.flags&512&&$g(e)}catch(m){ft(e,e.return,m)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Dw(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Rw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sh(4,e)}catch(c){ft(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ft(e,i,c)}}var o=e.return;try{$g(e)}catch(c){ft(e,o,c)}break;case 5:var s=e.return;try{$g(e)}catch(c){ft(e,s,c)}}}catch(c){ft(e,e.return,c)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var KI=Math.ceil,td=Ji.ReactCurrentDispatcher,ay=Ji.ReactCurrentOwner,Lr=Ji.ReactCurrentBatchConfig,Ie=0,Bt=null,bt=null,Jt=0,sr=0,Ml=Go(0),At=0,Eu=null,Ds=0,lh=0,uy=0,Ya=null,$n=null,cy=0,Vl=1/0,zi=null,nd=!1,Vg=null,Ro=null,tf=!1,Eo=null,rd=0,Qa=0,Wg=null,_f=-1,Nf=0;function En(){return Ie&6?vt():_f!==-1?_f:_f=vt()}function Io(t){return t.mode&1?Ie&2&&Jt!==0?Jt&-Jt:NI.transition!==null?(Nf===0&&(Nf=lb()),Nf):(t=He,t!==0||(t=window.event,t=t===void 0?16:pb(t.type)),t):1}function ni(t,e,n,r){if(50<Qa)throw Qa=0,Wg=null,Error(G(185));Bu(t,n,r),(!(Ie&2)||t!==Bt)&&(t===Bt&&(!(Ie&2)&&(lh|=n),At===4&&So(t,Jt)),Kn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Vl=vt()+500,rh&&Xo()))}function Kn(t,e){var n=t.callbackNode;NR(t,e);var r=jf(t,t===Bt?Jt:0);if(r===0)n!==null&&Ux(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ux(n),e===1)t.tag===0?_I(Iw.bind(null,t)):Db(Iw.bind(null,t)),CI(function(){!(Ie&6)&&Xo()}),n=null;else{switch(ab(r)){case 1:n=L0;break;case 4:n=ob;break;case 16:n=Ff;break;case 536870912:n=sb;break;default:n=Ff}n=AC(n,CC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CC(t,e){if(_f=-1,Nf=0,Ie&6)throw Error(G(327));var n=t.callbackNode;if(Il()&&t.callbackNode!==n)return null;var r=jf(t,t===Bt?Jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=id(t,r);else{e=r;var i=Ie;Ie|=2;var o=TC();(Bt!==t||Jt!==e)&&(zi=null,Vl=vt()+500,bs(t,e));do try{XI();break}catch(a){EC(t,a)}while(!0);X0(),td.current=o,Ie=i,bt!==null?e=0:(Bt=null,Jt=0,e=At)}if(e!==0){if(e===2&&(i=vg(t),i!==0&&(r=i,e=Kg(t,i))),e===1)throw n=Eu,bs(t,0),So(t,r),Kn(t,vt()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!qI(i)&&(e=id(t,r),e===2&&(o=vg(t),o!==0&&(r=o,e=Kg(t,o))),e===1))throw n=Eu,bs(t,0),So(t,r),Kn(t,vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ps(t,$n,zi);break;case 3:if(So(t,r),(r&130023424)===r&&(e=cy+500-vt(),10<e)){if(jf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tg(ps.bind(null,t,$n,zi),e);break}ps(t,$n,zi);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ti(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KI(r/1960))-r,10<r){t.timeoutHandle=Tg(ps.bind(null,t,$n,zi),r);break}ps(t,$n,zi);break;case 5:ps(t,$n,zi);break;default:throw Error(G(329))}}}return Kn(t,vt()),t.callbackNode===n?CC.bind(null,t):null}function Kg(t,e){var n=Ya;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=id(t,e),t!==2&&(e=$n,$n=n,e!==null&&qg(e)),t}function qg(t){$n===null?$n=t:$n.push.apply($n,t)}function qI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ii(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~uy,e&=~lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ti(e),r=1<<n;t[n]=-1,e&=~r}}function Iw(t){if(Ie&6)throw Error(G(327));Il();var e=jf(t,0);if(!(e&1))return Kn(t,vt()),null;var n=id(t,e);if(t.tag!==0&&n===2){var r=vg(t);r!==0&&(e=r,n=Kg(t,r))}if(n===1)throw n=Eu,bs(t,0),So(t,e),Kn(t,vt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,$n,zi),Kn(t,vt()),null}function fy(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Vl=vt()+500,rh&&Xo())}}function Rs(t){Eo!==null&&Eo.tag===0&&!(Ie&6)&&Il();var e=Ie;Ie|=1;var n=Lr.transition,r=He;try{if(Lr.transition=null,He=1,t)return t()}finally{He=r,Lr.transition=n,Ie=e,!(Ie&6)&&Xo()}}function dy(){sr=Ml.current,Ye(Ml)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bI(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(K0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wf();break;case 3:Hl(),Ye(Vn),Ye(un),ty();break;case 5:ey(r);break;case 4:Hl();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:J0(r.type._context);break;case 22:case 23:dy()}n=n.return}if(Bt=t,bt=t=Lo(t.current,null),Jt=sr=e,At=0,Eu=null,uy=lh=Ds=0,$n=Ya=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ys=null}return t}function EC(t,e){do{var n=bt;try{if(X0(),Ef.current=ed,Zf){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zf=!1}if(Ps=0,It=Ot=it=null,Xa=!1,ku=0,ay.current=null,n===null||n.return===null){At=1,Eu=e,bt=null;break}e:{var o=t,s=n.return,a=n,c=e;if(e=Jt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=kw(s);if(g!==null){g.flags&=-257,bw(g,s,a,o,e),g.mode&1&&Sw(o,f,e),e=g,c=f;var x=e.updateQueue;if(x===null){var k=new Set;k.add(c),e.updateQueue=k}else x.add(c);break e}else{if(!(e&1)){Sw(o,f,e),hy();break e}c=Error(G(426))}}else if(Ze&&a.mode&1){var b=kw(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bw(b,s,a,o,e),q0(Ul(c,a));break e}}o=c=Ul(c,a),At!==4&&(At=2),Ya===null?Ya=[o]:Ya.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=aC(o,c,e);mw(o,w);break e;case 1:a=c;var v=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ro===null||!Ro.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=uC(o,a,e);mw(o,_);break e}}o=o.return}while(o!==null)}_C(n)}catch(M){e=M,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function TC(){var t=td.current;return td.current=ed,t===null?ed:t}function hy(){(At===0||At===3||At===2)&&(At=4),Bt===null||!(Ds&268435455)&&!(lh&268435455)||So(Bt,Jt)}function id(t,e){var n=Ie;Ie|=2;var r=TC();(Bt!==t||Jt!==e)&&(zi=null,bs(t,e));do try{GI();break}catch(i){EC(t,i)}while(!0);if(X0(),Ie=n,td.current=r,bt!==null)throw Error(G(261));return Bt=null,Jt=0,At}function GI(){for(;bt!==null;)MC(bt)}function XI(){for(;bt!==null&&!wR();)MC(bt)}function MC(t){var e=OC(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?_C(t):bt=e,ay.current=null}function _C(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HI(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,bt=null;return}}else if(n=$I(n,e,sr),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);At===0&&(At=5)}function ps(t,e,n){var r=He,i=Lr.transition;try{Lr.transition=null,He=1,JI(t,e,n,r)}finally{Lr.transition=i,He=r}return null}function JI(t,e,n,r){do Il();while(Eo!==null);if(Ie&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OR(t,o),t===Bt&&(bt=Bt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tf||(tf=!0,AC(Ff,function(){return Il(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lr.transition,Lr.transition=null;var s=He;He=1;var a=Ie;Ie|=4,ay.current=null,VI(t,n),kC(n,t),gI(Cg),$f=!!bg,Cg=bg=null,t.current=n,WI(n),SR(),Ie=a,He=s,Lr.transition=o}else t.current=n;if(tf&&(tf=!1,Eo=t,rd=i),o=t.pendingLanes,o===0&&(Ro=null),CR(n.stateNode),Kn(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nd)throw nd=!1,t=Vg,Vg=null,t;return rd&1&&t.tag!==0&&Il(),o=t.pendingLanes,o&1?t===Wg?Qa++:(Qa=0,Wg=t):Qa=0,Xo(),null}function Il(){if(Eo!==null){var t=ab(rd),e=Lr.transition,n=He;try{if(Lr.transition=null,He=16>t?16:t,Eo===null)var r=!1;else{if(t=Eo,Eo=null,rd=0,Ie&6)throw Error(G(331));var i=Ie;for(Ie|=4,ne=t.current;ne!==null;){var o=ne,s=o.child;if(ne.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var f=a[c];for(ne=f;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Ja(8,d,o)}var p=d.child;if(p!==null)p.return=d,ne=p;else for(;ne!==null;){d=ne;var m=d.sibling,g=d.return;if(xC(d),d===f){ne=null;break}if(m!==null){m.return=g,ne=m;break}ne=g}}}var x=o.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var b=k.sibling;k.sibling=null,k=b}while(k!==null)}}ne=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ne=s;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ja(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ne=w;break e}ne=o.return}}var v=t.current;for(ne=v;ne!==null;){s=ne;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,ne=C;else e:for(s=v;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sh(9,a)}}catch(M){ft(a,a.return,M)}if(a===s){ne=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ne=_;break e}ne=a.return}}if(Ie=i,Xo(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Qd,t)}catch{}r=!0}return r}finally{He=n,Lr.transition=e}}return!1}function Lw(t,e,n){e=Ul(n,e),e=aC(t,e,1),t=Do(t,e,1),e=En(),t!==null&&(Bu(t,1,e),Kn(t,e))}function ft(t,e,n){if(t.tag===3)Lw(t,t,n);else for(;e!==null;){if(e.tag===3){Lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ro===null||!Ro.has(r))){t=Ul(n,t),t=uC(e,t,1),e=Do(e,t,1),t=En(),e!==null&&(Bu(e,1,t),Kn(e,t));break}}e=e.return}}function YI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&(Jt&n)===n&&(At===4||At===3&&(Jt&130023424)===Jt&&500>vt()-cy?bs(t,0):uy|=n),Kn(t,e)}function NC(t,e){e===0&&(t.mode&1?(e=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):e=1);var n=En();t=Gi(t,e),t!==null&&(Bu(t,e,n),Kn(t,n))}function QI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NC(t,n)}function ZI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),NC(t,n)}var OC;OC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,jI(t,e,n);Un=!!(t.flags&131072)}else Un=!1,Ze&&e.flags&1048576&&Rb(e,Gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mf(t,e),t=e.pendingProps;var i=Fl(e,un.current);Rl(e,n),i=ry(null,e,r,t,i,n);var o=iy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wn(r)?(o=!0,Kf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Q0(e),i.updater=oh,e.stateNode=i,i._reactInternals=e,Dg(e,r,t,n),e=Lg(null,e,r,!0,o,n)):(e.tag=0,Ze&&o&&W0(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tL(r),t=Jr(r,t),i){case 0:e=Ig(null,e,r,t,n);break e;case 1:e=Tw(null,e,r,t,n);break e;case 11:e=Cw(null,e,r,t,n);break e;case 14:e=Ew(null,e,r,Jr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Ig(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Tw(t,e,r,i,n);case 3:e:{if(hC(e),t===null)throw Error(G(387));r=e.pendingProps,o=e.memoizedState,i=o.element,jb(t,e),Yf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ul(Error(G(423)),e),e=Mw(t,e,r,n,i);break e}else if(r!==i){i=Ul(Error(G(424)),e),e=Mw(t,e,r,n,i);break e}else for(ar=Po(e.stateNode.containerInfo.firstChild),ur=e,Ze=!0,Qr=null,n=Bb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jl(),r===i){e=Xi(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return $b(e),t===null&&Og(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Eg(r,i)?s=null:o!==null&&Eg(r,o)&&(e.flags|=32),dC(t,e),bn(t,e,s,n),e.child;case 6:return t===null&&Og(e),null;case 13:return pC(t,e,n);case 4:return Z0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$l(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Cw(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,qe(Xf,r._currentValue),r._currentValue=s,o!==null)if(ii(o.value,s)){if(o.children===i.children&&!Vn.current){e=Xi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Ui(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ag(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(G(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ag(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rl(e,n),i=Fr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=Jr(r,e.pendingProps),i=Jr(r.type,i),Ew(t,e,r,i,n);case 15:return cC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Mf(t,e),e.tag=1,Wn(r)?(t=!0,Kf(e)):t=!1,Rl(e,n),lC(e,r,i),Dg(e,r,i,n),Lg(null,e,r,!0,t,n);case 19:return mC(t,e,n);case 22:return fC(t,e,n)}throw Error(G(156,e.tag))};function AC(t,e){return ib(t,e)}function eL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(t,e,n,r){return new eL(t,e,n,r)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tL(t){if(typeof t=="function")return py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D0)return 11;if(t===R0)return 14}return 2}function Lo(t,e){var n=t.alternate;return n===null?(n=Ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Of(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")py(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case yl:return Cs(n.children,i,o,e);case P0:s=8,i|=8;break;case rg:return t=Ir(12,n,e,i|2),t.elementType=rg,t.lanes=o,t;case ig:return t=Ir(13,n,e,i),t.elementType=ig,t.lanes=o,t;case og:return t=Ir(19,n,e,i),t.elementType=og,t.lanes=o,t;case $k:return ah(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fk:s=10;break e;case jk:s=9;break e;case D0:s=11;break e;case R0:s=14;break e;case mo:s=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Ir(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Cs(t,e,n,r){return t=Ir(7,t,r,e),t.lanes=n,t}function ah(t,e,n,r){return t=Ir(22,t,r,e),t.elementType=$k,t.lanes=n,t.stateNode={isHidden:!1},t}function ym(t,e,n){return t=Ir(6,t,null,e),t.lanes=n,t}function vm(t,e,n){return e=Ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qp(0),this.expirationTimes=Qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function my(t,e,n,r,i,o,s,a,c){return t=new nL(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Q0(o),t}function rL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PC(t){if(!t)return Vo;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(Wn(n))return Pb(t,n,e)}return e}function DC(t,e,n,r,i,o,s,a,c){return t=my(n,r,!0,t,i,o,s,a,c),t.context=PC(null),n=t.current,r=En(),i=Io(n),o=Ui(r,i),o.callback=e??null,Do(n,o,i),t.current.lanes=i,Bu(t,i,r),Kn(t,r),t}function uh(t,e,n,r){var i=e.current,o=En(),s=Io(i);return n=PC(n),e.context===null?e.context=n:e.pendingContext=n,e=Ui(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Do(i,e,s),t!==null&&(ni(t,i,s,o),Cf(t,i,s)),s}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gy(t,e){zw(t,e),(t=t.alternate)&&zw(t,e)}function iL(){return null}var RC=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}ch.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));uh(t,e,null,null)};ch.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rs(function(){uh(null,t,null,null)}),e[qi]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=fb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wo.length&&e!==0&&e<wo[n].priority;n++);wo.splice(n,0,t),n===0&&hb(t)}};function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bw(){}function oL(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=od(s);o.call(f)}}var s=DC(e,r,t,0,null,!1,!1,"",Bw);return t._reactRootContainer=s,t[qi]=s.current,yu(t.nodeType===8?t.parentNode:t),Rs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var f=od(c);a.call(f)}}var c=my(t,0,!1,null,null,!1,!1,"",Bw);return t._reactRootContainer=c,t[qi]=c.current,yu(t.nodeType===8?t.parentNode:t),Rs(function(){uh(e,c,n,r)}),c}function dh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=od(s);a.call(c)}}uh(e,s,t,i)}else s=oL(n,e,t,i,r);return od(s)}ub=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=La(e.pendingLanes);n!==0&&(z0(e,n|1),Kn(e,vt()),!(Ie&6)&&(Vl=vt()+500,Xo()))}break;case 13:Rs(function(){var r=Gi(t,1);if(r!==null){var i=En();ni(r,t,1,i)}}),gy(t,1)}};B0=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var n=En();ni(e,t,134217728,n)}gy(t,134217728)}};cb=function(t){if(t.tag===13){var e=Io(t),n=Gi(t,e);if(n!==null){var r=En();ni(n,t,e,r)}gy(t,e)}};fb=function(){return He};db=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};mg=function(t,e,n){switch(e){case"input":if(ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nh(r);if(!i)throw Error(G(90));Uk(r),ag(r,i)}}}break;case"textarea":Wk(t,n);break;case"select":e=n.value,e!=null&&Ol(t,!!n.multiple,e,!1)}};Qk=fy;Zk=Rs;var sL={usingClientEntryPoint:!1,Events:[ju,Sl,nh,Jk,Yk,fy]},Na={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lL={bundleType:Na.bundleType,version:Na.version,rendererPackageName:Na.rendererPackageName,rendererConfig:Na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nb(t),t===null?null:t.stateNode},findFiberByHostInstance:Na.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Qd=nf.inject(lL),yi=nf}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sL;hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(e))throw Error(G(200));return rL(t,e,null,n)};hr.createRoot=function(t,e){if(!vy(t))throw Error(G(299));var n=!1,r="",i=RC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=my(t,1,!1,null,null,n,!1,r,i),t[qi]=e.current,yu(t.nodeType===8?t.parentNode:t),new yy(e)};hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=nb(e),t=t===null?null:t.stateNode,t};hr.flushSync=function(t){return Rs(t)};hr.hydrate=function(t,e,n){if(!fh(e))throw Error(G(200));return dh(null,t,e,!0,n)};hr.hydrateRoot=function(t,e,n){if(!vy(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=RC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=DC(e,null,t,1,n??null,i,!1,o,s),t[qi]=e.current,yu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ch(e)};hr.render=function(t,e,n){if(!fh(e))throw Error(G(200));return dh(null,t,e,!1,n)};hr.unmountComponentAtNode=function(t){if(!fh(t))throw Error(G(40));return t._reactRootContainer?(Rs(function(){dh(null,null,t,!1,function(){t._reactRootContainer=null,t[qi]=null})}),!0):!1};hr.unstable_batchedUpdates=fy;hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return dh(t,e,n,!1,r)};hr.version="18.3.1-next-f1338f8080-20240426";function IC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IC)}catch(t){console.error(t)}}IC(),Ik.exports=hr;var hh=Ik.exports;const aL=Jd(hh);var Fw=hh;tg.createRoot=Fw.createRoot,tg.hydrateRoot=Fw.hydrateRoot;const Wt=[];for(let t=0;t<256;++t)Wt.push((t+256).toString(16).slice(1));function uL(t,e=0){return(Wt[t[e+0]]+Wt[t[e+1]]+Wt[t[e+2]]+Wt[t[e+3]]+"-"+Wt[t[e+4]]+Wt[t[e+5]]+"-"+Wt[t[e+6]]+Wt[t[e+7]]+"-"+Wt[t[e+8]]+Wt[t[e+9]]+"-"+Wt[t[e+10]]+Wt[t[e+11]]+Wt[t[e+12]]+Wt[t[e+13]]+Wt[t[e+14]]+Wt[t[e+15]]).toLowerCase()}let xm;const cL=new Uint8Array(16);function fL(){if(!xm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xm=crypto.getRandomValues.bind(crypto)}return xm(cL)}const dL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jw={randomUUID:dL};function hL(t,e,n){var i;t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??fL();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uL(r)}function zo(t,e,n){return jw.randomUUID&&!t?jw.randomUUID():hL(t)}const LC="gp_projects_list",zC=()=>{const t=localStorage.getItem(LC);return t?JSON.parse(t):[]},Ba=t=>{localStorage.setItem(LC,JSON.stringify(t))},pL=t=>{const e=`gp_project_${t}`,n=localStorage.getItem(e);return n?JSON.parse(n):{brainstorm:{items:[],connections:[]},members:[],todos:[],docs:[],ui:[]}},wm=(t,e)=>{const n=`gp_project_${t}`;localStorage.setItem(n,JSON.stringify(e));const r=zC(),i=r.findIndex(o=>o.id===t);i!==-1&&(r[i].lastModified=Date.now(),Ba(r))};function mL({onOpenProject:t}){const[e,n]=se.useState([]),r=se.useRef(null),[i,o]=se.useState({visible:!1,x:0,y:0,targetId:""});se.useEffect(()=>{n(zC());const p=()=>o({...i,visible:!1});return window.addEventListener("click",p),()=>window.removeEventListener("click",p)},[]);const s=()=>{const m=[{id:zo(),name:"",cover:"",lastModified:Date.now()},...e];n(m),Ba(m)},a=(p,m)=>{p.preventDefault(),o({visible:!0,x:p.clientX,y:p.clientY,targetId:m})},c=p=>{var g;const m=(g=p.target.files)==null?void 0:g[0];if(m&&i.targetId){const x=new FileReader;x.onload=k=>{const b=e.map(w=>{var v;return w.id===i.targetId?{...w,cover:(v=k.target)==null?void 0:v.result}:w});n(b),Ba(b)},x.readAsDataURL(m)}p.target.value=""},f=(p,m)=>{const g=e.map(x=>x.id===p?{...x,name:m}:x);n(g),Ba(g)},d=()=>{if(confirm("")){const p=e.filter(m=>m.id!==i.targetId);n(p),Ba(p)}};return I.jsxs("div",{className:"flex flex-col h-screen w-screen bg-slate-900 text-slate-200 p-10 overflow-hidden relative",children:[I.jsx("input",{type:"file",ref:r,onChange:c,className:"hidden",accept:"image/*"}),I.jsxs("div",{className:"mb-10",children:[I.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Game Planner ",I.jsx("span",{className:"text-emerald-500 text-sm align-top",children:"Pro"})]}),I.jsx("p",{className:"text-slate-400",children:""})]}),I.jsx("div",{className:"flex-1 overflow-y-auto",children:I.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 content-start pb-20",children:[I.jsxs("div",{onClick:s,className:"aspect-[4/3] rounded-xl border-2 border-dashed border-slate-700 hover:border-emerald-500 hover:bg-slate-800/50 flex flex-col items-center justify-center cursor-pointer transition-all group",children:[I.jsx("div",{className:"text-4xl text-slate-600 group-hover:text-emerald-500 mb-2 transition-colors",children:"+"}),I.jsx("span",{className:"text-slate-500 font-medium",children:""})]}),e.map(p=>I.jsxs("div",{onClick:()=>t(p),onContextMenu:m=>a(m,p.id),className:"group relative aspect-[4/3] bg-slate-800 rounded-xl border border-slate-700 hover:border-emerald-500 hover:shadow-xl transition-all cursor-pointer flex flex-col overflow-hidden",children:[I.jsx("div",{className:"flex-1 bg-slate-900 relative pointer-events-none",children:p.cover?I.jsx("img",{src:p.cover,className:"w-full h-full object-cover"}):I.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-700 text-4xl",children:""})}),I.jsx("div",{className:"h-12 bg-slate-800 border-t border-slate-700 flex items-center px-2",onClick:m=>m.stopPropagation(),children:I.jsx("input",{value:p.name,onChange:m=>f(p.id,m.target.value),className:"bg-transparent font-bold text-slate-200 w-full text-center outline-none focus:bg-slate-900 rounded px-1"})})]},p.id))]})}),i.visible&&I.jsxs("div",{className:"fixed z-[9999] bg-slate-800 border border-slate-600 rounded-lg shadow-xl py-1 w-32 flex flex-col",style:{top:i.y,left:i.x},onClick:p=>p.stopPropagation(),children:[I.jsx("button",{onClick:()=>{var p;return(p=r.current)==null?void 0:p.click()},className:"px-4 py-2 text-left text-sm text-slate-200 hover:bg-emerald-600",children:" "}),I.jsx("button",{onClick:d,className:"px-4 py-2 text-left text-sm text-red-400 hover:bg-red-600 hover:text-white",children:" "})]})]})}var BC={exports:{}},Fa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Fa.exports;var $w;function gL(){return $w||($w=1,function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",p=1,m=2,g=4,x=1,k=2,b=1,w=2,v=4,C=8,_=16,M=32,A=64,P=128,D=256,B=512,U=30,fe="...",me=800,Y=16,le=1,ee=2,ve=3,Se=1/0,W=9007199254740991,X=17976931348623157e292,ie=NaN,ke=4294967295,Ue=ke-1,fn=ke>>>1,$t=[["ary",P],["bind",b],["bindKey",w],["curry",C],["curryRight",_],["flip",B],["partial",M],["partialRight",A],["rearg",D]],Zt="[object Arguments]",Mt="[object Array]",wt="[object AsyncFunction]",j="[object Boolean]",Q="[object Date]",ae="[object DOMException]",ge="[object Error]",et="[object Function]",xe="[object GeneratorFunction]",be="[object Map]",On="[object Number]",Qi="[object Null]",Ht="[object Object]",An="[object Promise]",oi="[object Proxy]",Dt="[object RegExp]",Fe="[object Set]",St="[object String]",kt="[object Symbol]",bi="[object Undefined]",$r="[object WeakMap]",Ks="[object WeakSet]",Hr="[object ArrayBuffer]",Gn="[object DataView]",lt="[object Float32Array]",re="[object Float64Array]",Pe="[object Int8Array]",Le="[object Int16Array]",Zi="[object Int32Array]",Pn="[object Uint8Array]",Xn="[object Uint8ClampedArray]",pt="[object Uint16Array]",at="[object Uint32Array]",si=/\b__p \+= '';/g,gr=/\b(__p \+=) '' \+/g,Ur=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dn=/&(?:amp|lt|gt|quot|#39);/g,Jn=/[&<>"']/g,dn=RegExp(Dn.source),mt=RegExp(Jn.source),li=/<%-([\s\S]+?)%>/g,Yn=/<%([\s\S]+?)%>/g,yr=/<%=([\s\S]+?)%>/g,en=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vr=/^\w*$/,es=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/[\\^$.*+?()[\]{}|]/g,Rn=RegExp(hn.source),pn=/^\s+/,In=/\s/,xr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wr=/\{\n\/\* \[wrapped with (.+)\] \*/,Rh=/,? & /,Ih=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mn=/[()=,{}\[\]\/\s]/,gn=/\\(\\)?/g,Ln=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yn=/\w*$/,ra=/^[-+]0x[0-9a-f]+$/i,Qn=/^0b[01]+$/i,Ku=/^\[object .+?Constructor\]$/,qu=/^0o[0-7]+$/i,Gu=/^(?:0|[1-9]\d*)$/,Xu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ts=/($^)/,Ju=/['\n\r\u2028\u2029\\]/g,qs="\\ud800-\\udfff",Lh="\\u0300-\\u036f",ia="\\ufe20-\\ufe2f",oa="\\u20d0-\\u20ff",Yu=Lh+ia+oa,Qu="\\u2700-\\u27bf",Zu="a-z\\xdf-\\xf6\\xf8-\\xff",sa="\\xac\\xb1\\xd7\\xf7",RM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",IM="\\u2000-\\u206f",LM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uv="A-Z\\xc0-\\xd6\\xd8-\\xde",cv="\\ufe0e\\ufe0f",fv=sa+RM+IM+LM,zh="[']",zM="["+qs+"]",dv="["+fv+"]",ec="["+Yu+"]",hv="\\d+",BM="["+Qu+"]",pv="["+Zu+"]",mv="[^"+qs+fv+hv+Qu+Zu+uv+"]",Bh="\\ud83c[\\udffb-\\udfff]",FM="(?:"+ec+"|"+Bh+")",gv="[^"+qs+"]",Fh="(?:\\ud83c[\\udde6-\\uddff]){2}",jh="[\\ud800-\\udbff][\\udc00-\\udfff]",Gs="["+uv+"]",yv="\\u200d",vv="(?:"+pv+"|"+mv+")",jM="(?:"+Gs+"|"+mv+")",xv="(?:"+zh+"(?:d|ll|m|re|s|t|ve))?",wv="(?:"+zh+"(?:D|LL|M|RE|S|T|VE))?",Sv=FM+"?",kv="["+cv+"]?",$M="(?:"+yv+"(?:"+[gv,Fh,jh].join("|")+")"+kv+Sv+")*",HM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",UM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bv=kv+Sv+$M,VM="(?:"+[BM,Fh,jh].join("|")+")"+bv,WM="(?:"+[gv+ec+"?",ec,Fh,jh,zM].join("|")+")",KM=RegExp(zh,"g"),qM=RegExp(ec,"g"),$h=RegExp(Bh+"(?="+Bh+")|"+WM+bv,"g"),GM=RegExp([Gs+"?"+pv+"+"+xv+"(?="+[dv,Gs,"$"].join("|")+")",jM+"+"+wv+"(?="+[dv,Gs+vv,"$"].join("|")+")",Gs+"?"+vv+"+"+xv,Gs+"+"+wv,UM,HM,hv,VM].join("|"),"g"),XM=RegExp("["+yv+qs+Yu+cv+"]"),JM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,YM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],QM=-1,Ge={};Ge[lt]=Ge[re]=Ge[Pe]=Ge[Le]=Ge[Zi]=Ge[Pn]=Ge[Xn]=Ge[pt]=Ge[at]=!0,Ge[Zt]=Ge[Mt]=Ge[Hr]=Ge[j]=Ge[Gn]=Ge[Q]=Ge[ge]=Ge[et]=Ge[be]=Ge[On]=Ge[Ht]=Ge[Dt]=Ge[Fe]=Ge[St]=Ge[$r]=!1;var Ke={};Ke[Zt]=Ke[Mt]=Ke[Hr]=Ke[Gn]=Ke[j]=Ke[Q]=Ke[lt]=Ke[re]=Ke[Pe]=Ke[Le]=Ke[Zi]=Ke[be]=Ke[On]=Ke[Ht]=Ke[Dt]=Ke[Fe]=Ke[St]=Ke[kt]=Ke[Pn]=Ke[Xn]=Ke[pt]=Ke[at]=!0,Ke[ge]=Ke[et]=Ke[$r]=!1;var ZM={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},e_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},n_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},r_=parseFloat,i_=parseInt,Cv=typeof fl=="object"&&fl&&fl.Object===Object&&fl,o_=typeof self=="object"&&self&&self.Object===Object&&self,Ut=Cv||o_||Function("return this")(),Hh=e&&!e.nodeType&&e,ns=Hh&&!0&&t&&!t.nodeType&&t,Ev=ns&&ns.exports===Hh,Uh=Ev&&Cv.process,Sr=function(){try{var R=ns&&ns.require&&ns.require("util").types;return R||Uh&&Uh.binding&&Uh.binding("util")}catch{}}(),Tv=Sr&&Sr.isArrayBuffer,Mv=Sr&&Sr.isDate,_v=Sr&&Sr.isMap,Nv=Sr&&Sr.isRegExp,Ov=Sr&&Sr.isSet,Av=Sr&&Sr.isTypedArray;function Zn(R,F,z){switch(z.length){case 0:return R.call(F);case 1:return R.call(F,z[0]);case 2:return R.call(F,z[0],z[1]);case 3:return R.call(F,z[0],z[1],z[2])}return R.apply(F,z)}function s_(R,F,z,te){for(var we=-1,ze=R==null?0:R.length;++we<ze;){var _t=R[we];F(te,_t,z(_t),R)}return te}function kr(R,F){for(var z=-1,te=R==null?0:R.length;++z<te&&F(R[z],z,R)!==!1;);return R}function l_(R,F){for(var z=R==null?0:R.length;z--&&F(R[z],z,R)!==!1;);return R}function Pv(R,F){for(var z=-1,te=R==null?0:R.length;++z<te;)if(!F(R[z],z,R))return!1;return!0}function eo(R,F){for(var z=-1,te=R==null?0:R.length,we=0,ze=[];++z<te;){var _t=R[z];F(_t,z,R)&&(ze[we++]=_t)}return ze}function tc(R,F){var z=R==null?0:R.length;return!!z&&Xs(R,F,0)>-1}function Vh(R,F,z){for(var te=-1,we=R==null?0:R.length;++te<we;)if(z(F,R[te]))return!0;return!1}function Qe(R,F){for(var z=-1,te=R==null?0:R.length,we=Array(te);++z<te;)we[z]=F(R[z],z,R);return we}function to(R,F){for(var z=-1,te=F.length,we=R.length;++z<te;)R[we+z]=F[z];return R}function Wh(R,F,z,te){var we=-1,ze=R==null?0:R.length;for(te&&ze&&(z=R[++we]);++we<ze;)z=F(z,R[we],we,R);return z}function a_(R,F,z,te){var we=R==null?0:R.length;for(te&&we&&(z=R[--we]);we--;)z=F(z,R[we],we,R);return z}function Kh(R,F){for(var z=-1,te=R==null?0:R.length;++z<te;)if(F(R[z],z,R))return!0;return!1}var u_=qh("length");function c_(R){return R.split("")}function f_(R){return R.match(Ih)||[]}function Dv(R,F,z){var te;return z(R,function(we,ze,_t){if(F(we,ze,_t))return te=ze,!1}),te}function nc(R,F,z,te){for(var we=R.length,ze=z+(te?1:-1);te?ze--:++ze<we;)if(F(R[ze],ze,R))return ze;return-1}function Xs(R,F,z){return F===F?b_(R,F,z):nc(R,Rv,z)}function d_(R,F,z,te){for(var we=z-1,ze=R.length;++we<ze;)if(te(R[we],F))return we;return-1}function Rv(R){return R!==R}function Iv(R,F){var z=R==null?0:R.length;return z?Xh(R,F)/z:ie}function qh(R){return function(F){return F==null?n:F[R]}}function Gh(R){return function(F){return R==null?n:R[F]}}function Lv(R,F,z,te,we){return we(R,function(ze,_t,Ve){z=te?(te=!1,ze):F(z,ze,_t,Ve)}),z}function h_(R,F){var z=R.length;for(R.sort(F);z--;)R[z]=R[z].value;return R}function Xh(R,F){for(var z,te=-1,we=R.length;++te<we;){var ze=F(R[te]);ze!==n&&(z=z===n?ze:z+ze)}return z}function Jh(R,F){for(var z=-1,te=Array(R);++z<R;)te[z]=F(z);return te}function p_(R,F){return Qe(F,function(z){return[z,R[z]]})}function zv(R){return R&&R.slice(0,$v(R)+1).replace(pn,"")}function er(R){return function(F){return R(F)}}function Yh(R,F){return Qe(F,function(z){return R[z]})}function la(R,F){return R.has(F)}function Bv(R,F){for(var z=-1,te=R.length;++z<te&&Xs(F,R[z],0)>-1;);return z}function Fv(R,F){for(var z=R.length;z--&&Xs(F,R[z],0)>-1;);return z}function m_(R,F){for(var z=R.length,te=0;z--;)R[z]===F&&++te;return te}var g_=Gh(ZM),y_=Gh(e_);function v_(R){return"\\"+n_[R]}function x_(R,F){return R==null?n:R[F]}function Js(R){return XM.test(R)}function w_(R){return JM.test(R)}function S_(R){for(var F,z=[];!(F=R.next()).done;)z.push(F.value);return z}function Qh(R){var F=-1,z=Array(R.size);return R.forEach(function(te,we){z[++F]=[we,te]}),z}function jv(R,F){return function(z){return R(F(z))}}function no(R,F){for(var z=-1,te=R.length,we=0,ze=[];++z<te;){var _t=R[z];(_t===F||_t===d)&&(R[z]=d,ze[we++]=z)}return ze}function rc(R){var F=-1,z=Array(R.size);return R.forEach(function(te){z[++F]=te}),z}function k_(R){var F=-1,z=Array(R.size);return R.forEach(function(te){z[++F]=[te,te]}),z}function b_(R,F,z){for(var te=z-1,we=R.length;++te<we;)if(R[te]===F)return te;return-1}function C_(R,F,z){for(var te=z+1;te--;)if(R[te]===F)return te;return te}function Ys(R){return Js(R)?T_(R):u_(R)}function Vr(R){return Js(R)?M_(R):c_(R)}function $v(R){for(var F=R.length;F--&&In.test(R.charAt(F)););return F}var E_=Gh(t_);function T_(R){for(var F=$h.lastIndex=0;$h.test(R);)++F;return F}function M_(R){return R.match($h)||[]}function __(R){return R.match(GM)||[]}var N_=function R(F){F=F==null?Ut:Qs.defaults(Ut.Object(),F,Qs.pick(Ut,YM));var z=F.Array,te=F.Date,we=F.Error,ze=F.Function,_t=F.Math,Ve=F.Object,Zh=F.RegExp,O_=F.String,br=F.TypeError,ic=z.prototype,A_=ze.prototype,Zs=Ve.prototype,oc=F["__core-js_shared__"],sc=A_.toString,je=Zs.hasOwnProperty,P_=0,Hv=function(){var l=/[^.]+$/.exec(oc&&oc.keys&&oc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),lc=Zs.toString,D_=sc.call(Ve),R_=Ut._,I_=Zh("^"+sc.call(je).replace(hn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ac=Ev?F.Buffer:n,ro=F.Symbol,uc=F.Uint8Array,Uv=ac?ac.allocUnsafe:n,cc=jv(Ve.getPrototypeOf,Ve),Vv=Ve.create,Wv=Zs.propertyIsEnumerable,fc=ic.splice,Kv=ro?ro.isConcatSpreadable:n,aa=ro?ro.iterator:n,rs=ro?ro.toStringTag:n,dc=function(){try{var l=us(Ve,"defineProperty");return l({},"",{}),l}catch{}}(),L_=F.clearTimeout!==Ut.clearTimeout&&F.clearTimeout,z_=te&&te.now!==Ut.Date.now&&te.now,B_=F.setTimeout!==Ut.setTimeout&&F.setTimeout,hc=_t.ceil,pc=_t.floor,ep=Ve.getOwnPropertySymbols,F_=ac?ac.isBuffer:n,qv=F.isFinite,j_=ic.join,$_=jv(Ve.keys,Ve),Nt=_t.max,tn=_t.min,H_=te.now,U_=F.parseInt,Gv=_t.random,V_=ic.reverse,tp=us(F,"DataView"),ua=us(F,"Map"),np=us(F,"Promise"),el=us(F,"Set"),ca=us(F,"WeakMap"),fa=us(Ve,"create"),mc=ca&&new ca,tl={},W_=cs(tp),K_=cs(ua),q_=cs(np),G_=cs(el),X_=cs(ca),gc=ro?ro.prototype:n,da=gc?gc.valueOf:n,Xv=gc?gc.toString:n;function E(l){if(ut(l)&&!Ce(l)&&!(l instanceof De)){if(l instanceof Cr)return l;if(je.call(l,"__wrapped__"))return J1(l)}return new Cr(l)}var nl=function(){function l(){}return function(u){if(!tt(u))return{};if(Vv)return Vv(u);l.prototype=u;var h=new l;return l.prototype=n,h}}();function yc(){}function Cr(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}E.templateSettings={escape:li,evaluate:Yn,interpolate:yr,variable:"",imports:{_:E}},E.prototype=yc.prototype,E.prototype.constructor=E,Cr.prototype=nl(yc.prototype),Cr.prototype.constructor=Cr;function De(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function J_(){var l=new De(this.__wrapped__);return l.__actions__=zn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=zn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=zn(this.__views__),l}function Y_(){if(this.__filtered__){var l=new De(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Q_(){var l=this.__wrapped__.value(),u=this.__dir__,h=Ce(l),y=u<0,S=h?l.length:0,T=cO(0,S,this.__views__),N=T.start,O=T.end,L=O-N,$=y?O:N-1,H=this.__iteratees__,V=H.length,J=0,oe=tn(L,this.__takeCount__);if(!h||!y&&S==L&&oe==L)return x1(l,this.__actions__);var he=[];e:for(;L--&&J<oe;){$+=u;for(var Te=-1,pe=l[$];++Te<V;){var Oe=H[Te],Re=Oe.iteratee,rr=Oe.type,wn=Re(pe);if(rr==ee)pe=wn;else if(!wn){if(rr==le)continue e;break e}}he[J++]=pe}return he}De.prototype=nl(yc.prototype),De.prototype.constructor=De;function is(l){var u=-1,h=l==null?0:l.length;for(this.clear();++u<h;){var y=l[u];this.set(y[0],y[1])}}function Z_(){this.__data__=fa?fa(null):{},this.size=0}function eN(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function tN(l){var u=this.__data__;if(fa){var h=u[l];return h===c?n:h}return je.call(u,l)?u[l]:n}function nN(l){var u=this.__data__;return fa?u[l]!==n:je.call(u,l)}function rN(l,u){var h=this.__data__;return this.size+=this.has(l)?0:1,h[l]=fa&&u===n?c:u,this}is.prototype.clear=Z_,is.prototype.delete=eN,is.prototype.get=tN,is.prototype.has=nN,is.prototype.set=rN;function Ci(l){var u=-1,h=l==null?0:l.length;for(this.clear();++u<h;){var y=l[u];this.set(y[0],y[1])}}function iN(){this.__data__=[],this.size=0}function oN(l){var u=this.__data__,h=vc(u,l);if(h<0)return!1;var y=u.length-1;return h==y?u.pop():fc.call(u,h,1),--this.size,!0}function sN(l){var u=this.__data__,h=vc(u,l);return h<0?n:u[h][1]}function lN(l){return vc(this.__data__,l)>-1}function aN(l,u){var h=this.__data__,y=vc(h,l);return y<0?(++this.size,h.push([l,u])):h[y][1]=u,this}Ci.prototype.clear=iN,Ci.prototype.delete=oN,Ci.prototype.get=sN,Ci.prototype.has=lN,Ci.prototype.set=aN;function Ei(l){var u=-1,h=l==null?0:l.length;for(this.clear();++u<h;){var y=l[u];this.set(y[0],y[1])}}function uN(){this.size=0,this.__data__={hash:new is,map:new(ua||Ci),string:new is}}function cN(l){var u=Oc(this,l).delete(l);return this.size-=u?1:0,u}function fN(l){return Oc(this,l).get(l)}function dN(l){return Oc(this,l).has(l)}function hN(l,u){var h=Oc(this,l),y=h.size;return h.set(l,u),this.size+=h.size==y?0:1,this}Ei.prototype.clear=uN,Ei.prototype.delete=cN,Ei.prototype.get=fN,Ei.prototype.has=dN,Ei.prototype.set=hN;function ss(l){var u=-1,h=l==null?0:l.length;for(this.__data__=new Ei;++u<h;)this.add(l[u])}function pN(l){return this.__data__.set(l,c),this}function mN(l){return this.__data__.has(l)}ss.prototype.add=ss.prototype.push=pN,ss.prototype.has=mN;function Wr(l){var u=this.__data__=new Ci(l);this.size=u.size}function gN(){this.__data__=new Ci,this.size=0}function yN(l){var u=this.__data__,h=u.delete(l);return this.size=u.size,h}function vN(l){return this.__data__.get(l)}function xN(l){return this.__data__.has(l)}function wN(l,u){var h=this.__data__;if(h instanceof Ci){var y=h.__data__;if(!ua||y.length<i-1)return y.push([l,u]),this.size=++h.size,this;h=this.__data__=new Ei(y)}return h.set(l,u),this.size=h.size,this}Wr.prototype.clear=gN,Wr.prototype.delete=yN,Wr.prototype.get=vN,Wr.prototype.has=xN,Wr.prototype.set=wN;function Jv(l,u){var h=Ce(l),y=!h&&fs(l),S=!h&&!y&&ao(l),T=!h&&!y&&!S&&sl(l),N=h||y||S||T,O=N?Jh(l.length,O_):[],L=O.length;for(var $ in l)(u||je.call(l,$))&&!(N&&($=="length"||S&&($=="offset"||$=="parent")||T&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Ni($,L)))&&O.push($);return O}function Yv(l){var u=l.length;return u?l[hp(0,u-1)]:n}function SN(l,u){return Ac(zn(l),ls(u,0,l.length))}function kN(l){return Ac(zn(l))}function rp(l,u,h){(h!==n&&!Kr(l[u],h)||h===n&&!(u in l))&&Ti(l,u,h)}function ha(l,u,h){var y=l[u];(!(je.call(l,u)&&Kr(y,h))||h===n&&!(u in l))&&Ti(l,u,h)}function vc(l,u){for(var h=l.length;h--;)if(Kr(l[h][0],u))return h;return-1}function bN(l,u,h,y){return io(l,function(S,T,N){u(y,S,h(S),N)}),y}function Qv(l,u){return l&&ui(u,Rt(u),l)}function CN(l,u){return l&&ui(u,Fn(u),l)}function Ti(l,u,h){u=="__proto__"&&dc?dc(l,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):l[u]=h}function ip(l,u){for(var h=-1,y=u.length,S=z(y),T=l==null;++h<y;)S[h]=T?n:Bp(l,u[h]);return S}function ls(l,u,h){return l===l&&(h!==n&&(l=l<=h?l:h),u!==n&&(l=l>=u?l:u)),l}function Er(l,u,h,y,S,T){var N,O=u&p,L=u&m,$=u&g;if(h&&(N=S?h(l,y,S,T):h(l)),N!==n)return N;if(!tt(l))return l;var H=Ce(l);if(H){if(N=dO(l),!O)return zn(l,N)}else{var V=nn(l),J=V==et||V==xe;if(ao(l))return k1(l,O);if(V==Ht||V==Zt||J&&!S){if(N=L||J?{}:$1(l),!O)return L?tO(l,CN(N,l)):eO(l,Qv(N,l))}else{if(!Ke[V])return S?l:{};N=hO(l,V,O)}}T||(T=new Wr);var oe=T.get(l);if(oe)return oe;T.set(l,N),gx(l)?l.forEach(function(pe){N.add(Er(pe,u,h,pe,l,T))}):px(l)&&l.forEach(function(pe,Oe){N.set(Oe,Er(pe,u,h,Oe,l,T))});var he=$?L?Cp:bp:L?Fn:Rt,Te=H?n:he(l);return kr(Te||l,function(pe,Oe){Te&&(Oe=pe,pe=l[Oe]),ha(N,Oe,Er(pe,u,h,Oe,l,T))}),N}function EN(l){var u=Rt(l);return function(h){return Zv(h,l,u)}}function Zv(l,u,h){var y=h.length;if(l==null)return!y;for(l=Ve(l);y--;){var S=h[y],T=u[S],N=l[S];if(N===n&&!(S in l)||!T(N))return!1}return!0}function e1(l,u,h){if(typeof l!="function")throw new br(s);return wa(function(){l.apply(n,h)},u)}function pa(l,u,h,y){var S=-1,T=tc,N=!0,O=l.length,L=[],$=u.length;if(!O)return L;h&&(u=Qe(u,er(h))),y?(T=Vh,N=!1):u.length>=i&&(T=la,N=!1,u=new ss(u));e:for(;++S<O;){var H=l[S],V=h==null?H:h(H);if(H=y||H!==0?H:0,N&&V===V){for(var J=$;J--;)if(u[J]===V)continue e;L.push(H)}else T(u,V,y)||L.push(H)}return L}var io=M1(ai),t1=M1(sp,!0);function TN(l,u){var h=!0;return io(l,function(y,S,T){return h=!!u(y,S,T),h}),h}function xc(l,u,h){for(var y=-1,S=l.length;++y<S;){var T=l[y],N=u(T);if(N!=null&&(O===n?N===N&&!nr(N):h(N,O)))var O=N,L=T}return L}function MN(l,u,h,y){var S=l.length;for(h=Ee(h),h<0&&(h=-h>S?0:S+h),y=y===n||y>S?S:Ee(y),y<0&&(y+=S),y=h>y?0:vx(y);h<y;)l[h++]=u;return l}function n1(l,u){var h=[];return io(l,function(y,S,T){u(y,S,T)&&h.push(y)}),h}function Vt(l,u,h,y,S){var T=-1,N=l.length;for(h||(h=mO),S||(S=[]);++T<N;){var O=l[T];u>0&&h(O)?u>1?Vt(O,u-1,h,y,S):to(S,O):y||(S[S.length]=O)}return S}var op=_1(),r1=_1(!0);function ai(l,u){return l&&op(l,u,Rt)}function sp(l,u){return l&&r1(l,u,Rt)}function wc(l,u){return eo(u,function(h){return Oi(l[h])})}function as(l,u){u=so(u,l);for(var h=0,y=u.length;l!=null&&h<y;)l=l[ci(u[h++])];return h&&h==y?l:n}function i1(l,u,h){var y=u(l);return Ce(l)?y:to(y,h(l))}function vn(l){return l==null?l===n?bi:Qi:rs&&rs in Ve(l)?uO(l):kO(l)}function lp(l,u){return l>u}function _N(l,u){return l!=null&&je.call(l,u)}function NN(l,u){return l!=null&&u in Ve(l)}function ON(l,u,h){return l>=tn(u,h)&&l<Nt(u,h)}function ap(l,u,h){for(var y=h?Vh:tc,S=l[0].length,T=l.length,N=T,O=z(T),L=1/0,$=[];N--;){var H=l[N];N&&u&&(H=Qe(H,er(u))),L=tn(H.length,L),O[N]=!h&&(u||S>=120&&H.length>=120)?new ss(N&&H):n}H=l[0];var V=-1,J=O[0];e:for(;++V<S&&$.length<L;){var oe=H[V],he=u?u(oe):oe;if(oe=h||oe!==0?oe:0,!(J?la(J,he):y($,he,h))){for(N=T;--N;){var Te=O[N];if(!(Te?la(Te,he):y(l[N],he,h)))continue e}J&&J.push(he),$.push(oe)}}return $}function AN(l,u,h,y){return ai(l,function(S,T,N){u(y,h(S),T,N)}),y}function ma(l,u,h){u=so(u,l),l=W1(l,u);var y=l==null?l:l[ci(Mr(u))];return y==null?n:Zn(y,l,h)}function o1(l){return ut(l)&&vn(l)==Zt}function PN(l){return ut(l)&&vn(l)==Hr}function DN(l){return ut(l)&&vn(l)==Q}function ga(l,u,h,y,S){return l===u?!0:l==null||u==null||!ut(l)&&!ut(u)?l!==l&&u!==u:RN(l,u,h,y,ga,S)}function RN(l,u,h,y,S,T){var N=Ce(l),O=Ce(u),L=N?Mt:nn(l),$=O?Mt:nn(u);L=L==Zt?Ht:L,$=$==Zt?Ht:$;var H=L==Ht,V=$==Ht,J=L==$;if(J&&ao(l)){if(!ao(u))return!1;N=!0,H=!1}if(J&&!H)return T||(T=new Wr),N||sl(l)?B1(l,u,h,y,S,T):lO(l,u,L,h,y,S,T);if(!(h&x)){var oe=H&&je.call(l,"__wrapped__"),he=V&&je.call(u,"__wrapped__");if(oe||he){var Te=oe?l.value():l,pe=he?u.value():u;return T||(T=new Wr),S(Te,pe,h,y,T)}}return J?(T||(T=new Wr),aO(l,u,h,y,S,T)):!1}function IN(l){return ut(l)&&nn(l)==be}function up(l,u,h,y){var S=h.length,T=S,N=!y;if(l==null)return!T;for(l=Ve(l);S--;){var O=h[S];if(N&&O[2]?O[1]!==l[O[0]]:!(O[0]in l))return!1}for(;++S<T;){O=h[S];var L=O[0],$=l[L],H=O[1];if(N&&O[2]){if($===n&&!(L in l))return!1}else{var V=new Wr;if(y)var J=y($,H,L,l,u,V);if(!(J===n?ga(H,$,x|k,y,V):J))return!1}}return!0}function s1(l){if(!tt(l)||yO(l))return!1;var u=Oi(l)?I_:Ku;return u.test(cs(l))}function LN(l){return ut(l)&&vn(l)==Dt}function zN(l){return ut(l)&&nn(l)==Fe}function BN(l){return ut(l)&&zc(l.length)&&!!Ge[vn(l)]}function l1(l){return typeof l=="function"?l:l==null?jn:typeof l=="object"?Ce(l)?c1(l[0],l[1]):u1(l):Nx(l)}function cp(l){if(!xa(l))return $_(l);var u=[];for(var h in Ve(l))je.call(l,h)&&h!="constructor"&&u.push(h);return u}function FN(l){if(!tt(l))return SO(l);var u=xa(l),h=[];for(var y in l)y=="constructor"&&(u||!je.call(l,y))||h.push(y);return h}function fp(l,u){return l<u}function a1(l,u){var h=-1,y=Bn(l)?z(l.length):[];return io(l,function(S,T,N){y[++h]=u(S,T,N)}),y}function u1(l){var u=Tp(l);return u.length==1&&u[0][2]?U1(u[0][0],u[0][1]):function(h){return h===l||up(h,l,u)}}function c1(l,u){return _p(l)&&H1(u)?U1(ci(l),u):function(h){var y=Bp(h,l);return y===n&&y===u?Fp(h,l):ga(u,y,x|k)}}function Sc(l,u,h,y,S){l!==u&&op(u,function(T,N){if(S||(S=new Wr),tt(T))jN(l,u,N,h,Sc,y,S);else{var O=y?y(Op(l,N),T,N+"",l,u,S):n;O===n&&(O=T),rp(l,N,O)}},Fn)}function jN(l,u,h,y,S,T,N){var O=Op(l,h),L=Op(u,h),$=N.get(L);if($){rp(l,h,$);return}var H=T?T(O,L,h+"",l,u,N):n,V=H===n;if(V){var J=Ce(L),oe=!J&&ao(L),he=!J&&!oe&&sl(L);H=L,J||oe||he?Ce(O)?H=O:gt(O)?H=zn(O):oe?(V=!1,H=k1(L,!0)):he?(V=!1,H=b1(L,!0)):H=[]:Sa(L)||fs(L)?(H=O,fs(O)?H=xx(O):(!tt(O)||Oi(O))&&(H=$1(L))):V=!1}V&&(N.set(L,H),S(H,L,y,T,N),N.delete(L)),rp(l,h,H)}function f1(l,u){var h=l.length;if(h)return u+=u<0?h:0,Ni(u,h)?l[u]:n}function d1(l,u,h){u.length?u=Qe(u,function(T){return Ce(T)?function(N){return as(N,T.length===1?T[0]:T)}:T}):u=[jn];var y=-1;u=Qe(u,er(de()));var S=a1(l,function(T,N,O){var L=Qe(u,function($){return $(T)});return{criteria:L,index:++y,value:T}});return h_(S,function(T,N){return ZN(T,N,h)})}function $N(l,u){return h1(l,u,function(h,y){return Fp(l,y)})}function h1(l,u,h){for(var y=-1,S=u.length,T={};++y<S;){var N=u[y],O=as(l,N);h(O,N)&&ya(T,so(N,l),O)}return T}function HN(l){return function(u){return as(u,l)}}function dp(l,u,h,y){var S=y?d_:Xs,T=-1,N=u.length,O=l;for(l===u&&(u=zn(u)),h&&(O=Qe(l,er(h)));++T<N;)for(var L=0,$=u[T],H=h?h($):$;(L=S(O,H,L,y))>-1;)O!==l&&fc.call(O,L,1),fc.call(l,L,1);return l}function p1(l,u){for(var h=l?u.length:0,y=h-1;h--;){var S=u[h];if(h==y||S!==T){var T=S;Ni(S)?fc.call(l,S,1):gp(l,S)}}return l}function hp(l,u){return l+pc(Gv()*(u-l+1))}function UN(l,u,h,y){for(var S=-1,T=Nt(hc((u-l)/(h||1)),0),N=z(T);T--;)N[y?T:++S]=l,l+=h;return N}function pp(l,u){var h="";if(!l||u<1||u>W)return h;do u%2&&(h+=l),u=pc(u/2),u&&(l+=l);while(u);return h}function Ne(l,u){return Ap(V1(l,u,jn),l+"")}function VN(l){return Yv(ll(l))}function WN(l,u){var h=ll(l);return Ac(h,ls(u,0,h.length))}function ya(l,u,h,y){if(!tt(l))return l;u=so(u,l);for(var S=-1,T=u.length,N=T-1,O=l;O!=null&&++S<T;){var L=ci(u[S]),$=h;if(L==="__proto__"||L==="constructor"||L==="prototype")return l;if(S!=N){var H=O[L];$=y?y(H,L,O):n,$===n&&($=tt(H)?H:Ni(u[S+1])?[]:{})}ha(O,L,$),O=O[L]}return l}var m1=mc?function(l,u){return mc.set(l,u),l}:jn,KN=dc?function(l,u){return dc(l,"toString",{configurable:!0,enumerable:!1,value:$p(u),writable:!0})}:jn;function qN(l){return Ac(ll(l))}function Tr(l,u,h){var y=-1,S=l.length;u<0&&(u=-u>S?0:S+u),h=h>S?S:h,h<0&&(h+=S),S=u>h?0:h-u>>>0,u>>>=0;for(var T=z(S);++y<S;)T[y]=l[y+u];return T}function GN(l,u){var h;return io(l,function(y,S,T){return h=u(y,S,T),!h}),!!h}function kc(l,u,h){var y=0,S=l==null?y:l.length;if(typeof u=="number"&&u===u&&S<=fn){for(;y<S;){var T=y+S>>>1,N=l[T];N!==null&&!nr(N)&&(h?N<=u:N<u)?y=T+1:S=T}return S}return mp(l,u,jn,h)}function mp(l,u,h,y){var S=0,T=l==null?0:l.length;if(T===0)return 0;u=h(u);for(var N=u!==u,O=u===null,L=nr(u),$=u===n;S<T;){var H=pc((S+T)/2),V=h(l[H]),J=V!==n,oe=V===null,he=V===V,Te=nr(V);if(N)var pe=y||he;else $?pe=he&&(y||J):O?pe=he&&J&&(y||!oe):L?pe=he&&J&&!oe&&(y||!Te):oe||Te?pe=!1:pe=y?V<=u:V<u;pe?S=H+1:T=H}return tn(T,Ue)}function g1(l,u){for(var h=-1,y=l.length,S=0,T=[];++h<y;){var N=l[h],O=u?u(N):N;if(!h||!Kr(O,L)){var L=O;T[S++]=N===0?0:N}}return T}function y1(l){return typeof l=="number"?l:nr(l)?ie:+l}function tr(l){if(typeof l=="string")return l;if(Ce(l))return Qe(l,tr)+"";if(nr(l))return Xv?Xv.call(l):"";var u=l+"";return u=="0"&&1/l==-Se?"-0":u}function oo(l,u,h){var y=-1,S=tc,T=l.length,N=!0,O=[],L=O;if(h)N=!1,S=Vh;else if(T>=i){var $=u?null:oO(l);if($)return rc($);N=!1,S=la,L=new ss}else L=u?[]:O;e:for(;++y<T;){var H=l[y],V=u?u(H):H;if(H=h||H!==0?H:0,N&&V===V){for(var J=L.length;J--;)if(L[J]===V)continue e;u&&L.push(V),O.push(H)}else S(L,V,h)||(L!==O&&L.push(V),O.push(H))}return O}function gp(l,u){return u=so(u,l),l=W1(l,u),l==null||delete l[ci(Mr(u))]}function v1(l,u,h,y){return ya(l,u,h(as(l,u)),y)}function bc(l,u,h,y){for(var S=l.length,T=y?S:-1;(y?T--:++T<S)&&u(l[T],T,l););return h?Tr(l,y?0:T,y?T+1:S):Tr(l,y?T+1:0,y?S:T)}function x1(l,u){var h=l;return h instanceof De&&(h=h.value()),Wh(u,function(y,S){return S.func.apply(S.thisArg,to([y],S.args))},h)}function yp(l,u,h){var y=l.length;if(y<2)return y?oo(l[0]):[];for(var S=-1,T=z(y);++S<y;)for(var N=l[S],O=-1;++O<y;)O!=S&&(T[S]=pa(T[S]||N,l[O],u,h));return oo(Vt(T,1),u,h)}function w1(l,u,h){for(var y=-1,S=l.length,T=u.length,N={};++y<S;){var O=y<T?u[y]:n;h(N,l[y],O)}return N}function vp(l){return gt(l)?l:[]}function xp(l){return typeof l=="function"?l:jn}function so(l,u){return Ce(l)?l:_p(l,u)?[l]:X1(Be(l))}var XN=Ne;function lo(l,u,h){var y=l.length;return h=h===n?y:h,!u&&h>=y?l:Tr(l,u,h)}var S1=L_||function(l){return Ut.clearTimeout(l)};function k1(l,u){if(u)return l.slice();var h=l.length,y=Uv?Uv(h):new l.constructor(h);return l.copy(y),y}function wp(l){var u=new l.constructor(l.byteLength);return new uc(u).set(new uc(l)),u}function JN(l,u){var h=u?wp(l.buffer):l.buffer;return new l.constructor(h,l.byteOffset,l.byteLength)}function YN(l){var u=new l.constructor(l.source,yn.exec(l));return u.lastIndex=l.lastIndex,u}function QN(l){return da?Ve(da.call(l)):{}}function b1(l,u){var h=u?wp(l.buffer):l.buffer;return new l.constructor(h,l.byteOffset,l.length)}function C1(l,u){if(l!==u){var h=l!==n,y=l===null,S=l===l,T=nr(l),N=u!==n,O=u===null,L=u===u,$=nr(u);if(!O&&!$&&!T&&l>u||T&&N&&L&&!O&&!$||y&&N&&L||!h&&L||!S)return 1;if(!y&&!T&&!$&&l<u||$&&h&&S&&!y&&!T||O&&h&&S||!N&&S||!L)return-1}return 0}function ZN(l,u,h){for(var y=-1,S=l.criteria,T=u.criteria,N=S.length,O=h.length;++y<N;){var L=C1(S[y],T[y]);if(L){if(y>=O)return L;var $=h[y];return L*($=="desc"?-1:1)}}return l.index-u.index}function E1(l,u,h,y){for(var S=-1,T=l.length,N=h.length,O=-1,L=u.length,$=Nt(T-N,0),H=z(L+$),V=!y;++O<L;)H[O]=u[O];for(;++S<N;)(V||S<T)&&(H[h[S]]=l[S]);for(;$--;)H[O++]=l[S++];return H}function T1(l,u,h,y){for(var S=-1,T=l.length,N=-1,O=h.length,L=-1,$=u.length,H=Nt(T-O,0),V=z(H+$),J=!y;++S<H;)V[S]=l[S];for(var oe=S;++L<$;)V[oe+L]=u[L];for(;++N<O;)(J||S<T)&&(V[oe+h[N]]=l[S++]);return V}function zn(l,u){var h=-1,y=l.length;for(u||(u=z(y));++h<y;)u[h]=l[h];return u}function ui(l,u,h,y){var S=!h;h||(h={});for(var T=-1,N=u.length;++T<N;){var O=u[T],L=y?y(h[O],l[O],O,h,l):n;L===n&&(L=l[O]),S?Ti(h,O,L):ha(h,O,L)}return h}function eO(l,u){return ui(l,Mp(l),u)}function tO(l,u){return ui(l,F1(l),u)}function Cc(l,u){return function(h,y){var S=Ce(h)?s_:bN,T=u?u():{};return S(h,l,de(y,2),T)}}function rl(l){return Ne(function(u,h){var y=-1,S=h.length,T=S>1?h[S-1]:n,N=S>2?h[2]:n;for(T=l.length>3&&typeof T=="function"?(S--,T):n,N&&xn(h[0],h[1],N)&&(T=S<3?n:T,S=1),u=Ve(u);++y<S;){var O=h[y];O&&l(u,O,y,T)}return u})}function M1(l,u){return function(h,y){if(h==null)return h;if(!Bn(h))return l(h,y);for(var S=h.length,T=u?S:-1,N=Ve(h);(u?T--:++T<S)&&y(N[T],T,N)!==!1;);return h}}function _1(l){return function(u,h,y){for(var S=-1,T=Ve(u),N=y(u),O=N.length;O--;){var L=N[l?O:++S];if(h(T[L],L,T)===!1)break}return u}}function nO(l,u,h){var y=u&b,S=va(l);function T(){var N=this&&this!==Ut&&this instanceof T?S:l;return N.apply(y?h:this,arguments)}return T}function N1(l){return function(u){u=Be(u);var h=Js(u)?Vr(u):n,y=h?h[0]:u.charAt(0),S=h?lo(h,1).join(""):u.slice(1);return y[l]()+S}}function il(l){return function(u){return Wh(Mx(Tx(u).replace(KM,"")),l,"")}}function va(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=nl(l.prototype),y=l.apply(h,u);return tt(y)?y:h}}function rO(l,u,h){var y=va(l);function S(){for(var T=arguments.length,N=z(T),O=T,L=ol(S);O--;)N[O]=arguments[O];var $=T<3&&N[0]!==L&&N[T-1]!==L?[]:no(N,L);if(T-=$.length,T<h)return R1(l,u,Ec,S.placeholder,n,N,$,n,n,h-T);var H=this&&this!==Ut&&this instanceof S?y:l;return Zn(H,this,N)}return S}function O1(l){return function(u,h,y){var S=Ve(u);if(!Bn(u)){var T=de(h,3);u=Rt(u),h=function(O){return T(S[O],O,S)}}var N=l(u,h,y);return N>-1?S[T?u[N]:N]:n}}function A1(l){return _i(function(u){var h=u.length,y=h,S=Cr.prototype.thru;for(l&&u.reverse();y--;){var T=u[y];if(typeof T!="function")throw new br(s);if(S&&!N&&Nc(T)=="wrapper")var N=new Cr([],!0)}for(y=N?y:h;++y<h;){T=u[y];var O=Nc(T),L=O=="wrapper"?Ep(T):n;L&&Np(L[0])&&L[1]==(P|C|M|D)&&!L[4].length&&L[9]==1?N=N[Nc(L[0])].apply(N,L[3]):N=T.length==1&&Np(T)?N[O]():N.thru(T)}return function(){var $=arguments,H=$[0];if(N&&$.length==1&&Ce(H))return N.plant(H).value();for(var V=0,J=h?u[V].apply(this,$):H;++V<h;)J=u[V].call(this,J);return J}})}function Ec(l,u,h,y,S,T,N,O,L,$){var H=u&P,V=u&b,J=u&w,oe=u&(C|_),he=u&B,Te=J?n:va(l);function pe(){for(var Oe=arguments.length,Re=z(Oe),rr=Oe;rr--;)Re[rr]=arguments[rr];if(oe)var wn=ol(pe),ir=m_(Re,wn);if(y&&(Re=E1(Re,y,S,oe)),T&&(Re=T1(Re,T,N,oe)),Oe-=ir,oe&&Oe<$){var yt=no(Re,wn);return R1(l,u,Ec,pe.placeholder,h,Re,yt,O,L,$-Oe)}var qr=V?h:this,Pi=J?qr[l]:l;return Oe=Re.length,O?Re=bO(Re,O):he&&Oe>1&&Re.reverse(),H&&L<Oe&&(Re.length=L),this&&this!==Ut&&this instanceof pe&&(Pi=Te||va(Pi)),Pi.apply(qr,Re)}return pe}function P1(l,u){return function(h,y){return AN(h,l,u(y),{})}}function Tc(l,u){return function(h,y){var S;if(h===n&&y===n)return u;if(h!==n&&(S=h),y!==n){if(S===n)return y;typeof h=="string"||typeof y=="string"?(h=tr(h),y=tr(y)):(h=y1(h),y=y1(y)),S=l(h,y)}return S}}function Sp(l){return _i(function(u){return u=Qe(u,er(de())),Ne(function(h){var y=this;return l(u,function(S){return Zn(S,y,h)})})})}function Mc(l,u){u=u===n?" ":tr(u);var h=u.length;if(h<2)return h?pp(u,l):u;var y=pp(u,hc(l/Ys(u)));return Js(u)?lo(Vr(y),0,l).join(""):y.slice(0,l)}function iO(l,u,h,y){var S=u&b,T=va(l);function N(){for(var O=-1,L=arguments.length,$=-1,H=y.length,V=z(H+L),J=this&&this!==Ut&&this instanceof N?T:l;++$<H;)V[$]=y[$];for(;L--;)V[$++]=arguments[++O];return Zn(J,S?h:this,V)}return N}function D1(l){return function(u,h,y){return y&&typeof y!="number"&&xn(u,h,y)&&(h=y=n),u=Ai(u),h===n?(h=u,u=0):h=Ai(h),y=y===n?u<h?1:-1:Ai(y),UN(u,h,y,l)}}function _c(l){return function(u,h){return typeof u=="string"&&typeof h=="string"||(u=_r(u),h=_r(h)),l(u,h)}}function R1(l,u,h,y,S,T,N,O,L,$){var H=u&C,V=H?N:n,J=H?n:N,oe=H?T:n,he=H?n:T;u|=H?M:A,u&=~(H?A:M),u&v||(u&=-4);var Te=[l,u,S,oe,V,he,J,O,L,$],pe=h.apply(n,Te);return Np(l)&&K1(pe,Te),pe.placeholder=y,q1(pe,l,u)}function kp(l){var u=_t[l];return function(h,y){if(h=_r(h),y=y==null?0:tn(Ee(y),292),y&&qv(h)){var S=(Be(h)+"e").split("e"),T=u(S[0]+"e"+(+S[1]+y));return S=(Be(T)+"e").split("e"),+(S[0]+"e"+(+S[1]-y))}return u(h)}}var oO=el&&1/rc(new el([,-0]))[1]==Se?function(l){return new el(l)}:Vp;function I1(l){return function(u){var h=nn(u);return h==be?Qh(u):h==Fe?k_(u):p_(u,l(u))}}function Mi(l,u,h,y,S,T,N,O){var L=u&w;if(!L&&typeof l!="function")throw new br(s);var $=y?y.length:0;if($||(u&=-97,y=S=n),N=N===n?N:Nt(Ee(N),0),O=O===n?O:Ee(O),$-=S?S.length:0,u&A){var H=y,V=S;y=S=n}var J=L?n:Ep(l),oe=[l,u,h,y,S,H,V,T,N,O];if(J&&wO(oe,J),l=oe[0],u=oe[1],h=oe[2],y=oe[3],S=oe[4],O=oe[9]=oe[9]===n?L?0:l.length:Nt(oe[9]-$,0),!O&&u&(C|_)&&(u&=-25),!u||u==b)var he=nO(l,u,h);else u==C||u==_?he=rO(l,u,O):(u==M||u==(b|M))&&!S.length?he=iO(l,u,h,y):he=Ec.apply(n,oe);var Te=J?m1:K1;return q1(Te(he,oe),l,u)}function L1(l,u,h,y){return l===n||Kr(l,Zs[h])&&!je.call(y,h)?u:l}function z1(l,u,h,y,S,T){return tt(l)&&tt(u)&&(T.set(u,l),Sc(l,u,n,z1,T),T.delete(u)),l}function sO(l){return Sa(l)?n:l}function B1(l,u,h,y,S,T){var N=h&x,O=l.length,L=u.length;if(O!=L&&!(N&&L>O))return!1;var $=T.get(l),H=T.get(u);if($&&H)return $==u&&H==l;var V=-1,J=!0,oe=h&k?new ss:n;for(T.set(l,u),T.set(u,l);++V<O;){var he=l[V],Te=u[V];if(y)var pe=N?y(Te,he,V,u,l,T):y(he,Te,V,l,u,T);if(pe!==n){if(pe)continue;J=!1;break}if(oe){if(!Kh(u,function(Oe,Re){if(!la(oe,Re)&&(he===Oe||S(he,Oe,h,y,T)))return oe.push(Re)})){J=!1;break}}else if(!(he===Te||S(he,Te,h,y,T))){J=!1;break}}return T.delete(l),T.delete(u),J}function lO(l,u,h,y,S,T,N){switch(h){case Gn:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case Hr:return!(l.byteLength!=u.byteLength||!T(new uc(l),new uc(u)));case j:case Q:case On:return Kr(+l,+u);case ge:return l.name==u.name&&l.message==u.message;case Dt:case St:return l==u+"";case be:var O=Qh;case Fe:var L=y&x;if(O||(O=rc),l.size!=u.size&&!L)return!1;var $=N.get(l);if($)return $==u;y|=k,N.set(l,u);var H=B1(O(l),O(u),y,S,T,N);return N.delete(l),H;case kt:if(da)return da.call(l)==da.call(u)}return!1}function aO(l,u,h,y,S,T){var N=h&x,O=bp(l),L=O.length,$=bp(u),H=$.length;if(L!=H&&!N)return!1;for(var V=L;V--;){var J=O[V];if(!(N?J in u:je.call(u,J)))return!1}var oe=T.get(l),he=T.get(u);if(oe&&he)return oe==u&&he==l;var Te=!0;T.set(l,u),T.set(u,l);for(var pe=N;++V<L;){J=O[V];var Oe=l[J],Re=u[J];if(y)var rr=N?y(Re,Oe,J,u,l,T):y(Oe,Re,J,l,u,T);if(!(rr===n?Oe===Re||S(Oe,Re,h,y,T):rr)){Te=!1;break}pe||(pe=J=="constructor")}if(Te&&!pe){var wn=l.constructor,ir=u.constructor;wn!=ir&&"constructor"in l&&"constructor"in u&&!(typeof wn=="function"&&wn instanceof wn&&typeof ir=="function"&&ir instanceof ir)&&(Te=!1)}return T.delete(l),T.delete(u),Te}function _i(l){return Ap(V1(l,n,Z1),l+"")}function bp(l){return i1(l,Rt,Mp)}function Cp(l){return i1(l,Fn,F1)}var Ep=mc?function(l){return mc.get(l)}:Vp;function Nc(l){for(var u=l.name+"",h=tl[u],y=je.call(tl,u)?h.length:0;y--;){var S=h[y],T=S.func;if(T==null||T==l)return S.name}return u}function ol(l){var u=je.call(E,"placeholder")?E:l;return u.placeholder}function de(){var l=E.iteratee||Hp;return l=l===Hp?l1:l,arguments.length?l(arguments[0],arguments[1]):l}function Oc(l,u){var h=l.__data__;return gO(u)?h[typeof u=="string"?"string":"hash"]:h.map}function Tp(l){for(var u=Rt(l),h=u.length;h--;){var y=u[h],S=l[y];u[h]=[y,S,H1(S)]}return u}function us(l,u){var h=x_(l,u);return s1(h)?h:n}function uO(l){var u=je.call(l,rs),h=l[rs];try{l[rs]=n;var y=!0}catch{}var S=lc.call(l);return y&&(u?l[rs]=h:delete l[rs]),S}var Mp=ep?function(l){return l==null?[]:(l=Ve(l),eo(ep(l),function(u){return Wv.call(l,u)}))}:Wp,F1=ep?function(l){for(var u=[];l;)to(u,Mp(l)),l=cc(l);return u}:Wp,nn=vn;(tp&&nn(new tp(new ArrayBuffer(1)))!=Gn||ua&&nn(new ua)!=be||np&&nn(np.resolve())!=An||el&&nn(new el)!=Fe||ca&&nn(new ca)!=$r)&&(nn=function(l){var u=vn(l),h=u==Ht?l.constructor:n,y=h?cs(h):"";if(y)switch(y){case W_:return Gn;case K_:return be;case q_:return An;case G_:return Fe;case X_:return $r}return u});function cO(l,u,h){for(var y=-1,S=h.length;++y<S;){var T=h[y],N=T.size;switch(T.type){case"drop":l+=N;break;case"dropRight":u-=N;break;case"take":u=tn(u,l+N);break;case"takeRight":l=Nt(l,u-N);break}}return{start:l,end:u}}function fO(l){var u=l.match(wr);return u?u[1].split(Rh):[]}function j1(l,u,h){u=so(u,l);for(var y=-1,S=u.length,T=!1;++y<S;){var N=ci(u[y]);if(!(T=l!=null&&h(l,N)))break;l=l[N]}return T||++y!=S?T:(S=l==null?0:l.length,!!S&&zc(S)&&Ni(N,S)&&(Ce(l)||fs(l)))}function dO(l){var u=l.length,h=new l.constructor(u);return u&&typeof l[0]=="string"&&je.call(l,"index")&&(h.index=l.index,h.input=l.input),h}function $1(l){return typeof l.constructor=="function"&&!xa(l)?nl(cc(l)):{}}function hO(l,u,h){var y=l.constructor;switch(u){case Hr:return wp(l);case j:case Q:return new y(+l);case Gn:return JN(l,h);case lt:case re:case Pe:case Le:case Zi:case Pn:case Xn:case pt:case at:return b1(l,h);case be:return new y;case On:case St:return new y(l);case Dt:return YN(l);case Fe:return new y;case kt:return QN(l)}}function pO(l,u){var h=u.length;if(!h)return l;var y=h-1;return u[y]=(h>1?"& ":"")+u[y],u=u.join(h>2?", ":" "),l.replace(xr,`{
/* [wrapped with `+u+`] */
`)}function mO(l){return Ce(l)||fs(l)||!!(Kv&&l&&l[Kv])}function Ni(l,u){var h=typeof l;return u=u??W,!!u&&(h=="number"||h!="symbol"&&Gu.test(l))&&l>-1&&l%1==0&&l<u}function xn(l,u,h){if(!tt(h))return!1;var y=typeof u;return(y=="number"?Bn(h)&&Ni(u,h.length):y=="string"&&u in h)?Kr(h[u],l):!1}function _p(l,u){if(Ce(l))return!1;var h=typeof l;return h=="number"||h=="symbol"||h=="boolean"||l==null||nr(l)?!0:vr.test(l)||!en.test(l)||u!=null&&l in Ve(u)}function gO(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function Np(l){var u=Nc(l),h=E[u];if(typeof h!="function"||!(u in De.prototype))return!1;if(l===h)return!0;var y=Ep(h);return!!y&&l===y[0]}function yO(l){return!!Hv&&Hv in l}var vO=oc?Oi:Kp;function xa(l){var u=l&&l.constructor,h=typeof u=="function"&&u.prototype||Zs;return l===h}function H1(l){return l===l&&!tt(l)}function U1(l,u){return function(h){return h==null?!1:h[l]===u&&(u!==n||l in Ve(h))}}function xO(l){var u=Ic(l,function(y){return h.size===f&&h.clear(),y}),h=u.cache;return u}function wO(l,u){var h=l[1],y=u[1],S=h|y,T=S<(b|w|P),N=y==P&&h==C||y==P&&h==D&&l[7].length<=u[8]||y==(P|D)&&u[7].length<=u[8]&&h==C;if(!(T||N))return l;y&b&&(l[2]=u[2],S|=h&b?0:v);var O=u[3];if(O){var L=l[3];l[3]=L?E1(L,O,u[4]):O,l[4]=L?no(l[3],d):u[4]}return O=u[5],O&&(L=l[5],l[5]=L?T1(L,O,u[6]):O,l[6]=L?no(l[5],d):u[6]),O=u[7],O&&(l[7]=O),y&P&&(l[8]=l[8]==null?u[8]:tn(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=S,l}function SO(l){var u=[];if(l!=null)for(var h in Ve(l))u.push(h);return u}function kO(l){return lc.call(l)}function V1(l,u,h){return u=Nt(u===n?l.length-1:u,0),function(){for(var y=arguments,S=-1,T=Nt(y.length-u,0),N=z(T);++S<T;)N[S]=y[u+S];S=-1;for(var O=z(u+1);++S<u;)O[S]=y[S];return O[u]=h(N),Zn(l,this,O)}}function W1(l,u){return u.length<2?l:as(l,Tr(u,0,-1))}function bO(l,u){for(var h=l.length,y=tn(u.length,h),S=zn(l);y--;){var T=u[y];l[y]=Ni(T,h)?S[T]:n}return l}function Op(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var K1=G1(m1),wa=B_||function(l,u){return Ut.setTimeout(l,u)},Ap=G1(KN);function q1(l,u,h){var y=u+"";return Ap(l,pO(y,CO(fO(y),h)))}function G1(l){var u=0,h=0;return function(){var y=H_(),S=Y-(y-h);if(h=y,S>0){if(++u>=me)return arguments[0]}else u=0;return l.apply(n,arguments)}}function Ac(l,u){var h=-1,y=l.length,S=y-1;for(u=u===n?y:u;++h<u;){var T=hp(h,S),N=l[T];l[T]=l[h],l[h]=N}return l.length=u,l}var X1=xO(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(es,function(h,y,S,T){u.push(S?T.replace(gn,"$1"):y||h)}),u});function ci(l){if(typeof l=="string"||nr(l))return l;var u=l+"";return u=="0"&&1/l==-Se?"-0":u}function cs(l){if(l!=null){try{return sc.call(l)}catch{}try{return l+""}catch{}}return""}function CO(l,u){return kr($t,function(h){var y="_."+h[0];u&h[1]&&!tc(l,y)&&l.push(y)}),l.sort()}function J1(l){if(l instanceof De)return l.clone();var u=new Cr(l.__wrapped__,l.__chain__);return u.__actions__=zn(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function EO(l,u,h){(h?xn(l,u,h):u===n)?u=1:u=Nt(Ee(u),0);var y=l==null?0:l.length;if(!y||u<1)return[];for(var S=0,T=0,N=z(hc(y/u));S<y;)N[T++]=Tr(l,S,S+=u);return N}function TO(l){for(var u=-1,h=l==null?0:l.length,y=0,S=[];++u<h;){var T=l[u];T&&(S[y++]=T)}return S}function MO(){var l=arguments.length;if(!l)return[];for(var u=z(l-1),h=arguments[0],y=l;y--;)u[y-1]=arguments[y];return to(Ce(h)?zn(h):[h],Vt(u,1))}var _O=Ne(function(l,u){return gt(l)?pa(l,Vt(u,1,gt,!0)):[]}),NO=Ne(function(l,u){var h=Mr(u);return gt(h)&&(h=n),gt(l)?pa(l,Vt(u,1,gt,!0),de(h,2)):[]}),OO=Ne(function(l,u){var h=Mr(u);return gt(h)&&(h=n),gt(l)?pa(l,Vt(u,1,gt,!0),n,h):[]});function AO(l,u,h){var y=l==null?0:l.length;return y?(u=h||u===n?1:Ee(u),Tr(l,u<0?0:u,y)):[]}function PO(l,u,h){var y=l==null?0:l.length;return y?(u=h||u===n?1:Ee(u),u=y-u,Tr(l,0,u<0?0:u)):[]}function DO(l,u){return l&&l.length?bc(l,de(u,3),!0,!0):[]}function RO(l,u){return l&&l.length?bc(l,de(u,3),!0):[]}function IO(l,u,h,y){var S=l==null?0:l.length;return S?(h&&typeof h!="number"&&xn(l,u,h)&&(h=0,y=S),MN(l,u,h,y)):[]}function Y1(l,u,h){var y=l==null?0:l.length;if(!y)return-1;var S=h==null?0:Ee(h);return S<0&&(S=Nt(y+S,0)),nc(l,de(u,3),S)}function Q1(l,u,h){var y=l==null?0:l.length;if(!y)return-1;var S=y-1;return h!==n&&(S=Ee(h),S=h<0?Nt(y+S,0):tn(S,y-1)),nc(l,de(u,3),S,!0)}function Z1(l){var u=l==null?0:l.length;return u?Vt(l,1):[]}function LO(l){var u=l==null?0:l.length;return u?Vt(l,Se):[]}function zO(l,u){var h=l==null?0:l.length;return h?(u=u===n?1:Ee(u),Vt(l,u)):[]}function BO(l){for(var u=-1,h=l==null?0:l.length,y={};++u<h;){var S=l[u];y[S[0]]=S[1]}return y}function ex(l){return l&&l.length?l[0]:n}function FO(l,u,h){var y=l==null?0:l.length;if(!y)return-1;var S=h==null?0:Ee(h);return S<0&&(S=Nt(y+S,0)),Xs(l,u,S)}function jO(l){var u=l==null?0:l.length;return u?Tr(l,0,-1):[]}var $O=Ne(function(l){var u=Qe(l,vp);return u.length&&u[0]===l[0]?ap(u):[]}),HO=Ne(function(l){var u=Mr(l),h=Qe(l,vp);return u===Mr(h)?u=n:h.pop(),h.length&&h[0]===l[0]?ap(h,de(u,2)):[]}),UO=Ne(function(l){var u=Mr(l),h=Qe(l,vp);return u=typeof u=="function"?u:n,u&&h.pop(),h.length&&h[0]===l[0]?ap(h,n,u):[]});function VO(l,u){return l==null?"":j_.call(l,u)}function Mr(l){var u=l==null?0:l.length;return u?l[u-1]:n}function WO(l,u,h){var y=l==null?0:l.length;if(!y)return-1;var S=y;return h!==n&&(S=Ee(h),S=S<0?Nt(y+S,0):tn(S,y-1)),u===u?C_(l,u,S):nc(l,Rv,S,!0)}function KO(l,u){return l&&l.length?f1(l,Ee(u)):n}var qO=Ne(tx);function tx(l,u){return l&&l.length&&u&&u.length?dp(l,u):l}function GO(l,u,h){return l&&l.length&&u&&u.length?dp(l,u,de(h,2)):l}function XO(l,u,h){return l&&l.length&&u&&u.length?dp(l,u,n,h):l}var JO=_i(function(l,u){var h=l==null?0:l.length,y=ip(l,u);return p1(l,Qe(u,function(S){return Ni(S,h)?+S:S}).sort(C1)),y});function YO(l,u){var h=[];if(!(l&&l.length))return h;var y=-1,S=[],T=l.length;for(u=de(u,3);++y<T;){var N=l[y];u(N,y,l)&&(h.push(N),S.push(y))}return p1(l,S),h}function Pp(l){return l==null?l:V_.call(l)}function QO(l,u,h){var y=l==null?0:l.length;return y?(h&&typeof h!="number"&&xn(l,u,h)?(u=0,h=y):(u=u==null?0:Ee(u),h=h===n?y:Ee(h)),Tr(l,u,h)):[]}function ZO(l,u){return kc(l,u)}function eA(l,u,h){return mp(l,u,de(h,2))}function tA(l,u){var h=l==null?0:l.length;if(h){var y=kc(l,u);if(y<h&&Kr(l[y],u))return y}return-1}function nA(l,u){return kc(l,u,!0)}function rA(l,u,h){return mp(l,u,de(h,2),!0)}function iA(l,u){var h=l==null?0:l.length;if(h){var y=kc(l,u,!0)-1;if(Kr(l[y],u))return y}return-1}function oA(l){return l&&l.length?g1(l):[]}function sA(l,u){return l&&l.length?g1(l,de(u,2)):[]}function lA(l){var u=l==null?0:l.length;return u?Tr(l,1,u):[]}function aA(l,u,h){return l&&l.length?(u=h||u===n?1:Ee(u),Tr(l,0,u<0?0:u)):[]}function uA(l,u,h){var y=l==null?0:l.length;return y?(u=h||u===n?1:Ee(u),u=y-u,Tr(l,u<0?0:u,y)):[]}function cA(l,u){return l&&l.length?bc(l,de(u,3),!1,!0):[]}function fA(l,u){return l&&l.length?bc(l,de(u,3)):[]}var dA=Ne(function(l){return oo(Vt(l,1,gt,!0))}),hA=Ne(function(l){var u=Mr(l);return gt(u)&&(u=n),oo(Vt(l,1,gt,!0),de(u,2))}),pA=Ne(function(l){var u=Mr(l);return u=typeof u=="function"?u:n,oo(Vt(l,1,gt,!0),n,u)});function mA(l){return l&&l.length?oo(l):[]}function gA(l,u){return l&&l.length?oo(l,de(u,2)):[]}function yA(l,u){return u=typeof u=="function"?u:n,l&&l.length?oo(l,n,u):[]}function Dp(l){if(!(l&&l.length))return[];var u=0;return l=eo(l,function(h){if(gt(h))return u=Nt(h.length,u),!0}),Jh(u,function(h){return Qe(l,qh(h))})}function nx(l,u){if(!(l&&l.length))return[];var h=Dp(l);return u==null?h:Qe(h,function(y){return Zn(u,n,y)})}var vA=Ne(function(l,u){return gt(l)?pa(l,u):[]}),xA=Ne(function(l){return yp(eo(l,gt))}),wA=Ne(function(l){var u=Mr(l);return gt(u)&&(u=n),yp(eo(l,gt),de(u,2))}),SA=Ne(function(l){var u=Mr(l);return u=typeof u=="function"?u:n,yp(eo(l,gt),n,u)}),kA=Ne(Dp);function bA(l,u){return w1(l||[],u||[],ha)}function CA(l,u){return w1(l||[],u||[],ya)}var EA=Ne(function(l){var u=l.length,h=u>1?l[u-1]:n;return h=typeof h=="function"?(l.pop(),h):n,nx(l,h)});function rx(l){var u=E(l);return u.__chain__=!0,u}function TA(l,u){return u(l),l}function Pc(l,u){return u(l)}var MA=_i(function(l){var u=l.length,h=u?l[0]:0,y=this.__wrapped__,S=function(T){return ip(T,l)};return u>1||this.__actions__.length||!(y instanceof De)||!Ni(h)?this.thru(S):(y=y.slice(h,+h+(u?1:0)),y.__actions__.push({func:Pc,args:[S],thisArg:n}),new Cr(y,this.__chain__).thru(function(T){return u&&!T.length&&T.push(n),T}))});function _A(){return rx(this)}function NA(){return new Cr(this.value(),this.__chain__)}function OA(){this.__values__===n&&(this.__values__=yx(this.value()));var l=this.__index__>=this.__values__.length,u=l?n:this.__values__[this.__index__++];return{done:l,value:u}}function AA(){return this}function PA(l){for(var u,h=this;h instanceof yc;){var y=J1(h);y.__index__=0,y.__values__=n,u?S.__wrapped__=y:u=y;var S=y;h=h.__wrapped__}return S.__wrapped__=l,u}function DA(){var l=this.__wrapped__;if(l instanceof De){var u=l;return this.__actions__.length&&(u=new De(this)),u=u.reverse(),u.__actions__.push({func:Pc,args:[Pp],thisArg:n}),new Cr(u,this.__chain__)}return this.thru(Pp)}function RA(){return x1(this.__wrapped__,this.__actions__)}var IA=Cc(function(l,u,h){je.call(l,h)?++l[h]:Ti(l,h,1)});function LA(l,u,h){var y=Ce(l)?Pv:TN;return h&&xn(l,u,h)&&(u=n),y(l,de(u,3))}function zA(l,u){var h=Ce(l)?eo:n1;return h(l,de(u,3))}var BA=O1(Y1),FA=O1(Q1);function jA(l,u){return Vt(Dc(l,u),1)}function $A(l,u){return Vt(Dc(l,u),Se)}function HA(l,u,h){return h=h===n?1:Ee(h),Vt(Dc(l,u),h)}function ix(l,u){var h=Ce(l)?kr:io;return h(l,de(u,3))}function ox(l,u){var h=Ce(l)?l_:t1;return h(l,de(u,3))}var UA=Cc(function(l,u,h){je.call(l,h)?l[h].push(u):Ti(l,h,[u])});function VA(l,u,h,y){l=Bn(l)?l:ll(l),h=h&&!y?Ee(h):0;var S=l.length;return h<0&&(h=Nt(S+h,0)),Bc(l)?h<=S&&l.indexOf(u,h)>-1:!!S&&Xs(l,u,h)>-1}var WA=Ne(function(l,u,h){var y=-1,S=typeof u=="function",T=Bn(l)?z(l.length):[];return io(l,function(N){T[++y]=S?Zn(u,N,h):ma(N,u,h)}),T}),KA=Cc(function(l,u,h){Ti(l,h,u)});function Dc(l,u){var h=Ce(l)?Qe:a1;return h(l,de(u,3))}function qA(l,u,h,y){return l==null?[]:(Ce(u)||(u=u==null?[]:[u]),h=y?n:h,Ce(h)||(h=h==null?[]:[h]),d1(l,u,h))}var GA=Cc(function(l,u,h){l[h?0:1].push(u)},function(){return[[],[]]});function XA(l,u,h){var y=Ce(l)?Wh:Lv,S=arguments.length<3;return y(l,de(u,4),h,S,io)}function JA(l,u,h){var y=Ce(l)?a_:Lv,S=arguments.length<3;return y(l,de(u,4),h,S,t1)}function YA(l,u){var h=Ce(l)?eo:n1;return h(l,Lc(de(u,3)))}function QA(l){var u=Ce(l)?Yv:VN;return u(l)}function ZA(l,u,h){(h?xn(l,u,h):u===n)?u=1:u=Ee(u);var y=Ce(l)?SN:WN;return y(l,u)}function e2(l){var u=Ce(l)?kN:qN;return u(l)}function t2(l){if(l==null)return 0;if(Bn(l))return Bc(l)?Ys(l):l.length;var u=nn(l);return u==be||u==Fe?l.size:cp(l).length}function n2(l,u,h){var y=Ce(l)?Kh:GN;return h&&xn(l,u,h)&&(u=n),y(l,de(u,3))}var r2=Ne(function(l,u){if(l==null)return[];var h=u.length;return h>1&&xn(l,u[0],u[1])?u=[]:h>2&&xn(u[0],u[1],u[2])&&(u=[u[0]]),d1(l,Vt(u,1),[])}),Rc=z_||function(){return Ut.Date.now()};function i2(l,u){if(typeof u!="function")throw new br(s);return l=Ee(l),function(){if(--l<1)return u.apply(this,arguments)}}function sx(l,u,h){return u=h?n:u,u=l&&u==null?l.length:u,Mi(l,P,n,n,n,n,u)}function lx(l,u){var h;if(typeof u!="function")throw new br(s);return l=Ee(l),function(){return--l>0&&(h=u.apply(this,arguments)),l<=1&&(u=n),h}}var Rp=Ne(function(l,u,h){var y=b;if(h.length){var S=no(h,ol(Rp));y|=M}return Mi(l,y,u,h,S)}),ax=Ne(function(l,u,h){var y=b|w;if(h.length){var S=no(h,ol(ax));y|=M}return Mi(u,y,l,h,S)});function ux(l,u,h){u=h?n:u;var y=Mi(l,C,n,n,n,n,n,u);return y.placeholder=ux.placeholder,y}function cx(l,u,h){u=h?n:u;var y=Mi(l,_,n,n,n,n,n,u);return y.placeholder=cx.placeholder,y}function fx(l,u,h){var y,S,T,N,O,L,$=0,H=!1,V=!1,J=!0;if(typeof l!="function")throw new br(s);u=_r(u)||0,tt(h)&&(H=!!h.leading,V="maxWait"in h,T=V?Nt(_r(h.maxWait)||0,u):T,J="trailing"in h?!!h.trailing:J);function oe(yt){var qr=y,Pi=S;return y=S=n,$=yt,N=l.apply(Pi,qr),N}function he(yt){return $=yt,O=wa(Oe,u),H?oe(yt):N}function Te(yt){var qr=yt-L,Pi=yt-$,Ox=u-qr;return V?tn(Ox,T-Pi):Ox}function pe(yt){var qr=yt-L,Pi=yt-$;return L===n||qr>=u||qr<0||V&&Pi>=T}function Oe(){var yt=Rc();if(pe(yt))return Re(yt);O=wa(Oe,Te(yt))}function Re(yt){return O=n,J&&y?oe(yt):(y=S=n,N)}function rr(){O!==n&&S1(O),$=0,y=L=S=O=n}function wn(){return O===n?N:Re(Rc())}function ir(){var yt=Rc(),qr=pe(yt);if(y=arguments,S=this,L=yt,qr){if(O===n)return he(L);if(V)return S1(O),O=wa(Oe,u),oe(L)}return O===n&&(O=wa(Oe,u)),N}return ir.cancel=rr,ir.flush=wn,ir}var o2=Ne(function(l,u){return e1(l,1,u)}),s2=Ne(function(l,u,h){return e1(l,_r(u)||0,h)});function l2(l){return Mi(l,B)}function Ic(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new br(s);var h=function(){var y=arguments,S=u?u.apply(this,y):y[0],T=h.cache;if(T.has(S))return T.get(S);var N=l.apply(this,y);return h.cache=T.set(S,N)||T,N};return h.cache=new(Ic.Cache||Ei),h}Ic.Cache=Ei;function Lc(l){if(typeof l!="function")throw new br(s);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function a2(l){return lx(2,l)}var u2=XN(function(l,u){u=u.length==1&&Ce(u[0])?Qe(u[0],er(de())):Qe(Vt(u,1),er(de()));var h=u.length;return Ne(function(y){for(var S=-1,T=tn(y.length,h);++S<T;)y[S]=u[S].call(this,y[S]);return Zn(l,this,y)})}),Ip=Ne(function(l,u){var h=no(u,ol(Ip));return Mi(l,M,n,u,h)}),dx=Ne(function(l,u){var h=no(u,ol(dx));return Mi(l,A,n,u,h)}),c2=_i(function(l,u){return Mi(l,D,n,n,n,u)});function f2(l,u){if(typeof l!="function")throw new br(s);return u=u===n?u:Ee(u),Ne(l,u)}function d2(l,u){if(typeof l!="function")throw new br(s);return u=u==null?0:Nt(Ee(u),0),Ne(function(h){var y=h[u],S=lo(h,0,u);return y&&to(S,y),Zn(l,this,S)})}function h2(l,u,h){var y=!0,S=!0;if(typeof l!="function")throw new br(s);return tt(h)&&(y="leading"in h?!!h.leading:y,S="trailing"in h?!!h.trailing:S),fx(l,u,{leading:y,maxWait:u,trailing:S})}function p2(l){return sx(l,1)}function m2(l,u){return Ip(xp(u),l)}function g2(){if(!arguments.length)return[];var l=arguments[0];return Ce(l)?l:[l]}function y2(l){return Er(l,g)}function v2(l,u){return u=typeof u=="function"?u:n,Er(l,g,u)}function x2(l){return Er(l,p|g)}function w2(l,u){return u=typeof u=="function"?u:n,Er(l,p|g,u)}function S2(l,u){return u==null||Zv(l,u,Rt(u))}function Kr(l,u){return l===u||l!==l&&u!==u}var k2=_c(lp),b2=_c(function(l,u){return l>=u}),fs=o1(function(){return arguments}())?o1:function(l){return ut(l)&&je.call(l,"callee")&&!Wv.call(l,"callee")},Ce=z.isArray,C2=Tv?er(Tv):PN;function Bn(l){return l!=null&&zc(l.length)&&!Oi(l)}function gt(l){return ut(l)&&Bn(l)}function E2(l){return l===!0||l===!1||ut(l)&&vn(l)==j}var ao=F_||Kp,T2=Mv?er(Mv):DN;function M2(l){return ut(l)&&l.nodeType===1&&!Sa(l)}function _2(l){if(l==null)return!0;if(Bn(l)&&(Ce(l)||typeof l=="string"||typeof l.splice=="function"||ao(l)||sl(l)||fs(l)))return!l.length;var u=nn(l);if(u==be||u==Fe)return!l.size;if(xa(l))return!cp(l).length;for(var h in l)if(je.call(l,h))return!1;return!0}function N2(l,u){return ga(l,u)}function O2(l,u,h){h=typeof h=="function"?h:n;var y=h?h(l,u):n;return y===n?ga(l,u,n,h):!!y}function Lp(l){if(!ut(l))return!1;var u=vn(l);return u==ge||u==ae||typeof l.message=="string"&&typeof l.name=="string"&&!Sa(l)}function A2(l){return typeof l=="number"&&qv(l)}function Oi(l){if(!tt(l))return!1;var u=vn(l);return u==et||u==xe||u==wt||u==oi}function hx(l){return typeof l=="number"&&l==Ee(l)}function zc(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=W}function tt(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function ut(l){return l!=null&&typeof l=="object"}var px=_v?er(_v):IN;function P2(l,u){return l===u||up(l,u,Tp(u))}function D2(l,u,h){return h=typeof h=="function"?h:n,up(l,u,Tp(u),h)}function R2(l){return mx(l)&&l!=+l}function I2(l){if(vO(l))throw new we(o);return s1(l)}function L2(l){return l===null}function z2(l){return l==null}function mx(l){return typeof l=="number"||ut(l)&&vn(l)==On}function Sa(l){if(!ut(l)||vn(l)!=Ht)return!1;var u=cc(l);if(u===null)return!0;var h=je.call(u,"constructor")&&u.constructor;return typeof h=="function"&&h instanceof h&&sc.call(h)==D_}var zp=Nv?er(Nv):LN;function B2(l){return hx(l)&&l>=-W&&l<=W}var gx=Ov?er(Ov):zN;function Bc(l){return typeof l=="string"||!Ce(l)&&ut(l)&&vn(l)==St}function nr(l){return typeof l=="symbol"||ut(l)&&vn(l)==kt}var sl=Av?er(Av):BN;function F2(l){return l===n}function j2(l){return ut(l)&&nn(l)==$r}function $2(l){return ut(l)&&vn(l)==Ks}var H2=_c(fp),U2=_c(function(l,u){return l<=u});function yx(l){if(!l)return[];if(Bn(l))return Bc(l)?Vr(l):zn(l);if(aa&&l[aa])return S_(l[aa]());var u=nn(l),h=u==be?Qh:u==Fe?rc:ll;return h(l)}function Ai(l){if(!l)return l===0?l:0;if(l=_r(l),l===Se||l===-Se){var u=l<0?-1:1;return u*X}return l===l?l:0}function Ee(l){var u=Ai(l),h=u%1;return u===u?h?u-h:u:0}function vx(l){return l?ls(Ee(l),0,ke):0}function _r(l){if(typeof l=="number")return l;if(nr(l))return ie;if(tt(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=tt(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=zv(l);var h=Qn.test(l);return h||qu.test(l)?i_(l.slice(2),h?2:8):ra.test(l)?ie:+l}function xx(l){return ui(l,Fn(l))}function V2(l){return l?ls(Ee(l),-W,W):l===0?l:0}function Be(l){return l==null?"":tr(l)}var W2=rl(function(l,u){if(xa(u)||Bn(u)){ui(u,Rt(u),l);return}for(var h in u)je.call(u,h)&&ha(l,h,u[h])}),wx=rl(function(l,u){ui(u,Fn(u),l)}),Fc=rl(function(l,u,h,y){ui(u,Fn(u),l,y)}),K2=rl(function(l,u,h,y){ui(u,Rt(u),l,y)}),q2=_i(ip);function G2(l,u){var h=nl(l);return u==null?h:Qv(h,u)}var X2=Ne(function(l,u){l=Ve(l);var h=-1,y=u.length,S=y>2?u[2]:n;for(S&&xn(u[0],u[1],S)&&(y=1);++h<y;)for(var T=u[h],N=Fn(T),O=-1,L=N.length;++O<L;){var $=N[O],H=l[$];(H===n||Kr(H,Zs[$])&&!je.call(l,$))&&(l[$]=T[$])}return l}),J2=Ne(function(l){return l.push(n,z1),Zn(Sx,n,l)});function Y2(l,u){return Dv(l,de(u,3),ai)}function Q2(l,u){return Dv(l,de(u,3),sp)}function Z2(l,u){return l==null?l:op(l,de(u,3),Fn)}function eP(l,u){return l==null?l:r1(l,de(u,3),Fn)}function tP(l,u){return l&&ai(l,de(u,3))}function nP(l,u){return l&&sp(l,de(u,3))}function rP(l){return l==null?[]:wc(l,Rt(l))}function iP(l){return l==null?[]:wc(l,Fn(l))}function Bp(l,u,h){var y=l==null?n:as(l,u);return y===n?h:y}function oP(l,u){return l!=null&&j1(l,u,_N)}function Fp(l,u){return l!=null&&j1(l,u,NN)}var sP=P1(function(l,u,h){u!=null&&typeof u.toString!="function"&&(u=lc.call(u)),l[u]=h},$p(jn)),lP=P1(function(l,u,h){u!=null&&typeof u.toString!="function"&&(u=lc.call(u)),je.call(l,u)?l[u].push(h):l[u]=[h]},de),aP=Ne(ma);function Rt(l){return Bn(l)?Jv(l):cp(l)}function Fn(l){return Bn(l)?Jv(l,!0):FN(l)}function uP(l,u){var h={};return u=de(u,3),ai(l,function(y,S,T){Ti(h,u(y,S,T),y)}),h}function cP(l,u){var h={};return u=de(u,3),ai(l,function(y,S,T){Ti(h,S,u(y,S,T))}),h}var fP=rl(function(l,u,h){Sc(l,u,h)}),Sx=rl(function(l,u,h,y){Sc(l,u,h,y)}),dP=_i(function(l,u){var h={};if(l==null)return h;var y=!1;u=Qe(u,function(T){return T=so(T,l),y||(y=T.length>1),T}),ui(l,Cp(l),h),y&&(h=Er(h,p|m|g,sO));for(var S=u.length;S--;)gp(h,u[S]);return h});function hP(l,u){return kx(l,Lc(de(u)))}var pP=_i(function(l,u){return l==null?{}:$N(l,u)});function kx(l,u){if(l==null)return{};var h=Qe(Cp(l),function(y){return[y]});return u=de(u),h1(l,h,function(y,S){return u(y,S[0])})}function mP(l,u,h){u=so(u,l);var y=-1,S=u.length;for(S||(S=1,l=n);++y<S;){var T=l==null?n:l[ci(u[y])];T===n&&(y=S,T=h),l=Oi(T)?T.call(l):T}return l}function gP(l,u,h){return l==null?l:ya(l,u,h)}function yP(l,u,h,y){return y=typeof y=="function"?y:n,l==null?l:ya(l,u,h,y)}var bx=I1(Rt),Cx=I1(Fn);function vP(l,u,h){var y=Ce(l),S=y||ao(l)||sl(l);if(u=de(u,4),h==null){var T=l&&l.constructor;S?h=y?new T:[]:tt(l)?h=Oi(T)?nl(cc(l)):{}:h={}}return(S?kr:ai)(l,function(N,O,L){return u(h,N,O,L)}),h}function xP(l,u){return l==null?!0:gp(l,u)}function wP(l,u,h){return l==null?l:v1(l,u,xp(h))}function SP(l,u,h,y){return y=typeof y=="function"?y:n,l==null?l:v1(l,u,xp(h),y)}function ll(l){return l==null?[]:Yh(l,Rt(l))}function kP(l){return l==null?[]:Yh(l,Fn(l))}function bP(l,u,h){return h===n&&(h=u,u=n),h!==n&&(h=_r(h),h=h===h?h:0),u!==n&&(u=_r(u),u=u===u?u:0),ls(_r(l),u,h)}function CP(l,u,h){return u=Ai(u),h===n?(h=u,u=0):h=Ai(h),l=_r(l),ON(l,u,h)}function EP(l,u,h){if(h&&typeof h!="boolean"&&xn(l,u,h)&&(u=h=n),h===n&&(typeof u=="boolean"?(h=u,u=n):typeof l=="boolean"&&(h=l,l=n)),l===n&&u===n?(l=0,u=1):(l=Ai(l),u===n?(u=l,l=0):u=Ai(u)),l>u){var y=l;l=u,u=y}if(h||l%1||u%1){var S=Gv();return tn(l+S*(u-l+r_("1e-"+((S+"").length-1))),u)}return hp(l,u)}var TP=il(function(l,u,h){return u=u.toLowerCase(),l+(h?Ex(u):u)});function Ex(l){return jp(Be(l).toLowerCase())}function Tx(l){return l=Be(l),l&&l.replace(Xu,g_).replace(qM,"")}function MP(l,u,h){l=Be(l),u=tr(u);var y=l.length;h=h===n?y:ls(Ee(h),0,y);var S=h;return h-=u.length,h>=0&&l.slice(h,S)==u}function _P(l){return l=Be(l),l&&mt.test(l)?l.replace(Jn,y_):l}function NP(l){return l=Be(l),l&&Rn.test(l)?l.replace(hn,"\\$&"):l}var OP=il(function(l,u,h){return l+(h?"-":"")+u.toLowerCase()}),AP=il(function(l,u,h){return l+(h?" ":"")+u.toLowerCase()}),PP=N1("toLowerCase");function DP(l,u,h){l=Be(l),u=Ee(u);var y=u?Ys(l):0;if(!u||y>=u)return l;var S=(u-y)/2;return Mc(pc(S),h)+l+Mc(hc(S),h)}function RP(l,u,h){l=Be(l),u=Ee(u);var y=u?Ys(l):0;return u&&y<u?l+Mc(u-y,h):l}function IP(l,u,h){l=Be(l),u=Ee(u);var y=u?Ys(l):0;return u&&y<u?Mc(u-y,h)+l:l}function LP(l,u,h){return h||u==null?u=0:u&&(u=+u),U_(Be(l).replace(pn,""),u||0)}function zP(l,u,h){return(h?xn(l,u,h):u===n)?u=1:u=Ee(u),pp(Be(l),u)}function BP(){var l=arguments,u=Be(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var FP=il(function(l,u,h){return l+(h?"_":"")+u.toLowerCase()});function jP(l,u,h){return h&&typeof h!="number"&&xn(l,u,h)&&(u=h=n),h=h===n?ke:h>>>0,h?(l=Be(l),l&&(typeof u=="string"||u!=null&&!zp(u))&&(u=tr(u),!u&&Js(l))?lo(Vr(l),0,h):l.split(u,h)):[]}var $P=il(function(l,u,h){return l+(h?" ":"")+jp(u)});function HP(l,u,h){return l=Be(l),h=h==null?0:ls(Ee(h),0,l.length),u=tr(u),l.slice(h,h+u.length)==u}function UP(l,u,h){var y=E.templateSettings;h&&xn(l,u,h)&&(u=n),l=Be(l),u=Fc({},u,y,L1);var S=Fc({},u.imports,y.imports,L1),T=Rt(S),N=Yh(S,T),O,L,$=0,H=u.interpolate||ts,V="__p += '",J=Zh((u.escape||ts).source+"|"+H.source+"|"+(H===yr?Ln:ts).source+"|"+(u.evaluate||ts).source+"|$","g"),oe="//# sourceURL="+(je.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++QM+"]")+`
`;l.replace(J,function(pe,Oe,Re,rr,wn,ir){return Re||(Re=rr),V+=l.slice($,ir).replace(Ju,v_),Oe&&(O=!0,V+=`' +
__e(`+Oe+`) +
'`),wn&&(L=!0,V+=`';
`+wn+`;
__p += '`),Re&&(V+=`' +
((__t = (`+Re+`)) == null ? '' : __t) +
'`),$=ir+pe.length,pe}),V+=`';
`;var he=je.call(u,"variable")&&u.variable;if(!he)V=`with (obj) {
`+V+`
}
`;else if(mn.test(he))throw new we(a);V=(L?V.replace(si,""):V).replace(gr,"$1").replace(Ur,"$1;"),V="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+V+`return __p
}`;var Te=_x(function(){return ze(T,oe+"return "+V).apply(n,N)});if(Te.source=V,Lp(Te))throw Te;return Te}function VP(l){return Be(l).toLowerCase()}function WP(l){return Be(l).toUpperCase()}function KP(l,u,h){if(l=Be(l),l&&(h||u===n))return zv(l);if(!l||!(u=tr(u)))return l;var y=Vr(l),S=Vr(u),T=Bv(y,S),N=Fv(y,S)+1;return lo(y,T,N).join("")}function qP(l,u,h){if(l=Be(l),l&&(h||u===n))return l.slice(0,$v(l)+1);if(!l||!(u=tr(u)))return l;var y=Vr(l),S=Fv(y,Vr(u))+1;return lo(y,0,S).join("")}function GP(l,u,h){if(l=Be(l),l&&(h||u===n))return l.replace(pn,"");if(!l||!(u=tr(u)))return l;var y=Vr(l),S=Bv(y,Vr(u));return lo(y,S).join("")}function XP(l,u){var h=U,y=fe;if(tt(u)){var S="separator"in u?u.separator:S;h="length"in u?Ee(u.length):h,y="omission"in u?tr(u.omission):y}l=Be(l);var T=l.length;if(Js(l)){var N=Vr(l);T=N.length}if(h>=T)return l;var O=h-Ys(y);if(O<1)return y;var L=N?lo(N,0,O).join(""):l.slice(0,O);if(S===n)return L+y;if(N&&(O+=L.length-O),zp(S)){if(l.slice(O).search(S)){var $,H=L;for(S.global||(S=Zh(S.source,Be(yn.exec(S))+"g")),S.lastIndex=0;$=S.exec(H);)var V=$.index;L=L.slice(0,V===n?O:V)}}else if(l.indexOf(tr(S),O)!=O){var J=L.lastIndexOf(S);J>-1&&(L=L.slice(0,J))}return L+y}function JP(l){return l=Be(l),l&&dn.test(l)?l.replace(Dn,E_):l}var YP=il(function(l,u,h){return l+(h?" ":"")+u.toUpperCase()}),jp=N1("toUpperCase");function Mx(l,u,h){return l=Be(l),u=h?n:u,u===n?w_(l)?__(l):f_(l):l.match(u)||[]}var _x=Ne(function(l,u){try{return Zn(l,n,u)}catch(h){return Lp(h)?h:new we(h)}}),QP=_i(function(l,u){return kr(u,function(h){h=ci(h),Ti(l,h,Rp(l[h],l))}),l});function ZP(l){var u=l==null?0:l.length,h=de();return l=u?Qe(l,function(y){if(typeof y[1]!="function")throw new br(s);return[h(y[0]),y[1]]}):[],Ne(function(y){for(var S=-1;++S<u;){var T=l[S];if(Zn(T[0],this,y))return Zn(T[1],this,y)}})}function eD(l){return EN(Er(l,p))}function $p(l){return function(){return l}}function tD(l,u){return l==null||l!==l?u:l}var nD=A1(),rD=A1(!0);function jn(l){return l}function Hp(l){return l1(typeof l=="function"?l:Er(l,p))}function iD(l){return u1(Er(l,p))}function oD(l,u){return c1(l,Er(u,p))}var sD=Ne(function(l,u){return function(h){return ma(h,l,u)}}),lD=Ne(function(l,u){return function(h){return ma(l,h,u)}});function Up(l,u,h){var y=Rt(u),S=wc(u,y);h==null&&!(tt(u)&&(S.length||!y.length))&&(h=u,u=l,l=this,S=wc(u,Rt(u)));var T=!(tt(h)&&"chain"in h)||!!h.chain,N=Oi(l);return kr(S,function(O){var L=u[O];l[O]=L,N&&(l.prototype[O]=function(){var $=this.__chain__;if(T||$){var H=l(this.__wrapped__),V=H.__actions__=zn(this.__actions__);return V.push({func:L,args:arguments,thisArg:l}),H.__chain__=$,H}return L.apply(l,to([this.value()],arguments))})}),l}function aD(){return Ut._===this&&(Ut._=R_),this}function Vp(){}function uD(l){return l=Ee(l),Ne(function(u){return f1(u,l)})}var cD=Sp(Qe),fD=Sp(Pv),dD=Sp(Kh);function Nx(l){return _p(l)?qh(ci(l)):HN(l)}function hD(l){return function(u){return l==null?n:as(l,u)}}var pD=D1(),mD=D1(!0);function Wp(){return[]}function Kp(){return!1}function gD(){return{}}function yD(){return""}function vD(){return!0}function xD(l,u){if(l=Ee(l),l<1||l>W)return[];var h=ke,y=tn(l,ke);u=de(u),l-=ke;for(var S=Jh(y,u);++h<l;)u(h);return S}function wD(l){return Ce(l)?Qe(l,ci):nr(l)?[l]:zn(X1(Be(l)))}function SD(l){var u=++P_;return Be(l)+u}var kD=Tc(function(l,u){return l+u},0),bD=kp("ceil"),CD=Tc(function(l,u){return l/u},1),ED=kp("floor");function TD(l){return l&&l.length?xc(l,jn,lp):n}function MD(l,u){return l&&l.length?xc(l,de(u,2),lp):n}function _D(l){return Iv(l,jn)}function ND(l,u){return Iv(l,de(u,2))}function OD(l){return l&&l.length?xc(l,jn,fp):n}function AD(l,u){return l&&l.length?xc(l,de(u,2),fp):n}var PD=Tc(function(l,u){return l*u},1),DD=kp("round"),RD=Tc(function(l,u){return l-u},0);function ID(l){return l&&l.length?Xh(l,jn):0}function LD(l,u){return l&&l.length?Xh(l,de(u,2)):0}return E.after=i2,E.ary=sx,E.assign=W2,E.assignIn=wx,E.assignInWith=Fc,E.assignWith=K2,E.at=q2,E.before=lx,E.bind=Rp,E.bindAll=QP,E.bindKey=ax,E.castArray=g2,E.chain=rx,E.chunk=EO,E.compact=TO,E.concat=MO,E.cond=ZP,E.conforms=eD,E.constant=$p,E.countBy=IA,E.create=G2,E.curry=ux,E.curryRight=cx,E.debounce=fx,E.defaults=X2,E.defaultsDeep=J2,E.defer=o2,E.delay=s2,E.difference=_O,E.differenceBy=NO,E.differenceWith=OO,E.drop=AO,E.dropRight=PO,E.dropRightWhile=DO,E.dropWhile=RO,E.fill=IO,E.filter=zA,E.flatMap=jA,E.flatMapDeep=$A,E.flatMapDepth=HA,E.flatten=Z1,E.flattenDeep=LO,E.flattenDepth=zO,E.flip=l2,E.flow=nD,E.flowRight=rD,E.fromPairs=BO,E.functions=rP,E.functionsIn=iP,E.groupBy=UA,E.initial=jO,E.intersection=$O,E.intersectionBy=HO,E.intersectionWith=UO,E.invert=sP,E.invertBy=lP,E.invokeMap=WA,E.iteratee=Hp,E.keyBy=KA,E.keys=Rt,E.keysIn=Fn,E.map=Dc,E.mapKeys=uP,E.mapValues=cP,E.matches=iD,E.matchesProperty=oD,E.memoize=Ic,E.merge=fP,E.mergeWith=Sx,E.method=sD,E.methodOf=lD,E.mixin=Up,E.negate=Lc,E.nthArg=uD,E.omit=dP,E.omitBy=hP,E.once=a2,E.orderBy=qA,E.over=cD,E.overArgs=u2,E.overEvery=fD,E.overSome=dD,E.partial=Ip,E.partialRight=dx,E.partition=GA,E.pick=pP,E.pickBy=kx,E.property=Nx,E.propertyOf=hD,E.pull=qO,E.pullAll=tx,E.pullAllBy=GO,E.pullAllWith=XO,E.pullAt=JO,E.range=pD,E.rangeRight=mD,E.rearg=c2,E.reject=YA,E.remove=YO,E.rest=f2,E.reverse=Pp,E.sampleSize=ZA,E.set=gP,E.setWith=yP,E.shuffle=e2,E.slice=QO,E.sortBy=r2,E.sortedUniq=oA,E.sortedUniqBy=sA,E.split=jP,E.spread=d2,E.tail=lA,E.take=aA,E.takeRight=uA,E.takeRightWhile=cA,E.takeWhile=fA,E.tap=TA,E.throttle=h2,E.thru=Pc,E.toArray=yx,E.toPairs=bx,E.toPairsIn=Cx,E.toPath=wD,E.toPlainObject=xx,E.transform=vP,E.unary=p2,E.union=dA,E.unionBy=hA,E.unionWith=pA,E.uniq=mA,E.uniqBy=gA,E.uniqWith=yA,E.unset=xP,E.unzip=Dp,E.unzipWith=nx,E.update=wP,E.updateWith=SP,E.values=ll,E.valuesIn=kP,E.without=vA,E.words=Mx,E.wrap=m2,E.xor=xA,E.xorBy=wA,E.xorWith=SA,E.zip=kA,E.zipObject=bA,E.zipObjectDeep=CA,E.zipWith=EA,E.entries=bx,E.entriesIn=Cx,E.extend=wx,E.extendWith=Fc,Up(E,E),E.add=kD,E.attempt=_x,E.camelCase=TP,E.capitalize=Ex,E.ceil=bD,E.clamp=bP,E.clone=y2,E.cloneDeep=x2,E.cloneDeepWith=w2,E.cloneWith=v2,E.conformsTo=S2,E.deburr=Tx,E.defaultTo=tD,E.divide=CD,E.endsWith=MP,E.eq=Kr,E.escape=_P,E.escapeRegExp=NP,E.every=LA,E.find=BA,E.findIndex=Y1,E.findKey=Y2,E.findLast=FA,E.findLastIndex=Q1,E.findLastKey=Q2,E.floor=ED,E.forEach=ix,E.forEachRight=ox,E.forIn=Z2,E.forInRight=eP,E.forOwn=tP,E.forOwnRight=nP,E.get=Bp,E.gt=k2,E.gte=b2,E.has=oP,E.hasIn=Fp,E.head=ex,E.identity=jn,E.includes=VA,E.indexOf=FO,E.inRange=CP,E.invoke=aP,E.isArguments=fs,E.isArray=Ce,E.isArrayBuffer=C2,E.isArrayLike=Bn,E.isArrayLikeObject=gt,E.isBoolean=E2,E.isBuffer=ao,E.isDate=T2,E.isElement=M2,E.isEmpty=_2,E.isEqual=N2,E.isEqualWith=O2,E.isError=Lp,E.isFinite=A2,E.isFunction=Oi,E.isInteger=hx,E.isLength=zc,E.isMap=px,E.isMatch=P2,E.isMatchWith=D2,E.isNaN=R2,E.isNative=I2,E.isNil=z2,E.isNull=L2,E.isNumber=mx,E.isObject=tt,E.isObjectLike=ut,E.isPlainObject=Sa,E.isRegExp=zp,E.isSafeInteger=B2,E.isSet=gx,E.isString=Bc,E.isSymbol=nr,E.isTypedArray=sl,E.isUndefined=F2,E.isWeakMap=j2,E.isWeakSet=$2,E.join=VO,E.kebabCase=OP,E.last=Mr,E.lastIndexOf=WO,E.lowerCase=AP,E.lowerFirst=PP,E.lt=H2,E.lte=U2,E.max=TD,E.maxBy=MD,E.mean=_D,E.meanBy=ND,E.min=OD,E.minBy=AD,E.stubArray=Wp,E.stubFalse=Kp,E.stubObject=gD,E.stubString=yD,E.stubTrue=vD,E.multiply=PD,E.nth=KO,E.noConflict=aD,E.noop=Vp,E.now=Rc,E.pad=DP,E.padEnd=RP,E.padStart=IP,E.parseInt=LP,E.random=EP,E.reduce=XA,E.reduceRight=JA,E.repeat=zP,E.replace=BP,E.result=mP,E.round=DD,E.runInContext=R,E.sample=QA,E.size=t2,E.snakeCase=FP,E.some=n2,E.sortedIndex=ZO,E.sortedIndexBy=eA,E.sortedIndexOf=tA,E.sortedLastIndex=nA,E.sortedLastIndexBy=rA,E.sortedLastIndexOf=iA,E.startCase=$P,E.startsWith=HP,E.subtract=RD,E.sum=ID,E.sumBy=LD,E.template=UP,E.times=xD,E.toFinite=Ai,E.toInteger=Ee,E.toLength=vx,E.toLower=VP,E.toNumber=_r,E.toSafeInteger=V2,E.toString=Be,E.toUpper=WP,E.trim=KP,E.trimEnd=qP,E.trimStart=GP,E.truncate=XP,E.unescape=JP,E.uniqueId=SD,E.upperCase=YP,E.upperFirst=jp,E.each=ix,E.eachRight=ox,E.first=ex,Up(E,function(){var l={};return ai(E,function(u,h){je.call(E.prototype,h)||(l[h]=u)}),l}(),{chain:!1}),E.VERSION=r,kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){E[l].placeholder=E}),kr(["drop","take"],function(l,u){De.prototype[l]=function(h){h=h===n?1:Nt(Ee(h),0);var y=this.__filtered__&&!u?new De(this):this.clone();return y.__filtered__?y.__takeCount__=tn(h,y.__takeCount__):y.__views__.push({size:tn(h,ke),type:l+(y.__dir__<0?"Right":"")}),y},De.prototype[l+"Right"]=function(h){return this.reverse()[l](h).reverse()}}),kr(["filter","map","takeWhile"],function(l,u){var h=u+1,y=h==le||h==ve;De.prototype[l]=function(S){var T=this.clone();return T.__iteratees__.push({iteratee:de(S,3),type:h}),T.__filtered__=T.__filtered__||y,T}}),kr(["head","last"],function(l,u){var h="take"+(u?"Right":"");De.prototype[l]=function(){return this[h](1).value()[0]}}),kr(["initial","tail"],function(l,u){var h="drop"+(u?"":"Right");De.prototype[l]=function(){return this.__filtered__?new De(this):this[h](1)}}),De.prototype.compact=function(){return this.filter(jn)},De.prototype.find=function(l){return this.filter(l).head()},De.prototype.findLast=function(l){return this.reverse().find(l)},De.prototype.invokeMap=Ne(function(l,u){return typeof l=="function"?new De(this):this.map(function(h){return ma(h,l,u)})}),De.prototype.reject=function(l){return this.filter(Lc(de(l)))},De.prototype.slice=function(l,u){l=Ee(l);var h=this;return h.__filtered__&&(l>0||u<0)?new De(h):(l<0?h=h.takeRight(-l):l&&(h=h.drop(l)),u!==n&&(u=Ee(u),h=u<0?h.dropRight(-u):h.take(u-l)),h)},De.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},De.prototype.toArray=function(){return this.take(ke)},ai(De.prototype,function(l,u){var h=/^(?:filter|find|map|reject)|While$/.test(u),y=/^(?:head|last)$/.test(u),S=E[y?"take"+(u=="last"?"Right":""):u],T=y||/^find/.test(u);S&&(E.prototype[u]=function(){var N=this.__wrapped__,O=y?[1]:arguments,L=N instanceof De,$=O[0],H=L||Ce(N),V=function(Oe){var Re=S.apply(E,to([Oe],O));return y&&J?Re[0]:Re};H&&h&&typeof $=="function"&&$.length!=1&&(L=H=!1);var J=this.__chain__,oe=!!this.__actions__.length,he=T&&!J,Te=L&&!oe;if(!T&&H){N=Te?N:new De(this);var pe=l.apply(N,O);return pe.__actions__.push({func:Pc,args:[V],thisArg:n}),new Cr(pe,J)}return he&&Te?l.apply(this,O):(pe=this.thru(V),he?y?pe.value()[0]:pe.value():pe)})}),kr(["pop","push","shift","sort","splice","unshift"],function(l){var u=ic[l],h=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",y=/^(?:pop|shift)$/.test(l);E.prototype[l]=function(){var S=arguments;if(y&&!this.__chain__){var T=this.value();return u.apply(Ce(T)?T:[],S)}return this[h](function(N){return u.apply(Ce(N)?N:[],S)})}}),ai(De.prototype,function(l,u){var h=E[u];if(h){var y=h.name+"";je.call(tl,y)||(tl[y]=[]),tl[y].push({name:u,func:h})}}),tl[Ec(n,w).name]=[{name:"wrapper",func:n}],De.prototype.clone=J_,De.prototype.reverse=Y_,De.prototype.value=Q_,E.prototype.at=MA,E.prototype.chain=_A,E.prototype.commit=NA,E.prototype.next=OA,E.prototype.plant=PA,E.prototype.reverse=DA,E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=RA,E.prototype.first=E.prototype.head,aa&&(E.prototype[aa]=AA),E},Qs=N_();ns?((ns.exports=Qs)._=Qs,Hh._=Qs):Ut._=Qs}).call(fl)}(Fa,Fa.exports)),Fa.exports}var Sm={exports:{}},km,Hw;function yL(){if(Hw)return km;Hw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return km=t,km}var bm,Uw;function vL(){if(Uw)return bm;Uw=1;var t=yL();function e(){}function n(){}return n.resetWarningCache=e,bm=function(){function r(s,a,c,f,d,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},bm}var Vw;function xy(){return Vw||(Vw=1,Sm.exports=vL()()),Sm.exports}(function(t,e){(function(r,i){t.exports=i(se,gL(),xy())})(fl,function(n,r,i){return function(){var o={"./src/Xarrow/utils/buzzier.js":function(f,d,p){p.r(d),p.d(d,{bzFunction:function(){return m},buzzierMinSols:function(){return g}});var m=function(k,b,w,v){return function(C){return Math.pow(1-C,3)*k+3*Math.pow(1-C,2)*C*b+3*(1-C)*Math.pow(C,2)*w+Math.pow(C,3)*v}},g=function(k,b,w,v){var C=m(k,b,w,v),_=-6*k+12*b-6*w,M=Math.pow(-6*k+12*b-6*w,2)-4*(3*b-3*k)*(-3*k+9*b-9*w+3*v),A=2*(-3*k+9*b-9*w+3*v),P=C((_+Math.sqrt(M))/A),D=C((_-Math.sqrt(M))/A);return[P,D]}},"./src/Xarrow/Xarrow.tsx":function(f,d,p){var m=this&&this.__assign||function(){return m=Object.assign||function(D){for(var B,U=1,fe=arguments.length;U<fe;U++){B=arguments[U];for(var me in B)Object.prototype.hasOwnProperty.call(B,me)&&(D[me]=B[me])}return D},m.apply(this,arguments)},g=this&&this.__createBinding||(Object.create?function(D,B,U,fe){fe===void 0&&(fe=U),Object.defineProperty(D,fe,{enumerable:!0,get:function(){return B[U]}})}:function(D,B,U,fe){fe===void 0&&(fe=U),D[fe]=B[U]}),x=this&&this.__setModuleDefault||(Object.create?function(D,B){Object.defineProperty(D,"default",{enumerable:!0,value:B})}:function(D,B){D.default=B}),k=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var B={};if(D!=null)for(var U in D)U!=="default"&&Object.prototype.hasOwnProperty.call(D,U)&&g(B,D,U);return x(B,D),B},b=this&&this.__spreadArray||function(D,B){for(var U=0,fe=B.length,me=D.length;U<fe;U++,me++)D[me]=B[U];return D},w=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(d,"__esModule",{value:!0});var v=k(p("react")),C=w(p("./src/Xarrow/useXarrowProps.ts")),_=p("./src/Xwrapper.tsx"),M=w(p("./src/Xarrow/propTypes.ts")),A=p("./src/Xarrow/utils/GetPosition.tsx"),P=function(D){var B,U=v.useRef({svgRef:v.useRef(null),lineRef:v.useRef(null),headRef:v.useRef(null),tailRef:v.useRef(null),lineDrawAnimRef:v.useRef(null),lineDashAnimRef:v.useRef(null),headOpacityAnimRef:v.useRef(null)}),fe=U.current,me=fe.svgRef,Y=fe.lineRef,le=fe.headRef;fe.tailRef;var ee=fe.lineDrawAnimRef,ve=fe.lineDashAnimRef,Se=fe.headOpacityAnimRef;v.useContext(_.XarrowContext);var W=C.default(D,U.current),X=W[0],ie=X.labels,ke=X.lineColor,Ue=X.headColor,fn=X.tailColor,$t=X.strokeWidth,Zt=X.showHead,Mt=X.showTail,wt=X.dashness,j=X.headShape,Q=X.tailShape,ae=X.showXarrow,ge=X.animateDrawing,et=X.zIndex,xe=X.passProps,be=X.arrowBodyProps,On=X.arrowHeadProps,Qi=X.arrowTailProps,Ht=X.SVGcanvasProps,An=X.divContainerProps,oi=X.divContainerStyle,Dt=X.SVGcanvasStyle,Fe=X._debug,St=X.shouldUpdatePosition;ge=D.animateDrawing;var kt=v.useState(!ge),bi=kt[0],$r=kt[1],Ks=v.useState({}),Hr=Ks[1],Gn=function(){return Hr({})},lt=v.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),re=lt[0],Pe=lt[1];v.useLayoutEffect(function(){if(St.current){var dn=A.getPosition(W,U);Pe(dn),St.current=!1}});var Le=re.x2-re.arrowHeadOffset.x,Zi=re.y2-re.arrowHeadOffset.y,Pn=re.x1-re.arrowTailOffset.x,Xn=re.y1-re.arrowTailOffset.y,pt=wt.strokeLen+wt.nonStrokeLen,at=1;wt.animation<0&&(wt.animation*=-1,at=-1);var si,gr,Ur,Dn,Jn=0;return ge&&bi==!1?(typeof ge=="boolean"&&(ge=1),gr=ge+"s",si=re.lineLength,Dn=re.lineLength,Ur=1,ge<0&&(B=[Jn,Dn],Dn=B[0],Jn=B[1],gr=ge*-1+"s")):(si=wt.strokeLen+" "+wt.nonStrokeLen,gr=1/wt.animation+"s",Dn=pt*at,Ur="indefinite",Jn=0),v.useLayoutEffect(function(){Y.current&&Pe(function(dn){var mt,li;return m(m({},dn),{lineLength:(li=(mt=Y.current)===null||mt===void 0?void 0:mt.getTotalLength())!==null&&li!==void 0?li:0})})},[Y.current]),v.useEffect(function(){var dn=function(){window.addEventListener("resize",Gn);var li=function(){var yr,en;$r(!0),(yr=Se.current)===null||yr===void 0||yr.beginElement(),(en=ve.current)===null||en===void 0||en.beginElement()},Yn=function(){return le.current.style.opacity="0"};return ee.current&&le.current&&(ee.current.addEventListener("endEvent",li),ee.current.addEventListener("beginEvent",Yn)),function(){window.removeEventListener("resize",Gn),ee.current&&(ee.current.removeEventListener("endEvent",li),le.current&&ee.current.removeEventListener("beginEvent",Yn))}},mt=dn();return function(){$r(!1),mt()}},[ae]),v.default.createElement("div",m({},An,{style:m({position:"absolute",zIndex:et},oi)}),ae?v.default.createElement(v.default.Fragment,null,v.default.createElement("svg",m({ref:me,width:re.cw,height:re.ch,style:m({position:"absolute",left:re.cx0,top:re.cy0,pointerEvents:"none",border:Fe?"1px dashed yellow":null},Dt),overflow:"auto"},Ht),v.default.createElement("path",m({ref:Y,d:re.arrowPath,stroke:ke,strokeDasharray:si,strokeWidth:$t,fill:"transparent",pointerEvents:"visibleStroke"},xe,be),v.default.createElement(v.default.Fragment,null,bi?v.default.createElement(v.default.Fragment,null,wt.animation?v.default.createElement("animate",{ref:ve,attributeName:"stroke-dashoffset",values:pt*at+";0",dur:1/wt.animation+"s",repeatCount:"indefinite"}):null):v.default.createElement(v.default.Fragment,null,ge?v.default.createElement("animate",{ref:ee,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:Dn+";"+Jn,dur:gr,repeatCount:Ur}):null))),Mt?v.default.createElement("g",m({fill:fn,pointerEvents:"auto",transform:"translate("+Pn+","+Xn+") rotate("+re.tailOrient+") scale("+re.fTailSize+")"},xe,Qi),Q.svgElem):null,Zt?v.default.createElement("g",m({ref:le,fill:Ue,pointerEvents:"auto",transform:"translate("+Le+","+Zi+") rotate("+re.headOrient+") scale("+re.fHeadSize+")",opacity:ge&&!bi?0:1},xe,On),v.default.createElement("animate",{ref:Se,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),j.svgElem):null,Fe?v.default.createElement(v.default.Fragment,null,v.default.createElement("circle",{r:"5",cx:re.cpx1,cy:re.cpy1,fill:"green"}),v.default.createElement("circle",{r:"5",cx:re.cpx2,cy:re.cpy2,fill:"blue"}),v.default.createElement("rect",{x:re.excLeft,y:re.excUp,width:re.absDx,height:re.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),ie.start?v.default.createElement("div",{style:{transform:re.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:re.cx0+re.labelStartPos.x,top:re.cy0+re.labelStartPos.y-$t-5}},ie.start):null,ie.middle?v.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:re.cx0+re.labelMiddlePos.x,top:re.cy0+re.labelMiddlePos.y}},ie.middle):null,ie.end?v.default.createElement("div",{style:{transform:re.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:re.cx0+re.labelEndPos.x,top:re.cy0+re.labelEndPos.y+$t+5}},ie.end):null,Fe?v.default.createElement(v.default.Fragment,null,b(b([],re.startPoints),re.endPoints).map(function(dn,mt){return v.default.createElement("div",{key:mt,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:dn.x-re.mainDivPos.x,top:dn.y-re.mainDivPos.y}})})):null):null)};P.propTypes=M.default,d.default=P},"./src/Xarrow/anchors.ts":function(f,d,p){f=p.nmd(f),Object.defineProperty(d,"__esModule",{value:!0}),d.calcAnchors=void 0;var m=function(x,k){return{middle:{x:x*.5,y:k*.5},left:{x:0,y:k*.5},right:{x,y:k*.5},top:{x:x*.5,y:0},bottom:{x:x*.5,y:k}}},g=function(x,k){return x.map(function(b){var w=m(k.right-k.x,k.bottom-k.y),v=w[b.position],C=v.x,_=v.y;return{x:k.x+C+b.offset.x,y:k.y+_+b.offset.y,anchor:b}})};d.calcAnchors=g,p.c[p.s]},"./src/Xarrow/propTypes.ts":function(f,d,p){var m=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(d,"__esModule",{value:!0});var g=m(p("prop-types")),x=p("./src/constants.tsx"),k=g.default.oneOf(x.cAnchorEdge),b=g.default.exact({position:k.isRequired,offset:g.default.exact({x:g.default.number,y:g.default.number}).isRequired}),w=g.default.oneOfType([k,b]),v=g.default.oneOfType([w,g.default.arrayOf(w)]),C=g.default.oneOfType([g.default.string,g.default.exact({current:g.default.any})]),_=g.default.oneOfType([g.default.element,g.default.string]),M=g.default.exact({start:_,middle:_,end:_}),A=g.default.oneOf(Object.keys(x.arrowShapes)),P=g.default.any,D=g.default.oneOfType([A,g.default.exact({svgElem:P,offsetForward:g.default.number}).isRequired]),B={start:C.isRequired,end:C.isRequired,startAnchor:v,endAnchor:v,labels:g.default.oneOfType([_,M]),color:g.default.string,lineColor:g.default.string,showHead:g.default.bool,headColor:g.default.string,headSize:g.default.number,tailSize:g.default.number,tailColor:g.default.string,strokeWidth:g.default.number,showTail:g.default.bool,path:g.default.oneOf(x.cPaths),showXarrow:g.default.bool,curveness:g.default.number,gridBreak:g.default.string,dashness:g.default.oneOfType([g.default.bool,g.default.object]),headShape:D,tailShape:D,animateDrawing:g.default.oneOfType([g.default.bool,g.default.number]),zIndex:g.default.number,passProps:g.default.object,arrowBodyProps:g.default.object,arrowHeadProps:g.default.object,arrowTailProps:g.default.object,SVGcanvasProps:g.default.object,divContainerProps:g.default.object,_extendSVGcanvas:g.default.number,_debug:g.default.bool,_cpx1Offset:g.default.number,_cpy1Offset:g.default.number,_cpx2Offset:g.default.number,_cpy2Offset:g.default.number};d.default=B},"./src/Xarrow/useXarrowProps.ts":function(f,d,p){var m=this&&this.__assign||function(){return m=Object.assign||function(j){for(var Q,ae=1,ge=arguments.length;ae<ge;ae++){Q=arguments[ae];for(var et in Q)Object.prototype.hasOwnProperty.call(Q,et)&&(j[et]=Q[et])}return j},m.apply(this,arguments)},g=this&&this.__createBinding||(Object.create?function(j,Q,ae,ge){ge===void 0&&(ge=ae),Object.defineProperty(j,ge,{enumerable:!0,get:function(){return Q[ae]}})}:function(j,Q,ae,ge){ge===void 0&&(ge=ae),j[ge]=Q[ae]}),x=this&&this.__setModuleDefault||(Object.create?function(j,Q){Object.defineProperty(j,"default",{enumerable:!0,value:Q})}:function(j,Q){j.default=Q}),k=this&&this.__importStar||function(j){if(j&&j.__esModule)return j;var Q={};if(j!=null)for(var ae in j)ae!=="default"&&Object.prototype.hasOwnProperty.call(j,ae)&&g(Q,j,ae);return x(Q,j),Q},b=this&&this.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(d,"__esModule",{value:!0});var w=k(p("react")),v=p("./src/Xarrow/utils/index.ts"),C=b(p("lodash")),_=p("./src/constants.tsx"),M=function(j){var Q={start:null,middle:null,end:null};if(j)if(typeof j=="string"||w.default.isValidElement(j))Q.middle=j;else for(var ae in j)Q[ae]=j[ae];return Q},A=function(j){var Q=Array.isArray(j)?j:[j],ae=Q.map(function(xe){return typeof xe=="string"?{position:xe}:xe});ae=ae.filter(function(xe){return _.cAnchorEdge.includes(xe.position)}),ae.length==0&&(ae=[{position:"auto"}]);var ge=ae.filter(function(xe){return xe.position==="auto"});ge.length>0&&(ae=ae.filter(function(xe){return xe.position!=="auto"}),ae.push.apply(ae,ge.flatMap(function(xe){return["left","right","top","bottom"].map(function(be){return m(m({},xe),{position:be})})})));var et=ae.map(function(xe){if(typeof xe=="object"){var be=xe;return be.position||(be.position="auto"),be.offset||(be.offset={x:0,y:0}),be.offset.y||(be.offset.y=0),be.offset.x||(be.offset.x=0),be=be,be}else return xe});return et},P=function(j,Q){var ae=0,ge=0,et,xe=1;return typeof j=="object"?(ae=j.strokeLen||Q.strokeWidth*2,ge=j.strokeLen?j.nonStrokeLen:Q.strokeWidth,et=j.animation?j.animation:null):typeof j=="boolean"&&j&&(ae=Q.strokeWidth*2,ge=Q.strokeWidth,et=null),{strokeLen:ae,nonStrokeLen:ge,animation:et,animDirection:xe}},D=function(j){return typeof j=="string"&&(j in _.arrowShapes?j=_.arrowShapes[j]:(console.warn("'"+j+"' is not supported arrow shape. the supported arrow shapes is one of "+_.cArrowShapes+`.
           reverting to default shape.`),j=_.arrowShapes.arrow1)),j=j,(j==null?void 0:j.offsetForward)===void 0&&(j.offsetForward=.25),(j==null?void 0:j.svgElem)===void 0&&(j.svgElem="path"),j},B=function(j){var Q=v.xStr2absRelative(j);return Q||(Q={relative:.5,abs:0}),Q},U=function(j,Q){return Q&&(Q.current=!0),j},fe=function(j){return j},me=function(j,Q,ae){return U(j,ae)},Y=function(j,Q,ae){return U(Number(j),ae)},le=function(j){return Number(j)},ee={start:function(j){return v.getElementByPropGiven(j)},end:function(j){return v.getElementByPropGiven(j)},startAnchor:function(j,Q,ae){return U(A(j),ae)},endAnchor:function(j,Q,ae){return U(A(j),ae)},labels:function(j){return M(j)},color:fe,lineColor:function(j,Q){return j||Q.color},headColor:function(j,Q){return j||Q.color},tailColor:function(j,Q){return j||Q.color},strokeWidth:Y,showHead:me,headSize:Y,showTail:me,tailSize:Y,path:me,curveness:Y,gridBreak:function(j,Q,ae){return U(B(j),ae)},dashness:function(j,Q){return P(j,Q)},headShape:function(j){return D(j)},tailShape:function(j){return D(j)},showXarrow:fe,animateDrawing:fe,zIndex:le,passProps:fe,arrowBodyProps:me,arrowHeadProps:me,arrowTailProps:me,SVGcanvasProps:me,divContainerProps:me,divContainerStyle:me,SVGcanvasStyle:me,_extendSVGcanvas:me,_debug:me,_cpx1Offset:me,_cpy1Offset:me,_cpx2Offset:me,_cpy2Offset:me},ve={};for(var Se in ee)ve[Se]=[Se];for(var W=0,X=["lineColor","headColor","tailColor"];W<X.length;W++){var Se=X[W];ve[Se].push("color")}var ie=function(j,Q){for(var ae,ge=0,et=Object.entries(j);ge<et.length;ge++){var xe=et[ge],be=xe[0],On=xe[1];Q[be]=(ae=ee==null?void 0:ee[be])===null||ae===void 0?void 0:ae.call(ee,On,Q)}return Q},ke={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},Ue={};Ue=ie(ke,Ue);var fn={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function $t(j,Q){return C.default.isEqual(j,Q)}function Zt(j){var Q=w.useRef();return $t(j,Q.current)||(Q.current=j),Q.current}function Mt(j,Q){w.useLayoutEffect(j,Q.map(Zt))}var wt=function(j,Q){var ae=w.useState(Ue),ge=ae[0],et=ae[1],xe=w.useRef(!1);ge.shouldUpdatePosition=xe;var be=m(m({},ke),j),On=function(St){w.useLayoutEffect(function(){var kt;ge[St]=(kt=ee==null?void 0:ee[St])===null||kt===void 0?void 0:kt.call(ee,be[St],ge,xe),et(m({},ge))},ve[St].map(function(kt){return j[kt]}))};for(var Qi in ke)On(Qi);var Ht=w.useState(fn),An=Ht[0],oi=Ht[1],Dt=v.getElemPos(ge.start);Mt(function(){An.startPos=Dt,xe.current=!0,oi(m({},An))},[Dt]);var Fe=v.getElemPos(ge.end);return Mt(function(){An.endPos=Fe,xe.current=!0,oi(m({},An))},[Fe]),w.useLayoutEffect(function(){xe.current=!0,oi(m({},An))},[ge.headShape.svgElem,ge.tailShape.svgElem]),[ge,An]};d.default=wt},"./src/Xarrow/utils/GetPosition.tsx":function(f,d,p){var m=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(d,"__esModule",{value:!0}),d.getPosition=void 0;var g=p("./src/Xarrow/anchors.ts"),x=p("./src/Xarrow/utils/index.ts"),k=m(p("lodash")),b=p("./src/constants.tsx"),w=p("./src/Xarrow/utils/buzzier.js"),v=function(C,_){var M,A,P,D,B=C[0],U=C[1],fe=B.startAnchor,me=B.endAnchor,Y=B.strokeWidth,le=B.showHead,ee=B.headSize,ve=B.showTail,Se=B.tailSize,W=B.path,X=B.curveness,ie=B.gridBreak,ke=B.headShape,Ue=B.tailShape,fn=B._extendSVGcanvas,$t=B._cpx1Offset,Zt=B._cpy1Offset,Mt=B._cpx2Offset,wt=B._cpy2Offset,j=U.startPos,Q=U.endPos,ae=_.current,ge=ae.svgRef,et=ae.lineRef,xe=0,be=0,On=g.calcAnchors(fe,j),Qi=g.calcAnchors(me,Q),Ht=x.getShortestLine(On,Qi),An=Ht.chosenStart,oi=Ht.chosenEnd,Dt=An.anchor.position,Fe=oi.anchor.position,St=k.default.pick(An,["x","y"]),kt=k.default.pick(oi,["x","y"]),bi=x.getSvgPos(ge),$r=Math.min(St.x,kt.x)-bi.x,Ks=Math.min(St.y,kt.y)-bi.y,Hr=kt.x-St.x,Gn=kt.y-St.y,lt=Math.abs(kt.x-St.x),re=Math.abs(kt.y-St.y),Pe=Hr>0?1:-1,Le=Gn>0?1:-1,Zi=[ke.offsetForward,Ue.offsetForward],Pn=Zi[0],Xn=Zi[1],pt=ee*Y,at=Se*Y,si=0,gr=0,Ur=0,Dn=0,Jn=pt*Pn,dn=at*Xn,mt=Number(X);b.cPaths.includes(W)||(W="smooth"),W==="straight"&&(mt=0,W="smooth");var li=ee>Se?ee:Se,Yn=Y+Y*li/2,yr=Yn,en=Yn,vr=Yn,es=Yn;en+=Number(fn),yr+=Number(fn),vr+=Number(fn),es+=Number(fn);var hn=0,Rn=lt,pn=0,In=re;if(Hr<0&&(M=[Rn,hn],hn=M[0],Rn=M[1]),Gn<0&&(A=[In,pn],pn=A[0],In=A[1]),mt===0){var xr=Math.atan(re/lt);le&&(Rn-=pt*(1-Pn)*Pe*Math.cos(xr),In-=pt*(1-Pn)*Le*Math.sin(xr),xr*=Le,Pe<0&&(xr=(Math.PI-xr*Pe)*Pe),si=Math.cos(xr)*Jn-Math.sin(xr)*pt/2,gr=Math.cos(xr)*pt/2+Math.sin(xr)*Jn,xe=xr*180/Math.PI);var wr=Math.atan(re/lt);ve&&(hn+=at*(1-Xn)*Pe*Math.cos(wr),pn+=at*(1-Xn)*Le*Math.sin(wr),wr*=-Le,Pe>0&&(wr=(Math.PI-wr*Pe)*Pe),Ur=Math.cos(wr)*dn-Math.sin(wr)*at/2,Dn=Math.cos(wr)*at/2+Math.sin(wr)*dn,be=wr*180/Math.PI)}else Fe==="middle"&&(lt>re?Fe="left":Fe="top"),le&&(["left","right"].includes(Fe)?(si+=Jn*Pe,Rn-=pt*(1-Pn)*Pe,gr+=pt*Pe/2,Fe==="left"?(xe=0,Pe<0&&(xe+=180)):(xe=180,Pe>0&&(xe+=180))):["top","bottom"].includes(Fe)&&(si+=pt*-Le/2,gr+=Jn*Le,In-=pt*Le-gr,Fe==="top"?(xe=270,Le>0&&(xe+=180)):(xe=90,Le<0&&(xe+=180))));ve&&mt!==0&&(["left","right"].includes(Dt)?(Ur+=dn*-Pe,hn+=at*Pe+Ur,Dn+=-(at*Pe)/2,Dt==="left"?(be=180,Pe<0&&(be+=180)):(be=0,Pe>0&&(be+=180))):["top","bottom"].includes(Dt)&&(Dn+=dn*-Le,pn+=at*Le+Dn,Ur+=at*Le/2,Dt==="top"?(be=90,Le>0&&(be+=180)):(be=270,Le<0&&(be+=180))));var Rh={x:si,y:gr},Ih={x:Ur,y:Dn},mn=hn,gn=pn,Ln=Rn,yn=In,ra={};W==="smooth"?ra={hh:function(){mn+=lt*mt*Pe,Ln-=lt*mt*Pe},vv:function(){gn+=re*mt*Le,yn-=re*mt*Le},hv:function(){mn+=lt*mt*Pe,yn-=re*mt*Le},vh:function(){gn+=re*mt*Le,Ln-=lt*mt*Pe}}:W==="grid"&&(ra={hh:function(){mn+=(lt*ie.relative+ie.abs)*Pe,Ln-=(lt*(1-ie.relative)-ie.abs)*Pe,le&&(mn-=pt*(1-Pn)/2*Pe,Ln+=pt*(1-Pn)/2*Pe),ve&&(mn-=at*(1-Xn)/2*Pe,Ln+=at*(1-Xn)/2*Pe)},vv:function(){gn+=(re*ie.relative+ie.abs)*Le,yn-=(re*(1-ie.relative)-ie.abs)*Le,le&&(gn-=pt*(1-Pn)/2*Le,yn+=pt*(1-Pn)/2*Le),ve&&(gn-=at*(1-Xn)/2*Le,yn+=at*(1-Xn)/2*Le)},hv:function(){mn=Rn},vh:function(){gn=In}});var Qn="";["left","right"].includes(Dt)?Qn+="h":["bottom","top"].includes(Dt)?Qn+="v":Dt==="middle"&&(Qn+="m"),["left","right"].includes(Fe)?Qn+="h":["bottom","top"].includes(Fe)?Qn+="v":Fe==="middle"&&(Qn+="m"),lt>re?Qn=Qn.replace(/m/g,"h"):Qn=Qn.replace(/m/g,"v"),ra[Qn](),mn+=$t,gn+=Zt,Ln+=Mt,yn+=wt;var Ku=w.buzzierMinSols(hn,mn,Ln,Rn),qu=Ku[0],Gu=Ku[1],Xu=w.buzzierMinSols(pn,gn,yn,In),ts=Xu[0],Ju=Xu[1];qu<0&&(en+=-qu),Gu>lt&&(yr+=Gu-lt),ts<0&&(vr+=-ts),Ju>re&&(es+=Ju-re),W==="grid"&&(en+=Yn,yr+=Yn,vr+=Yn,es+=Yn),hn+=en,Rn+=en,pn+=vr,In+=vr,mn+=en,Ln+=en,gn+=vr,yn+=vr;var qs=lt+en+yr,Lh=re+vr+es;$r-=en,Ks-=vr;var ia=w.bzFunction(hn,mn,Ln,Rn),oa=w.bzFunction(pn,gn,yn,In),Yu={x:ia(.01),y:oa(.01)},Qu={x:ia(.5),y:oa(.5)},Zu={x:ia(.99),y:oa(.99)},sa;return W==="grid"?sa="M "+hn+" "+pn+" L  "+mn+" "+gn+" L "+Ln+" "+yn+" "+Rn+" "+In:W==="smooth"&&(sa="M "+hn+" "+pn+" C "+mn+" "+gn+", "+Ln+" "+yn+", "+Rn+" "+In),{cx0:$r,cy0:Ks,x1:hn,x2:Rn,y1:pn,y2:In,cw:qs,ch:Lh,cpx1:mn,cpy1:gn,cpx2:Ln,cpy2:yn,dx:Hr,dy:Gn,absDx:lt,absDy:re,headOrient:xe,tailOrient:be,labelStartPos:Yu,labelMiddlePos:Qu,labelEndPos:Zu,excLeft:en,excRight:yr,excUp:vr,excDown:es,headOffset:Jn,arrowHeadOffset:Rh,arrowTailOffset:Ih,startPoints:On,endPoints:Qi,mainDivPos:bi,xSign:Pe,ySign:Le,lineLength:(D=(P=et.current)===null||P===void 0?void 0:P.getTotalLength())!==null&&D!==void 0?D:0,fHeadSize:pt,fTailSize:at,arrowPath:sa}};d.getPosition=v},"./src/Xarrow/utils/index.ts":function(f,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getSvgPos=d.getElemPos=d.getShortestLine=d.xStr2absRelative=d.factorDpathStr=d.getElementByPropGiven=void 0;var p=function(v){var C;return typeof v=="string"?C=document.getElementById(v):C=v==null?void 0:v.current,C};d.getElementByPropGiven=p;var m=function(v,C){var _=v.split(/(\d+(?:\.\d+)?)/);return _=_.map(function(M){return Number(M)?(Number(M)*C).toString():M}),_.join("")};d.factorDpathStr=m;var g=function(v){if(typeof v!="string")return{abs:0,relative:.5};var C=v.split("%"),_=0,M=0;if(C.length==1){var A=parseFloat(C[0]);if(!isNaN(A))return _=A,{abs:_,relative:0}}else if(C.length==2){var P=[parseFloat(C[0]),parseFloat(C[1])],D=P[0],B=P[1];if(isNaN(D)||(M=D/100),isNaN(B)||(_=B),!isNaN(D)||!isNaN(B))return{abs:_,relative:M}}};d.xStr2absRelative=g;var x=function(v,C){return Math.sqrt(Math.pow(v.x-C.x,2)+Math.pow(v.y-C.y,2))},k=function(v,C){var _=1/0,M=1/0,A;return v.forEach(function(P){C.forEach(function(D){M=x(P,D),M<_&&(_=M,A={chosenStart:P,chosenEnd:D})})}),A};d.getShortestLine=k;var b=function(v){if(!v)return{x:0,y:0,right:0,bottom:0};var C=v.getBoundingClientRect();return{x:C.left,y:C.top,right:C.right,bottom:C.bottom}};d.getElemPos=b;var w=function(v){if(!v.current)return{x:0,y:0};var C=v.current.getBoundingClientRect(),_=C.left,M=C.top,A=getComputedStyle(v.current),P=Number(A.left.slice(0,-2)),D=Number(A.top.slice(0,-2));return{x:_-P,y:M-D}};d.getSvgPos=w},"./src/Xwrapper.tsx":function(f,d,p){var m=this&&this.__createBinding||(Object.create?function(M,A,P,D){D===void 0&&(D=P),Object.defineProperty(M,D,{enumerable:!0,get:function(){return A[P]}})}:function(M,A,P,D){D===void 0&&(D=P),M[D]=A[P]}),g=this&&this.__setModuleDefault||(Object.create?function(M,A){Object.defineProperty(M,"default",{enumerable:!0,value:A})}:function(M,A){M.default=A}),x=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var A={};if(M!=null)for(var P in M)P!=="default"&&Object.prototype.hasOwnProperty.call(M,P)&&m(A,M,P);return g(A,M),A};Object.defineProperty(d,"__esModule",{value:!0}),d.XarrowContext=d.XelemContext=void 0;var k=x(p("react"));d.XelemContext=k.default.createContext(null),d.XarrowContext=k.default.createContext(null);var b={},w=0,v=function(M){var A=M.children,P=M.instanceCount,D=k.useState({}),B=D[1],U=function(){return B({})};return k.useEffect(function(){P.current=w,b[P.current]=U},[]),k.default.createElement(d.XarrowContext.Provider,{value:U},A)},C=function(M){var A=M.children,P=M.instanceCount;return k.default.createElement(d.XelemContext.Provider,{value:b[P.current]},A)},_=function(M){var A=M.children,P=k.useRef(w),D=k.useState({}),B=D[1];return k.useEffect(function(){return w++,B({}),function(){delete b[P.current]}},[]),k.default.createElement(C,{instanceCount:P},k.default.createElement(v,{instanceCount:P},A))};d.default=_},"./src/constants.tsx":function(f,d,p){var m=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(d,"__esModule",{value:!0}),d.cArrowShapes=d.arrowShapes=d.cSvgElems=d.cPaths=d.cAnchorEdge=void 0;var g=m(p("react"));d.cAnchorEdge=["middle","left","right","top","bottom","auto"],d.cPaths=["smooth","grid","straight"],d.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],d.arrowShapes={arrow1:{svgElem:g.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:g.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:g.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},d.cArrowShapes=Object.keys(d.arrowShapes)},"./src/index.tsx":function(f,d,p){var m=this&&this.__createBinding||(Object.create?function(v,C,_,M){M===void 0&&(M=_),Object.defineProperty(v,M,{enumerable:!0,get:function(){return C[_]}})}:function(v,C,_,M){M===void 0&&(M=_),v[M]=C[_]}),g=this&&this.__exportStar||function(v,C){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(C,_)&&m(C,v,_)},x=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(d,"__esModule",{value:!0}),d.useXarrow=d.Xwrapper=d.default=void 0;var k=p("./src/Xarrow/Xarrow.tsx");Object.defineProperty(d,"default",{enumerable:!0,get:function(){return x(k).default}}),g(p("./src/types.ts"),d),g(p("./src/constants.tsx"),d);var b=p("./src/Xwrapper.tsx");Object.defineProperty(d,"Xwrapper",{enumerable:!0,get:function(){return x(b).default}});var w=p("./src/useXarrow.tsx");Object.defineProperty(d,"useXarrow",{enumerable:!0,get:function(){return x(w).default}})},"./src/types.ts":function(f,d){Object.defineProperty(d,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(f,d,p){Object.defineProperty(d,"__esModule",{value:!0});var m=p("react"),g=p("./src/Xwrapper.tsx"),x=function(){var k=m.useState({}),b=k[1],w=function(){return b({})},v=m.useContext(g.XelemContext);return v||(v=function(){}),m.useLayoutEffect(function(){v()}),w};d.default=x},lodash:function(f){f.exports=r},"prop-types":function(f){f.exports=i},react:function(f){f.exports=n}},s={};function a(f){var d=s[f];if(d!==void 0)return d.exports;var p=s[f]={id:f,loaded:!1,exports:{}};return o[f].call(p.exports,p,p.exports,a),p.loaded=!0,p.exports}a.c=s,function(){a.d=function(f,d){for(var p in d)a.o(d,p)&&!a.o(f,p)&&Object.defineProperty(f,p,{enumerable:!0,get:d[p]})}}(),function(){a.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)}}(),function(){a.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})}}(),function(){a.nmd=function(f){return f.paths=[],f.children||(f.children=[]),f}}();var c=a(a.s="./src/index.tsx");return c}()})})(BC);var FC=BC.exports;const xL=Jd(FC);var ph={exports:{}},jC={},Gg={exports:{}};function $C(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$C(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ww(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$C(t))&&(r&&(r+=" "),r+=e);return r}Gg.exports=Ww,Gg.exports.clsx=Ww;var wL=Gg.exports,ht={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.dontSetMe=EL;Si.findInArray=SL;Si.int=CL;Si.isFunction=kL;Si.isNum=bL;function SL(t,e){for(let n=0,r=t.length;n<r;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function kL(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function bL(t){return typeof t=="number"&&!isNaN(t)}function CL(t){return parseInt(t,10)}function EL(t,e,n){if(t[e])return new Error(`Invalid prop ${e} passed to ${n} - do not set this, set it on the child.`)}var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.browserPrefixToKey=UC;Hs.browserPrefixToStyle=TL;Hs.default=void 0;Hs.getPrefix=HC;const Cm=["Moz","Webkit","O","ms"];function HC(){var n,r;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(r=(n=window.document)==null?void 0:n.documentElement)==null?void 0:r.style;if(!e||t in e)return"";for(let i=0;i<Cm.length;i++)if(UC(t,Cm[i])in e)return Cm[i];return""}function UC(t,e){return e?`${e}${ML(t)}`:t}function TL(t,e){return e?`-${e.toLowerCase()}-${t}`:t}function ML(t){let e="",n=!0;for(let r=0;r<t.length;r++)n?(e+=t[r].toUpperCase(),n=!1):t[r]==="-"?n=!0:e+=t[r];return e}Hs.default=HC();Object.defineProperty(ht,"__esModule",{value:!0});ht.addClassName=KC;ht.addEvent=NL;ht.addUserSelectStyles=jL;ht.createCSSTransform=LL;ht.createSVGTransform=zL;ht.getTouch=BL;ht.getTouchIdentifier=FL;ht.getTranslation=wy;ht.innerHeight=DL;ht.innerWidth=RL;ht.matchesSelector=WC;ht.matchesSelectorAndParentsTo=_L;ht.offsetXYFromParent=IL;ht.outerHeight=AL;ht.outerWidth=PL;ht.removeClassName=qC;ht.removeEvent=OL;ht.scheduleRemoveUserSelectStyles=$L;var cr=Si,Kw=VC(Hs);function VC(t,e){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(VC=function(i,o){if(!o&&i&&i.__esModule)return i;var s,a,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(s=o?r:n){if(s.has(i))return s.get(i);s.set(i,c)}for(const f in i)f!=="default"&&{}.hasOwnProperty.call(i,f)&&((a=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,f))&&(a.get||a.set)?s(c,f,a):c[f]=i[f]);return c})(t,e)}let rf="";function WC(t,e){return rf||(rf=(0,cr.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,cr.isFunction)(t[n])})),(0,cr.isFunction)(t[rf])?t[rf](e):!1}function _L(t,e,n){let r=t;do{if(WC(r,e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function NL(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function OL(t,e,n,r){if(!t)return;const i={capture:!0,...r};t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function AL(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,cr.int)(n.borderTopWidth),e+=(0,cr.int)(n.borderBottomWidth),e}function PL(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,cr.int)(n.borderLeftWidth),e+=(0,cr.int)(n.borderRightWidth),e}function DL(t){let e=t.clientHeight;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,cr.int)(n.paddingTop),e-=(0,cr.int)(n.paddingBottom),e}function RL(t){let e=t.clientWidth;const n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,cr.int)(n.paddingLeft),e-=(0,cr.int)(n.paddingRight),e}function IL(t,e,n){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,s=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:s}}function LL(t,e){const n=wy(t,e,"px");return{[(0,Kw.browserPrefixToKey)("transform",Kw.default)]:n}}function zL(t,e){return wy(t,e,"")}function wy(t,e,n){let{x:r,y:i}=t,o=`translate(${r}${n},${i}${n})`;if(e){const s=`${typeof e.x=="string"?e.x:e.x+n}`,a=`${typeof e.y=="string"?e.y:e.y+n}`;o=`translate(${s}, ${a})`+o}return o}function BL(t,e){return t.targetTouches&&(0,cr.findInArray)(t.targetTouches,n=>e===n.identifier)||t.changedTouches&&(0,cr.findInArray)(t.changedTouches,n=>e===n.identifier)}function FL(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function jL(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&KC(t.body,"react-draggable-transparent-selection")}function $L(t){window.requestAnimationFrame?window.requestAnimationFrame(()=>{qw(t)}):qw(t)}function qw(t){if(t)try{if(t.body&&qC(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function KC(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp(`(?:^|\\s)${e}(?!\\S)`))||(t.className+=` ${e}`)}function qC(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g"),"")}var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.canDragX=VL;ki.canDragY=WL;ki.createCoreData=qL;ki.createDraggableData=GL;ki.getBoundPosition=HL;ki.getControlPosition=KL;ki.snapToGrid=UL;var or=Si,_l=ht;function HL(t,e,n){if(!t.props.bounds)return[e,n];let{bounds:r}=t.props;r=typeof r=="string"?r:XL(r);const i=Sy(t);if(typeof r=="string"){const{ownerDocument:o}=i,s=o.defaultView;let a;if(r==="parent"?a=i.parentNode:a=i.getRootNode().querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,f=s.getComputedStyle(i),d=s.getComputedStyle(c);r={left:-i.offsetLeft+(0,or.int)(d.paddingLeft)+(0,or.int)(f.marginLeft),top:-i.offsetTop+(0,or.int)(d.paddingTop)+(0,or.int)(f.marginTop),right:(0,_l.innerWidth)(c)-(0,_l.outerWidth)(i)-i.offsetLeft+(0,or.int)(d.paddingRight)-(0,or.int)(f.marginRight),bottom:(0,_l.innerHeight)(c)-(0,_l.outerHeight)(i)-i.offsetTop+(0,or.int)(d.paddingBottom)-(0,or.int)(f.marginBottom)}}return(0,or.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,or.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,or.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,or.isNum)(r.top)&&(n=Math.max(n,r.top)),[e,n]}function UL(t,e,n){const r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}function VL(t){return t.props.axis==="both"||t.props.axis==="x"}function WL(t){return t.props.axis==="both"||t.props.axis==="y"}function KL(t,e,n){const r=typeof e=="number"?(0,_l.getTouch)(t,e):null;if(typeof e=="number"&&!r)return null;const i=Sy(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,_l.offsetXYFromParent)(r||t,o,n.props.scale)}function qL(t,e,n){const r=!(0,or.isNum)(t.lastX),i=Sy(t);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:i,deltaX:e-t.lastX,deltaY:n-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:n}}function GL(t,e){const n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}}function XL(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function Sy(t){const e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var mh={},gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.default=JL;function JL(){}Object.defineProperty(mh,"__esModule",{value:!0});mh.default=void 0;var Em=GC(se),Sn=ky(xy()),YL=ky(hh),sn=ht,co=ki,Tm=Si,Oa=ky(gh);function ky(t){return t&&t.__esModule?t:{default:t}}function GC(t,e){if(typeof WeakMap=="function")var n=new WeakMap,r=new WeakMap;return(GC=function(i,o){if(!o&&i&&i.__esModule)return i;var s,a,c={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return c;if(s=o?r:n){if(s.has(i))return s.get(i);s.set(i,c)}for(const f in i)f!=="default"&&{}.hasOwnProperty.call(i,f)&&((a=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,f))&&(a.get||a.set)?s(c,f,a):c[f]=i[f]);return c})(t,e)}function kn(t,e,n){return(e=QL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=ZL(t,"string");return typeof e=="symbol"?e:e+""}function ZL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Xr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let fo=Xr.mouse,yh=class extends Em.Component{constructor(){super(...arguments),kn(this,"dragging",!1),kn(this,"lastX",NaN),kn(this,"lastY",NaN),kn(this,"touchIdentifier",null),kn(this,"mounted",!1),kn(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,sn.matchesSelectorAndParentsTo)(e.target,this.props.handle,n)||this.props.cancel&&(0,sn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,n))return;e.type==="touchstart"&&!this.props.allowMobileScroll&&e.preventDefault();const i=(0,sn.getTouchIdentifier)(e);this.touchIdentifier=i;const o=(0,co.getControlPosition)(e,i,this);if(o==null)return;const{x:s,y:a}=o,c=(0,co.createCoreData)(this,s,a);(0,Oa.default)("DraggableCore: handleDragStart: %j",c),(0,Oa.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,sn.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=a,(0,sn.addEvent)(r,fo.move,this.handleDrag),(0,sn.addEvent)(r,fo.stop,this.handleDragStop))}),kn(this,"handleDrag",e=>{const n=(0,co.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=i-this.lastY;if([a,c]=(0,co.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,i=this.lastY+c}const o=(0,co.createCoreData)(this,r,i);if((0,Oa.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(e,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=i}),kn(this,"handleDragStop",e=>{if(!this.dragging)return;const n=(0,co.getControlPosition)(e,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,f=i-this.lastY||0;[c,f]=(0,co.snapToGrid)(this.props.grid,c,f),r=this.lastX+c,i=this.lastY+f}const o=(0,co.createCoreData)(this,r,i);if(this.props.onStop(e,o)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,sn.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,Oa.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Oa.default)("DraggableCore: Removing handlers"),(0,sn.removeEvent)(a.ownerDocument,fo.move,this.handleDrag),(0,sn.removeEvent)(a.ownerDocument,fo.stop,this.handleDragStop))}),kn(this,"onMouseDown",e=>(fo=Xr.mouse,this.handleDragStart(e))),kn(this,"onMouseUp",e=>(fo=Xr.mouse,this.handleDragStop(e))),kn(this,"onTouchStart",e=>(fo=Xr.touch,this.handleDragStart(e))),kn(this,"onTouchEnd",e=>(fo=Xr.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,sn.addEvent)(e,Xr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:n}=e;(0,sn.removeEvent)(n,Xr.mouse.move,this.handleDrag),(0,sn.removeEvent)(n,Xr.touch.move,this.handleDrag),(0,sn.removeEvent)(n,Xr.mouse.stop,this.handleDragStop),(0,sn.removeEvent)(n,Xr.touch.stop,this.handleDragStop),(0,sn.removeEvent)(e,Xr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,sn.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var e,n,r;return(e=this.props)!=null&&e.nodeRef?(r=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:r.current:YL.default.findDOMNode(this)}render(){return Em.cloneElement(Em.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};mh.default=yh;kn(yh,"displayName","DraggableCore");kn(yh,"propTypes",{allowAnyClick:Sn.default.bool,allowMobileScroll:Sn.default.bool,children:Sn.default.node.isRequired,disabled:Sn.default.bool,enableUserSelectHack:Sn.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Sn.default.arrayOf(Sn.default.number),handle:Sn.default.string,cancel:Sn.default.string,nodeRef:Sn.default.object,onStart:Sn.default.func,onDrag:Sn.default.func,onStop:Sn.default.func,onMouseDown:Sn.default.func,scale:Sn.default.number,className:Tm.dontSetMe,style:Tm.dontSetMe,transform:Tm.dontSetMe});kn(yh,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=p(se),n=d(xy()),r=d(hh),i=wL,o=ht,s=ki,a=Si,c=d(mh),f=d(gh);function d(w){return w&&w.__esModule?w:{default:w}}function p(w,v){if(typeof WeakMap=="function")var C=new WeakMap,_=new WeakMap;return(p=function(M,A){if(!A&&M&&M.__esModule)return M;var P,D,B={__proto__:null,default:M};if(M===null||typeof M!="object"&&typeof M!="function")return B;if(P=A?_:C){if(P.has(M))return P.get(M);P.set(M,B)}for(const U in M)U!=="default"&&{}.hasOwnProperty.call(M,U)&&((D=(P=Object.defineProperty)&&Object.getOwnPropertyDescriptor(M,U))&&(D.get||D.set)?P(B,U,D):B[U]=M[U]);return B})(w,v)}function m(){return m=Object.assign?Object.assign.bind():function(w){for(var v=1;v<arguments.length;v++){var C=arguments[v];for(var _ in C)({}).hasOwnProperty.call(C,_)&&(w[_]=C[_])}return w},m.apply(null,arguments)}function g(w,v,C){return(v=x(v))in w?Object.defineProperty(w,v,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[v]=C,w}function x(w){var v=k(w,"string");return typeof v=="symbol"?v:v+""}function k(w,v){if(typeof w!="object"||!w)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var _=C.call(w,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}class b extends e.Component{static getDerivedStateFromProps(v,C){let{position:_}=v,{prevPropsPosition:M}=C;return _&&(!M||_.x!==M.x||_.y!==M.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:_,prevPropsPosition:M}),{x:_.x,y:_.y,prevPropsPosition:{..._}}):null}constructor(v){super(v),g(this,"onDragStart",(C,_)=>{if((0,f.default)("Draggable: onDragStart: %j",_),this.props.onStart(C,(0,s.createDraggableData)(this,_))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(C,_)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",_);const M=(0,s.createDraggableData)(this,_),A={x:M.x,y:M.y,slackX:0,slackY:0};if(this.props.bounds){const{x:D,y:B}=A;A.x+=this.state.slackX,A.y+=this.state.slackY;const[U,fe]=(0,s.getBoundPosition)(this,A.x,A.y);A.x=U,A.y=fe,A.slackX=this.state.slackX+(D-A.x),A.slackY=this.state.slackY+(B-A.y),M.x=A.x,M.y=A.y,M.deltaX=A.x-this.state.x,M.deltaY=A.y-this.state.y}if(this.props.onDrag(C,M)===!1)return!1;this.setState(A)}),g(this,"onDragStop",(C,_)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,_))===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",_);const A={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:D,y:B}=this.props.position;A.x=D,A.y=B}this.setState(A)}),this.state={dragging:!1,dragged:!1,x:v.position?v.position.x:v.defaultPosition.x,y:v.position?v.position.y:v.defaultPosition.y,prevPropsPosition:{...v.position},slackX:0,slackY:0,isElementSVG:!1},v.position&&!(v.onDrag||v.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var v,C;return((C=(v=this.props)==null?void 0:v.nodeRef)==null?void 0:C.current)??r.default.findDOMNode(this)}render(){const{axis:v,bounds:C,children:_,defaultPosition:M,defaultClassName:A,defaultClassNameDragging:P,defaultClassNameDragged:D,position:B,positionOffset:U,scale:fe,...me}=this.props;let Y={},le=null;const ve=!!!B||this.state.dragging,Se=B||M,W={x:(0,s.canDragX)(this)&&ve?this.state.x:Se.x,y:(0,s.canDragY)(this)&&ve?this.state.y:Se.y};this.state.isElementSVG?le=(0,o.createSVGTransform)(W,U):Y=(0,o.createCSSTransform)(W,U);const X=(0,i.clsx)(_.props.className||"",A,{[P]:this.state.dragging,[D]:this.state.dragged});return e.createElement(c.default,m({},me,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(_),{className:X,style:{..._.props.style,...Y},transform:le}))}}t.default=b,g(b,"displayName","Draggable"),g(b,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(b,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(jC);const{default:XC,DraggableCore:e3}=jC;ph.exports=XC;ph.exports.default=XC;ph.exports.DraggableCore=e3;var t3=ph.exports;const n3=Jd(t3);function r3({id:t,type:e,content:n,x:r,y:i,scale:o,isSelected:s,onUpdate:a,onDelete:c,onDrag:f,onConnectStart:d,onConnectEnd:p}){const m=se.useRef(null);return I.jsx(n3,{nodeRef:m,position:{x:r,y:i},scale:o,onDrag:(g,x)=>f(t,x.x,x.y),handle:".drag-handle",children:I.jsxs("div",{ref:m,id:t,className:`absolute w-64 rounded-lg shadow-xl flex flex-col transition-shadow
          ${e==="text"?"bg-yellow-200 border border-yellow-300":"bg-slate-800 border-4 border-slate-700"}
          ${s?"ring-4 ring-emerald-500 z-50":"z-10"}
        `,children:[["top","bottom","left","right"].map(g=>I.jsx("div",{className:`absolute w-4 h-4 bg-slate-400 rounded-full hover:bg-emerald-500 cursor-crosshair z-50
              ${g==="top"?"-top-2 left-1/2 -translate-x-1/2":""}
              ${g==="bottom"?"-bottom-2 left-1/2 -translate-x-1/2":""}
              ${g==="left"?"-left-2 top-1/2 -translate-y-1/2":""}
              ${g==="right"?"-right-2 top-1/2 -translate-y-1/2":""}
            `,onMouseDown:x=>{x.stopPropagation(),d(t)},onMouseUp:x=>{x.stopPropagation(),p(t)}},g)),I.jsx("div",{className:"drag-handle h-6 w-full cursor-grab active:cursor-grabbing flex justify-end px-2 items-center rounded-t-lg bg-black/10 hover:bg-black/20 z-20 absolute top-0 left-0 opacity-0 hover:opacity-100 transition-opacity",children:I.jsx("button",{onClick:()=>c(t),onMouseDown:g=>g.stopPropagation(),className:"text-red-500 font-bold px-2 bg-white/80 rounded-full h-4 w-4 flex items-center justify-center text-xs mt-1",children:""})}),I.jsx("div",{className:"w-full overflow-hidden rounded-lg min-h-[100px]",children:e==="text"?I.jsx("textarea",{className:"w-full h-40 p-3 bg-transparent resize-none outline-none text-slate-800 placeholder-yellow-600/50 pt-8 font-medium",placeholder:"...",value:n,onChange:g=>a(t,g.target.value),onMouseDown:g=>g.stopPropagation()}):I.jsx("img",{src:n,alt:"Uploaded",className:"w-full h-auto object-cover pointer-events-none select-none block"})})]})})}function i3({initialItems:t=[],initialConnections:e=[],onDataChange:n}){const[r,i]=se.useState(t),[o,s]=se.useState(e);se.useEffect(()=>{(t.length>0||e.length>0)&&(console.log(":",t.length,""),i(t),s(e))},[t,e]),se.useEffect(()=>{n&&n(r,o)},[r,o,n]);const[a,c]=se.useState(1),[f,d]=se.useState({x:0,y:0}),[p,m]=se.useState(null),[g,x]=se.useState(!1),k=se.useRef(!1),b=se.useRef({x:0,y:0}),w=se.useRef(null),v=se.useRef(null),C=()=>{var Se,W;const Y=((Se=w.current)==null?void 0:Se.clientWidth)||window.innerWidth,le=((W=w.current)==null?void 0:W.clientHeight)||window.innerHeight,ee=(-f.x+Y/2)/a,ve=(-f.y+le/2)/a;return{x:ee-100,y:ve-60}},_=()=>{const{x:Y,y:le}=C();i(ee=>[...ee,{id:zo(),type:"text",content:"",x:Y,y:le}]),x(!1)},M=()=>{var Y;(Y=v.current)==null||Y.click(),x(!1)},A=Y=>{var ee;const le=(ee=Y.target.files)==null?void 0:ee[0];if(le){const ve=new FileReader;ve.onload=Se=>{const{x:W,y:X}=C();i(ie=>{var ke;return[...ie,{id:zo(),type:"image",content:(ke=Se.target)==null?void 0:ke.result,x:W,y:X}]})},ve.readAsDataURL(le)}Y.target.value=""},P=Y=>{s(le=>le.filter(ee=>ee.id!==Y))},D=Y=>{Y.ctrlKey||Y.metaKey;{const le=Math.min(Math.max(a-Y.deltaY*.001,.1),5);c(le)}},B=Y=>{Y.button===1&&(k.current=!0,b.current={x:Y.clientX,y:Y.clientY})},U=Y=>{if(k.current){const le=Y.clientX-b.current.x,ee=Y.clientY-b.current.y;d(ve=>({x:ve.x+le,y:ve.y+ee})),b.current={x:Y.clientX,y:Y.clientY}}},fe=()=>{k.current=!1,m(null)},me=Y=>{p&&p!==Y&&(o.find(ee=>ee.start===p&&ee.end===Y||ee.start===Y&&ee.end===p)||s(ee=>[...ee,{id:zo(),start:p,end:Y}])),m(null)};return I.jsxs("div",{ref:w,className:"absolute inset-0 bg-slate-900 overflow-hidden select-none",onWheel:D,onMouseDown:B,onMouseMove:U,onMouseUp:fe,onMouseLeave:fe,children:[I.jsx("input",{type:"file",ref:v,onChange:A,className:"hidden",accept:"image/*"}),I.jsx("div",{className:"absolute top-4 left-4 z-50 text-slate-500 text-sm pointer-events-none",children:I.jsx("p",{children:"  |   |  "})}),I.jsx("div",{className:"w-full h-full origin-top-left will-change-transform",style:{transform:`translate(${f.x}px, ${f.y}px) scale(${a})`},children:I.jsxs("div",{className:"relative w-[5000px] h-[5000px]",children:[I.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#ffffff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),I.jsxs(FC.Xwrapper,{children:[r.map(Y=>I.jsx(r3,{...Y,scale:a,isSelected:p===Y.id,onUpdate:(le,ee)=>i(ve=>ve.map(Se=>Se.id===le?{...Se,content:ee}:Se)),onDelete:le=>{i(ee=>ee.filter(ve=>ve.id!==le)),s(ee=>ee.filter(ve=>ve.start!==le&&ve.end!==le))},onDrag:(le,ee,ve)=>i(Se=>Se.map(W=>W.id===le?{...W,x:ee,y:ve}:W)),onConnectStart:m,onConnectEnd:me},Y.id)),o.map(Y=>I.jsx(xL,{start:Y.start,end:Y.end,color:"#10b981",strokeWidth:3,path:"smooth",zIndex:10,labels:{middle:I.jsx("div",{onClick:le=>{le.stopPropagation(),P(Y.id)},className:"pointer-events-auto cursor-pointer p-1 rounded-full bg-slate-800 border border-slate-600 hover:bg-red-500 hover:border-red-500 hover:text-white text-slate-400 transition-colors z-[999]",title:"",children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:I.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}},Y.id))]})]})}),I.jsxs("div",{className:"absolute bottom-8 right-8 flex flex-col items-end gap-4 z-[100]",children:[I.jsxs("div",{className:`flex flex-col gap-3 transition-all duration-300 origin-bottom ${g?"opacity-100 scale-100":"opacity-0 scale-0 pointer-events-none"}`,children:[I.jsx("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full shadow-lg",children:I.jsx("span",{children:" "})}),I.jsx("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-400 text-white rounded-full shadow-lg",children:I.jsx("span",{children:" "})})]}),I.jsx("button",{onClick:()=>x(!g),className:`w-16 h-16 bg-emerald-500 hover:bg-emerald-400 text-white rounded-full shadow-2xl flex items-center justify-center text-3xl font-bold transition-transform duration-300 ${g?"rotate-45":"rotate-0"}`,children:"+"})]})]})}function o3({todos:t,members:e,onUpdate:n}){const[r,i]=se.useState(""),[o,s]=se.useState(""),a=d=>{d.preventDefault(),r.trim()&&(n([...t,{id:zo(),text:r,done:!1,assigneeId:o}]),i(""))},c=d=>{n(t.map(p=>p.id===d?{...p,done:!p.done}:p))},f=d=>{n(t.filter(p=>p.id!==d))};return I.jsxs("div",{className:"w-80 bg-slate-800 border-l border-slate-700 flex flex-col shrink-0 h-full",children:[I.jsxs("div",{className:"p-4 border-b border-slate-700 font-bold text-slate-200 flex justify-between items-center",children:[I.jsx("span",{children:" "}),I.jsxs("span",{className:"text-xs text-slate-500",children:[t.filter(d=>!d.done).length," "]})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:[t.map(d=>{const p=e.find(m=>m.id===d.assigneeId);return I.jsx("div",{className:"bg-slate-900/50 p-2 rounded border border-slate-700/50 hover:border-emerald-500/30 group transition-colors",children:I.jsxs("div",{className:"flex gap-2 items-start",children:[I.jsx("input",{type:"checkbox",checked:d.done,onChange:()=>c(d.id),className:"mt-1 accent-emerald-500 cursor-pointer"}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("div",{className:`text-sm break-words ${d.done?"line-through text-slate-600":"text-slate-300"}`,children:d.text}),p&&I.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-slate-800/50 w-fit px-1 rounded",children:[p.avatar?I.jsx("img",{src:p.avatar,className:"w-4 h-4 rounded-full object-cover"}):I.jsx("div",{className:`w-4 h-4 rounded-full ${p.color} text-[8px] flex items-center justify-center text-white`,children:p.name[0]}),I.jsx("span",{className:"text-xs text-slate-400",children:p.name})]})]}),I.jsx("button",{onClick:()=>f(d.id),className:"text-slate-600 hover:text-red-400 opacity-0 group-hover:opacity-100 px-1 font-bold",children:""})]})},d.id)}),t.length===0&&I.jsx("div",{className:"text-center text-slate-600 text-sm mt-10",children:""})]}),I.jsxs("form",{onSubmit:a,className:"p-3 border-t border-slate-700 flex flex-col gap-2 bg-slate-800",children:[I.jsx("input",{value:r,onChange:d=>i(d.target.value),className:"bg-slate-900 border border-slate-600 rounded px-2 py-2 text-sm text-white outline-none focus:border-emerald-500 transition-colors",placeholder:"..."}),I.jsxs("div",{className:"flex gap-2",children:[I.jsxs("select",{value:o,onChange:d=>s(d.target.value),className:"bg-slate-700 text-slate-300 text-xs rounded border border-slate-600 flex-1 outline-none px-2",children:[I.jsx("option",{value:"",children:"--  --"}),e.map(d=>I.jsxs("option",{value:d.id,children:[d.name," - ",d.role]},d.id))]}),I.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 text-white text-xs px-4 rounded font-bold",children:""})]})]})]})}function s3({members:t,todos:e,onUpdateMembers:n,onUpdateTodos:r}){var b;const i=se.useRef(null),[o,s]=se.useState({visible:!1,x:0,y:0,memberId:""}),[a,c]=se.useState({isOpen:!1,type:"add",inputValue:""});se.useEffect(()=>{const w=()=>s(v=>({...v,visible:!1}));return window.addEventListener("click",w),()=>window.removeEventListener("click",w)},[]);const f=w=>{if(w.preventDefault(),!!a.inputValue.trim()){if(a.type==="add"){const v=["bg-red-500","bg-blue-500","bg-emerald-500","bg-purple-500","bg-yellow-500","bg-orange-500","bg-pink-500"],C={id:zo(),name:a.inputValue.trim(),role:"",color:v[Math.floor(Math.random()*v.length)]};n([...t,C])}else a.type==="rename"&&a.targetId?n(t.map(v=>v.id===a.targetId?{...v,name:a.inputValue.trim()}:v)):a.type==="role"&&a.targetId&&n(t.map(v=>v.id===a.targetId?{...v,role:a.inputValue.trim()}:v));c({...a,isOpen:!1})}},d=()=>{c({isOpen:!0,type:"add",inputValue:""})},p=()=>{const w=t.find(v=>v.id===o.memberId);w&&(c({isOpen:!0,type:"rename",inputValue:w.name,targetId:w.id}),s(v=>({...v,visible:!1})))},m=()=>{const w=t.find(v=>v.id===o.memberId);w&&(c({isOpen:!0,type:"role",inputValue:w.role,targetId:w.id}),s(v=>({...v,visible:!1})))},g=(w,v)=>{w.preventDefault(),w.stopPropagation();const C=Math.min(w.clientX,window.innerWidth-200),_=Math.min(w.clientY,window.innerHeight-250);s({visible:!0,x:C,y:_,memberId:v})},x=w=>{var C;const v=(C=w.target.files)==null?void 0:C[0];if(v&&o.memberId){const _=new FileReader;_.onload=M=>{n(t.map(A=>{var P;return A.id===o.memberId?{...A,avatar:(P=M.target)==null?void 0:P.result}:A}))},_.readAsDataURL(v)}s(_=>({..._,visible:!1})),w.target.value=""},k=()=>{confirm("")&&n(t.filter(w=>w.id!==o.memberId)),s(w=>({...w,visible:!1}))};return I.jsxs("div",{className:"flex h-full w-full bg-slate-900 overflow-hidden relative",children:[I.jsx("input",{type:"file",ref:i,onChange:x,className:"hidden",accept:"image/*"}),I.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[I.jsxs("div",{className:"p-8 pb-4 border-b border-slate-800 flex justify-between items-center shrink-0",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-3xl font-bold text-white",children:" "}),I.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),I.jsxs("button",{onClick:d,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg font-bold shadow-lg transition-colors flex items-center gap-2",children:[I.jsx("span",{children:"+"})," "]})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:I.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[t.map(w=>I.jsxs("div",{onContextMenu:v=>g(v,w.id),className:"bg-slate-800 border border-slate-700 rounded-xl p-6 flex flex-col items-center gap-4 hover:border-emerald-500 hover:shadow-xl hover:-translate-y-1 transition-all group relative cursor-pointer select-none",children:[I.jsx("div",{className:`w-20 h-20 rounded-full border-4 border-slate-700 flex items-center justify-center text-3xl text-white font-bold overflow-hidden shadow-inner ${w.color}`,children:w.avatar?I.jsx("img",{src:w.avatar,className:"w-full h-full object-cover"}):w.name[0]}),I.jsxs("div",{className:"text-center w-full",children:[I.jsx("h3",{className:"text-lg font-bold text-white truncate px-2",children:w.name}),I.jsx("div",{className:"mt-1 inline-block px-2 py-0.5 bg-slate-900 rounded text-xs text-emerald-400 border border-slate-700 max-w-full truncate",children:w.role})]}),I.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-slate-500",children:""})]},w.id)),t.length===0&&I.jsx("div",{className:"col-span-full py-10 text-center text-slate-500 border-2 border-dashed border-slate-800 rounded-xl",children:""})]})})]}),I.jsx(o3,{todos:e,members:t,onUpdate:r}),a.isOpen&&I.jsx("div",{className:"fixed inset-0 bg-black/70 z-[10000] flex items-center justify-center backdrop-blur-sm",onClick:()=>c({...a,isOpen:!1}),children:I.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-6 rounded-xl w-96 shadow-2xl animate-in zoom-in-95 duration-200",onClick:w=>w.stopPropagation(),children:[I.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:a.type==="add"?"":a.type==="rename"?"":""}),I.jsxs("form",{onSubmit:f,children:[I.jsx("input",{autoFocus:!0,value:a.inputValue,onChange:w=>c({...a,inputValue:w.target.value}),placeholder:a.type==="role"?": , ...":"...",className:"w-full bg-slate-900 border border-slate-600 rounded px-4 py-3 text-white outline-none focus:border-emerald-500 mb-6"}),I.jsxs("div",{className:"flex justify-end gap-3",children:[I.jsx("button",{type:"button",onClick:()=>c({...a,isOpen:!1}),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:""}),I.jsx("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded font-bold shadow-lg",children:""})]})]})]})}),o.visible&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>s(w=>({...w,visible:!1}))}),I.jsxs("div",{className:"fixed z-[9999] bg-slate-800 border border-slate-600 rounded-lg shadow-2xl py-1 w-44 flex flex-col animate-in fade-in zoom-in-95 duration-100",style:{top:o.y,left:o.x},children:[I.jsxs("div",{className:"px-4 py-2 text-xs text-slate-500 border-b border-slate-700 font-bold bg-slate-900/50",children:[": ",(b=t.find(w=>w.id===o.memberId))==null?void 0:b.name]}),I.jsxs("button",{onClick:p,className:"px-4 py-3 text-left text-slate-200 hover:bg-emerald-600 hover:text-white flex items-center gap-3 transition-colors text-sm",children:[I.jsx("span",{children:""})," "]}),I.jsxs("button",{onClick:m,className:"px-4 py-3 text-left text-slate-200 hover:bg-emerald-600 hover:text-white flex items-center gap-3 transition-colors text-sm",children:[I.jsx("span",{children:""})," "]}),I.jsxs("button",{onClick:()=>{var w;return(w=i.current)==null?void 0:w.click()},className:"px-4 py-3 text-left text-slate-200 hover:bg-emerald-600 hover:text-white flex items-center gap-3 transition-colors text-sm",children:[I.jsx("span",{children:""})," "]}),I.jsx("div",{className:"h-[1px] bg-slate-700 my-1 mx-2"}),I.jsxs("button",{onClick:k,className:"px-4 py-3 text-left text-red-400 hover:bg-red-600 hover:text-white flex items-center gap-3 transition-colors text-sm rounded-b-lg",children:[I.jsx("span",{children:""})," "]})]})]})]})}var JC={exports:{}},YC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=se;function l3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a3=typeof Object.is=="function"?Object.is:l3,u3=Wl.useState,c3=Wl.useEffect,f3=Wl.useLayoutEffect,d3=Wl.useDebugValue;function h3(t,e){var n=e(),r=u3({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return f3(function(){i.value=n,i.getSnapshot=e,Mm(i)&&o({inst:i})},[t,n,e]),c3(function(){return Mm(i)&&o({inst:i}),t(function(){Mm(i)&&o({inst:i})})},[t]),d3(n),n}function Mm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!a3(t,n)}catch{return!0}}function p3(t,e){return e()}var m3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p3:h3;YC.useSyncExternalStore=Wl.useSyncExternalStore!==void 0?Wl.useSyncExternalStore:m3;JC.exports=YC;var by=JC.exports;function qt(t){this.content=t}qt.prototype={constructor:qt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new qt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new qt(n)},addToStart:function(t,e){return new qt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new qt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new qt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=qt.from(t),t.size?new qt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=qt.from(t),t.size?new qt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=qt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};qt.from=function(t){if(t instanceof qt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new qt(e)};function QC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=QC(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function ZC(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),c=s.nodeSize;if(s==a){n-=c,r-=c;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let f=0,d=Math.min(s.text.length,a.text.length);for(;f<d&&s.text[s.text.length-f-1]==a.text[a.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let f=ZC(s.content,a.content,n-1,r-1);if(f)return f}n-=c,r-=c}}class K{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let c=this.content[s],f=a+c.nodeSize;if(f>e&&r(c,i+a,o||null,s)!==!1&&c.content.size){let d=a+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),r,i+d)}a=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,c)=>{let f=a.isText?a.text.slice(Math.max(e,c)-c,n-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&f||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=f},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new K(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],c=s+a.nodeSize;c>e&&((s<e||c>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=c}return new K(r,i)}cutByIndex(e,n){return e==n?K.empty:e==0&&n==this.content.length?this:new K(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new K(i,o)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return QC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return ZC(this,e,n,r)}findIndex(e){if(e==0)return of(0,e);if(e==this.size)return of(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?of(n+1,o):of(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return K.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new K(n||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const _m={index:0,offset:0};function of(t,e){return _m.index=t,_m.offset=e,_m}function sd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!sd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!sd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let We=class Xg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&sd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Xg.none;if(e instanceof Xg)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};We.none=[];class ld extends Error{}class Z{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=tE(this.content,e+this.openStart,n);return r&&new Z(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Z(eE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Z.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(K.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Z(e,r,i)}}Z.empty=new Z(K.empty,0,0);function eE(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(eE(o.content,e-i-1,n-i-1)))}function tE(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=tE(s.content,e-o-1,n,s);return a&&t.replaceChild(i,s.copy(a))}function g3(t,e,n){if(n.openStart>t.depth)throw new ld("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ld("Inconsistent open depths");return nE(t,e,n,0)}function nE(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=nE(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Ts(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=y3(n,t);return Ts(o,iE(t,s,a,e,r))}else return Ts(o,ad(t,e,r))}function rE(t,e){if(!e.type.compatibleContent(t.type))throw new ld("Cannot join "+e.type.name+" onto "+t.type.name)}function Jg(t,e,n){let r=t.node(n);return rE(r,e.node(n)),r}function Es(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Za(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Es(t.nodeAfter,r),o++));for(let a=o;a<s;a++)Es(i.child(a),r);e&&e.depth==n&&e.textOffset&&Es(e.nodeBefore,r)}function Ts(t,e){return t.type.checkContent(e),t.copy(e)}function iE(t,e,n,r,i){let o=t.depth>i&&Jg(t,e,i+1),s=r.depth>i&&Jg(n,r,i+1),a=[];return Za(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(rE(o,s),Es(Ts(o,iE(t,e,n,r,i+1)),a)):(o&&Es(Ts(o,ad(t,e,i+1)),a),Za(e,n,i,a),s&&Es(Ts(s,ad(n,r,i+1)),a)),Za(r,null,i,a),new K(a)}function ad(t,e,n){let r=[];if(Za(null,t,n,r),t.depth>n){let i=Jg(t,e,n+1);Es(Ts(i,ad(t,e,n+1)),r)}return Za(e,null,n,r),new K(r)}function y3(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(K.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Tu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return We.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ud(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:c}=s.content.findIndex(o),f=o-c;if(r.push(s,a,i+c),!f||(s=s.child(a),s.isText))break;o=f-1,i+=c+1}return new Tu(n,r,o)}static resolveCached(e,n){let r=Gw.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else Gw.set(e,r=new v3);let i=r.elts[r.i]=Tu.resolve(e,n);return r.i=(r.i+1)%x3,i}}class v3{constructor(){this.elts=[],this.i=0}}const x3=12,Gw=new WeakMap;class ud{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const w3=Object.create(null);class ri{constructor(e,n,r,i=We.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&sd(this.attrs,n||e.defaultAttrs||w3)&&We.sameSet(this.marks,r||We.none)}copy(e=null){return e==this.content?this:new ri(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ri(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Z.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),f=i.node(s).content.cut(i.pos-a,o.pos-a);return new Z(f,i.depth-s,o.depth-s)}replace(e,n,r){return g3(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Tu.resolveCached(this,e)}resolveNoCache(e){return Tu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),oE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=K.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=i;c<o;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=We.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!We.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=K.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}}ri.prototype.text=void 0;class cd extends ri{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):oE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new cd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new cd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function oE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Is{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new S3(e,n);if(r.next==null)return Is.empty;let i=sE(r);r.next&&r.err("Unexpected trailing text");let o=_3(M3(i));return N3(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let c=s.matchFragment(e,r);if(c&&(!n||c.validEnd))return K.from(a.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:d,next:p}=s.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(p)==-1){i.push(p);let m=o(p,a.concat(d));if(m)return m}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:c}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Is.empty=new Is(!0);class S3{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function sE(t){let e=[];do e.push(k3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function k3(t){let e=[];do e.push(b3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function b3(t){let e=T3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=C3(t,e);else break;return e}function Xw(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function C3(t,e){let n=Xw(t),r=n;return t.eat(",")&&(t.next!="}"?r=Xw(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function E3(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function T3(t){if(t.eat("(")){let e=sE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=E3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function M3(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,c){let f={term:c,to:a};return e[s].push(f),f}function i(s,a){s.forEach(c=>c.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((c,f)=>c.concat(o(f,a)),[]);if(s.type=="seq")for(let c=0;;c++){let f=o(s.exprs[c],a);if(c==s.exprs.length-1)return f;i(f,a=n())}else if(s.type=="star"){let c=n();return r(a,c),i(o(s.expr,c),c),[r(c)]}else if(s.type=="plus"){let c=n();return i(o(s.expr,a),c),i(o(s.expr,c),c),[r(c)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let c=a;for(let f=0;f<s.min;f++){let d=n();i(o(s.expr,c),d),c=d}if(s.max==-1)i(o(s.expr,c),c);else for(let f=s.min;f<s.max;f++){let d=n();r(c,d),i(o(s.expr,c),d),c=d}return[r(c)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function lE(t,e){return e-t}function Jw(t,e){let n=[];return r(e),n.sort(lE);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:c}=o[s];!a&&n.indexOf(c)==-1&&r(c)}}}function _3(t){let e=Object.create(null);return n(Jw(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:c})=>{if(!a)return;let f;for(let d=0;d<i.length;d++)i[d][0]==a&&(f=i[d][1]);Jw(t,c).forEach(d=>{f||i.push([a,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let o=e[r.join(",")]=new Is(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(lE);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function N3(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:c,next:f}=i.next[a];s.push(c.name),o&&!(c.isText||c.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function uE(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function cE(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function fE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new A3(t,r,e[r]);return n}let Yw=class dE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=fE(e,r.attrs),this.defaultAttrs=aE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Is.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:uE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ri(this,this.computeAttrs(e),K.from(n),We.setFrom(r))}createChecked(e=null,n,r){return n=K.from(n),this.checkContent(n),new ri(this,this.computeAttrs(e),n,We.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=K.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(K.empty,!0);return o?new ri(this,e,n.append(o),We.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){cE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:We.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new dE(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function O3(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class A3{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?O3(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class vh{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=fE(e,i.attrs),this.excluded=null;let o=aE(this.attrs);this.instance=o?new We(this,o):null}create(e=null){return!e&&this.instance?this.instance:new We(this,uE(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new vh(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){cE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class hE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=qt.from(e.nodes),n.marks=qt.from(e.marks||{}),this.nodes=Yw.compile(this.spec.nodes,this),this.marks=vh.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Is.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Qw(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:Qw(this,s.split(" "))}this.nodeFromJSON=i=>ri.fromJSON(this,i),this.markFromJSON=i=>We.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Yw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new cd(r,r.defaultAttrs,e,We.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Qw(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let c=t.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function P3(t){return t.tag!=null}function D3(t){return t.style!=null}class Bo{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(P3(i))this.tags.push(i);else if(D3(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new eS(this,n,!1);return r.addAll(e,We.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new eS(this,n,!0);return r.addAll(e,We.none,n.from,n.to),Z.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(L3(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let c=s.getAttrs(n);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=tS(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=tS(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Bo(e,Bo.schemaRules(e)))}}const pE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},R3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mE={ol:!0,ul:!0},Mu=1,Yg=2,eu=4;function Zw(t,e,n){return e!=null?(e?Mu:0)|(e==="full"?Yg:0):t&&t.whitespace=="pre"?Mu|Yg:n&~eu}class sf{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=We.none,this.match=o||(s&eu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(K.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Mu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=K.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!pE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class eS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=Zw(null,n.preserveWhitespace,0)|(r?eu:0);i?o=new sf(i.type,i.attrs,We.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new sf(null,null,We.none,!0,null,s):o=new sf(e.schema.topNodeType,null,We.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&Yg?"full":this.localPreserveWS||(i.options&Mu)>0,{schema:s}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let c=0;c<a.length;c++)c&&this.insertNode(s.linebreakReplacement.create(),n,!0),a[c]&&this.insertNode(s.text(a[c]),n,!/\S/.test(a[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;mE.hasOwnProperty(s)&&this.parser.normalizeLists&&I3(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(c?c.ignore:R3.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,d=this.needsBlock;if(pE.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),f=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let p=c&&c.skip?n:this.readStyles(e,n);p&&this.addAll(e,p),f&&this.sync(o),this.needsBlock=d}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,c,f,c.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let c=this.parser.matchStyle(o,s,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(f=>!c.clearMark(f)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(s,n.attrs||null,r,n.preserveWhitespace);c&&(o=!0,r=c)}else{let c=this.parser.schema.marks[n.mark];r=r.concat(c.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let s=this.open,a=0;s>=0;s--){let c=this.nodes[s],f=c.findWrapping(e);if(f&&(!i||i.length>f.length+a)&&(i=f,o=c,!f.length))break;if(c.solid){if(r)break;a+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=We.none;for(let a of i.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):nS(a.type,e.type))&&(s=a.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=Zw(e,o,s.options);s.options&eu&&s.content.length==0&&(a|=eu);let c=We.none;return r=r.filter(f=>(s.type?s.type.allowsMarkType(f.type):nS(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new sf(e,n,c,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Mu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,c)=>{for(;a>=0;a--){let f=n[a];if(f==""){if(a==n.length-1||a==0)continue;for(;c>=o;c--)if(s(a-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=o?r.node(c-o).type:null;if(!d||d.name!=f&&!d.isInGroup(f))return!1;c--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function I3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&mE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function L3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function tS(t){let e={};for(let n in t)e[n]=t[n];return e}function nS(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let c=0;c<a.edgeCount;c++){let{type:f,next:d}=a.edge(c);if(f==e||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}class Us{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Nm(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,c=0;for(;a<o.length&&c<s.marks.length;){let f=s.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(o[a][0])||f.type.spec.spanning===!1)break;a++,c++}for(;a<o.length;)i=o.pop()[1];for(;c<s.marks.length;){let f=s.marks[c++],d=this.serializeMark(f,s.isInline,n);d&&(o.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Af(Nm(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Af(Nm(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Af(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Us(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=rS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return rS(e.marks)}}function rS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Nm(t){return t.document||window.document}const iS=new WeakMap;function z3(t){let e=iS.get(t);return e===void 0&&iS.set(t,e=B3(t)),e}function B3(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Af(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=z3(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,c=n?t.createElementNS(n,i):t.createElement(i),f=e[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let p in f)if(f[p]!=null){let m=p.indexOf(" ");m>0?c.setAttributeNS(p.slice(0,m),p.slice(m+1),f[p]):p=="style"&&c.style?c.style.cssText=f[p]:c.setAttribute(p,f[p])}}for(let p=d;p<e.length;p++){let m=e[p];if(m===0){if(p<e.length-1||p>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:x}=Af(t,m,n,r);if(c.appendChild(g),x){if(a)throw new RangeError("Multiple content holes");a=x}}}return{dom:c,contentDOM:a}}const gE=65535,yE=Math.pow(2,16);function F3(t,e){return t+e*yE}function oS(t){return t&gE}function j3(t){return(t-(t&gE))/yE}const vE=1,xE=2,Pf=4,wE=8;class Qg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&wE)>0}get deletedBefore(){return(this.delInfo&(vE|Pf))>0}get deletedAfter(){return(this.delInfo&(xE|Pf))>0}get deletedAcross(){return(this.delInfo&Pf)>0}}class lr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&lr.empty)return lr.empty}recover(e){let n=0,r=oS(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+j3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[a+o],d=this.ranges[a+s],p=c+f;if(e<=p){let m=f?e==c?-1:e==p?1:n:n,g=c+i+(m<0?0:d);if(r)return g;let x=e==(n<0?c:p)?null:F3(a/3,e-c),k=e==c?xE:e==p?vE:Pf;return(n<0?e!=c:e!=p)&&(k|=wE),new Qg(g,k,x)}i+=d-f}return r?e+i:new Qg(e+i,0,null)}touches(e,n){let r=0,i=oS(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>e)break;let f=this.ranges[a+o],d=c+f;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+s]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),c=s+(this.inverted?0:o),f=this.ranges[i+n],d=this.ranges[i+r];e(a,a+f,c,c+d),o+=d-f}}invert(){return new lr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?lr.empty:new lr(e<0?[0,-e,0]:[0,0,e])}}lr.empty=new lr([]);class _u{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new _u(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new _u;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(e,n);if(a.recover!=null){let c=this.getMirror(o);if(c!=null&&c>o&&c<this.to){o=c,e=this._maps[c].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Qg(e,i,null)}}const Om=Object.create(null);class cn{getMap(){return lr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Om[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Om)throw new RangeError("Duplicate use of step JSON ID "+e);return Om[e]=n,n.prototype.jsonID=e,n}}class Ct{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ct(e,null)}static fail(e){return new Ct(null,e)}static fromReplace(e,n,r,i){try{return Ct.ok(e.replace(n,r,i))}catch(o){if(o instanceof ld)return Ct.fail(o.message);throw o}}}function Cy(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Cy(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return K.fromArray(r)}class To extends cn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Z(Cy(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Ct.fromReplace(e,this.from,this.to,o)}invert(){return new ei(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new To(n.pos,r.pos,this.mark)}merge(e){return e instanceof To&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new To(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new To(n.from,n.to,e.markFromJSON(n.mark))}}cn.jsonID("addMark",To);class ei extends cn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Z(Cy(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ct.fromReplace(e,this.from,this.to,r)}invert(){return new To(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ei(n.pos,r.pos,this.mark)}merge(e){return e instanceof ei&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ei(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ei(n.from,n.to,e.markFromJSON(n.mark))}}cn.jsonID("removeMark",ei);class Mo extends cn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ct.fromReplace(e,this.pos,this.pos+1,new Z(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Mo(this.pos,n.marks[i]);return new Mo(this.pos,this.mark)}}return new Ls(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Mo(n.pos,e.markFromJSON(n.mark))}}cn.jsonID("addNodeMark",Mo);class Ls extends cn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ct.fromReplace(e,this.pos,this.pos+1,new Z(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Mo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ls(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ls(n.pos,e.markFromJSON(n.mark))}}cn.jsonID("removeNodeMark",Ls);class Lt extends cn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Zg(e,this.from,this.to)?Ct.fail("Structure replace would overwrite content"):Ct.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new lr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Lt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Lt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Lt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Lt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Lt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Lt(n.from,n.to,Z.fromJSON(e,n.slice),!!n.structure)}}cn.jsonID("replace",Lt);class Ft extends cn{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Zg(e,this.from,this.gapFrom)||Zg(e,this.gapTo,this.to)))return Ct.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ct.fromReplace(e,this.from,this.to,r):Ct.fail("Content does not fit in gap")}getMap(){return new lr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ft(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ft(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ft(n.from,n.to,n.gapFrom,n.gapTo,Z.fromJSON(e,n.slice),n.insert,!!n.structure)}}cn.jsonID("replaceAround",Ft);function Zg(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function $3(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(c,f,d)=>{if(!c.isInline)return;let p=c.marks;if(!r.isInSet(p)&&d.type.allowsMarkType(r.type)){let m=Math.max(f,e),g=Math.min(f+c.nodeSize,n),x=r.addToSet(p);for(let k=0;k<p.length;k++)p[k].isInSet(x)||(s&&s.to==m&&s.mark.eq(p[k])?s.to=g:i.push(s=new ei(m,g,p[k])));a&&a.to==m?a.to=g:o.push(a=new To(m,g,r))}}),i.forEach(c=>t.step(c)),o.forEach(c=>t.step(c))}function H3(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let c=null;if(r instanceof vh){let f=s.marks,d;for(;d=r.isInSet(f);)(c||(c=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(s.marks)&&(c=[r]):c=s.marks;if(c&&c.length){let f=Math.min(a+s.nodeSize,n);for(let d=0;d<c.length;d++){let p=c[d],m;for(let g=0;g<i.length;g++){let x=i[g];x.step==o-1&&p.eq(i[g].style)&&(m=x)}m?(m.to=f,m.step=o):i.push({style:p,from:Math.max(a,e),to:f,step:o})}}}),i.forEach(s=>t.step(new ei(s.from,s.to,s.style)))}function Ey(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let c=0;c<o.childCount;c++){let f=o.child(c),d=a+f.nodeSize,p=r.matchType(f.type);if(!p)s.push(new Lt(a,d,Z.empty));else{r=p;for(let m=0;m<f.marks.length;m++)n.allowsMarkType(f.marks[m].type)||t.step(new ei(a,d,f.marks[m]));if(i&&f.isText&&n.whitespace!="pre"){let m,g=/\r?\n|\r/g,x;for(;m=g.exec(f.text);)x||(x=new Z(K.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),s.push(new Lt(a+m.index,a+m.index+m[0].length,x))}}a=d}if(!r.validEnd){let c=r.fillBefore(K.empty,!0);t.replace(a,a,new Z(c,0,0))}for(let c=s.length-1;c>=0;c--)t.step(s[c])}function U3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function na(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,o=0;;--r){let s=t.$from.node(r),a=t.$from.index(r)+i,c=t.$to.indexAfter(r)-o;if(r<t.depth&&s.canReplace(a,c,n))return r;if(r==0||s.type.spec.isolating||!U3(s,a,c))break;a&&(i=1),c<s.childCount&&(o=1)}return null}function V3(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),c=s,f=a,d=K.empty,p=0;for(let x=o,k=!1;x>n;x--)k||r.index(x)>0?(k=!0,d=K.from(r.node(x).copy(d)),p++):c--;let m=K.empty,g=0;for(let x=o,k=!1;x>n;x--)k||i.after(x+1)<i.end(x)?(k=!0,m=K.from(i.node(x).copy(m)),g++):f++;t.step(new Ft(c,f,s,a,new Z(d.append(m),p,g),d.size-p,!0))}function Ty(t,e,n=null,r=t){let i=W3(t,e),o=i&&K3(r,e);return o?i.map(sS).concat({type:e,attrs:n}).concat(o.map(sS)):null}function sS(t){return{type:t,attrs:null}}function W3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function K3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let c=(s.length?s[s.length-1]:e).contentMatch;for(let f=r;c&&f<i;f++)c=c.matchType(n.child(f).type);return!c||!c.validEnd?null:s}function q3(t,e,n){let r=K.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ft(i,o,i,o,new Z(r,0,0),n.length,!0))}function G3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let c=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,c)&&X3(t.doc,t.mapping.slice(o).map(a),r)){let f=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!x?f=!1:!g&&x&&(f=!0)}f===!1&&kE(t,s,a,o),Ey(t,t.mapping.slice(o).map(a,1),r,void 0,f===null);let d=t.mapping.slice(o),p=d.map(a,1),m=d.map(a+s.nodeSize,1);return t.step(new Ft(p,m,p+1,m-1,new Z(K.from(r.create(c,null,s.marks)),0,0),1,!0)),f===!0&&SE(t,s,a,o),!1}})}function SE(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let c=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function kE(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function X3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function J3(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ft(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Z(K.from(s),0,0),1,!0))}function Vi(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>o;f--,d--){let p=i.node(f),m=i.index(f);if(p.type.spec.isolating)return!1;let g=p.content.cutByIndex(m,p.childCount),x=r&&r[d+1];x&&(g=g.replaceChild(0,x.type.create(x.attrs)));let k=r&&r[d]||p;if(!p.canReplace(m+1,p.childCount)||!k.type.validContent(g))return!1}let a=i.indexAfter(o),c=r&&r[0];return i.node(o).canReplaceWith(a,a,c?c.type:i.node(o+1).type)}function Y3(t,e,n=1,r){let i=t.doc.resolve(e),o=K.empty,s=K.empty;for(let a=i.depth,c=i.depth-n,f=n-1;a>c;a--,f--){o=K.from(i.node(a).copy(o));let d=r&&r[f];s=K.from(d?d.type.create(d.attrs,s):i.node(a).copy(s))}t.step(new Lt(e,e,new Z(o.append(s),n,n),!0))}function Jo(t,e){let n=t.resolve(e),r=n.index();return bE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Q3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function bE(t,e){return!!(t&&e&&!t.isLeaf&&Q3(t,e))}function xh(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&bE(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function Z3(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let d=s.whitespace=="pre",p=!!s.contentMatch.matchType(i);d&&!p?r=!1:!d&&p&&(r=!0)}let a=t.steps.length;if(r===!1){let d=t.doc.resolve(e+n);kE(t,d.node(),d.before(),a)}s.inlineContent&&Ey(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let c=t.mapping.slice(a),f=c.map(e-n);if(t.step(new Lt(f,c.map(e+n,-1),Z.empty,!0)),r===!0){let d=t.doc.resolve(f);SE(t,d.node(),d.before(),t.steps.length)}return t}function ez(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function CE(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(a>0?1:0),f=r.node(s),d=!1;if(o==1)d=f.canReplace(c,c,i);else{let p=f.contentMatchAt(c).findWrapping(i.firstChild.type);d=p&&f.canReplaceWith(c,c,p[0])}if(d)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function wh(t,e,n=e,r=Z.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return EE(i,o,r)?new Lt(e,n,r):new tz(i,o,r).fit()}function EE(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class tz{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=K.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let c=new Z(o,s,a);return e>-1?new Ft(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Lt(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Am(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:f}=this.frontier[a],d,p=null;if(n==1&&(s?f.matchType(s.type)||(p=f.fillBefore(K.from(s),!1)):o&&c.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:p};if(n==2&&s&&(d=f.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:d};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Am(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Z(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Am(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new Z(ja(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Z(ja(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let k=0;k<o.length;k++)this.openFrontierNode(o[k]);let s=this.unplaced,a=r?r.content:s.content,c=s.openStart-e,f=0,d=[],{match:p,type:m}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)d.push(i.child(k));p=p.matchFragment(i)}let g=a.size+e-(s.content.size-s.openEnd);for(;f<a.childCount;){let k=a.child(f),b=p.matchType(k.type);if(!b)break;f++,(f>1||c==0||k.content.size)&&(p=b,d.push(TE(k.mark(m.allowedMarks(k.marks)),f==1?c:0,f==a.childCount?g:-1)))}let x=f==a.childCount;x||(g=-1),this.placed=$a(this.placed,n,K.from(d)),this.frontier[n].match=p,x&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,b=a;k<g;k++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=x?e==0?Z.empty:new Z(ja(s.content,e-1,1),e-1,g<0?s.openEnd:e-1):new Z(ja(s.content,e,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Pm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Pm(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:c,type:f}=this.frontier[a],d=Pm(e,a,f,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=$a(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=$a(this.placed,this.depth,K.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(K.empty,!0);n.childCount&&(this.placed=$a(this.placed,this.frontier.length,n))}}function ja(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ja(t.firstChild.content,e-1,n)))}function $a(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy($a(t.lastChild.content,e-1,n)))}function Am(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function TE(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,TE(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),t.copy(r)}function Pm(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!nz(n,o.content,s)?a:null}function nz(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function rz(t){return t.spec.defining||t.spec.definingForContent}function iz(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(EE(i,o,r))return t.step(new Lt(e,n,r));let s=_E(i,o);s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let m=i.depth,g=i.pos-1;m>0;m--,g--){let x=i.node(m).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;s.indexOf(m)>-1?a=m:i.before(m)==g&&s.splice(1,0,-m)}let c=s.indexOf(a),f=[],d=r.openStart;for(let m=r.content,g=0;;g++){let x=m.firstChild;if(f.push(x),g==r.openStart)break;m=x.content}for(let m=d-1;m>=0;m--){let g=f[m],x=rz(g.type);if(x&&!g.sameMarkup(i.node(Math.abs(a)-1)))d=m;else if(x||!g.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+d+1)%(r.openStart+1),x=f[g];if(x)for(let k=0;k<s.length;k++){let b=s[(k+c)%s.length],w=!0;b<0&&(w=!1,b=-b);let v=i.node(b-1),C=i.index(b-1);if(v.canReplaceWith(C,C,x.type,x.marks))return t.replace(i.before(b),w?o.after(b):n,new Z(ME(r.content,0,r.openStart,g),g,r.openEnd))}}let p=t.steps.length;for(let m=s.length-1;m>=0&&(t.replace(e,n,r),!(t.steps.length>p));m--){let g=s[m];g<0||(e=i.before(g),n=o.after(g))}}function ME(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(ME(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(K.empty,!0))}return t}function oz(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=ez(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Z(K.from(r),0,0))}function sz(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=_E(r,i);for(let s=0;s<o.length;s++){let a=o[s],c=s==o.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function _E(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Ll extends cn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ct.fromReplace(e,this.pos,this.pos+1,new Z(K.from(i),0,n.isLeaf?0:1))}getMap(){return lr.empty}invert(e){return new Ll(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ll(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ll(n.pos,n.attr,n.value)}}cn.jsonID("attr",Ll);class Nu extends cn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ct.ok(r)}getMap(){return lr.empty}invert(e){return new Nu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Nu(n.attr,n.value)}}cn.jsonID("docAttr",Nu);let Kl=class extends Error{};Kl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Kl.prototype=Object.create(Error.prototype);Kl.prototype.constructor=Kl;Kl.prototype.name="TransformError";class NE{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new _u}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Kl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Z.empty){let i=wh(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Z(K.from(r),0,0))}delete(e,n){return this.replace(e,n,Z.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return iz(this,e,n,r),this}replaceRangeWith(e,n,r){return oz(this,e,n,r),this}deleteRange(e,n){return sz(this,e,n),this}lift(e,n){return V3(this,e,n),this}join(e,n=1){return Z3(this,e,n),this}wrap(e,n){return q3(this,e,n),this}setBlockType(e,n=e,r,i=null){return G3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return J3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Ll(e,n,r)),this}setDocAttribute(e,n){return this.step(new Nu(e,n)),this}addNodeMark(e,n){return this.step(new Mo(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof We)n.isInSet(r.marks)&&this.step(new Ls(e,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new Ls(e,o)),i=o.removeFromSet(i);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(e,n=1,r){return Y3(this,e,n,r),this}addMark(e,n,r){return $3(this,e,n,r),this}removeMark(e,n,r){return H3(this,e,n,r),this}clearIncompatible(e,n,r){return Ey(this,e,n,r),this}}const Dm=Object.create(null);class _e{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new lz(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Z.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:f}=s[a],d=e.mapping.slice(o);e.replaceRange(d.map(c.pos),d.map(f.pos),a?Z.empty:n),a==0&&uS(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],c=e.mapping.slice(r),f=c.map(s.pos),d=c.map(a.pos);o?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),uS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ye(e):dl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?dl(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):dl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fr(e.node(0))}static atStart(e){return dl(e,e,0,0,1)||new fr(e)}static atEnd(e){return dl(e,e,e.content.size,e.childCount,-1)||new fr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Dm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Dm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Dm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}_e.prototype.visible=!0;class lz{constructor(e,n){this.$from=e,this.$to=n}}let lS=!1;function aS(t){!lS&&!t.parent.inlineContent&&(lS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends _e{constructor(e,n=e){aS(e),aS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return _e.near(r);let i=e.resolve(n.map(this.anchor));return new ye(i.parent.inlineContent?i:r,r)}replace(e,n=Z.empty){if(super.replace(e,n),n==Z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Sh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=_e.findFrom(n,r,!0)||_e.findFrom(n,-r,!0);if(o)n=o.$head;else return _e.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(_e.findFrom(e,-r,!0)||_e.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ye(e,n)}}_e.jsonID("text",ye);class Sh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Sh(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class ce extends _e{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?_e.near(o):new ce(o)}content(){return new Z(K.from(this.node),0,0)}eq(e){return e instanceof ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new My(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ce(e.resolve(n.anchor))}static create(e,n){return new ce(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ce.prototype.visible=!1;_e.jsonID("node",ce);class My{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Sh(r,r):new My(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ce.isSelectable(r)?new ce(n):_e.near(n)}}class fr extends _e{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Z.empty){if(n==Z.empty){e.delete(0,e.doc.content.size);let r=_e.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fr(e)}map(e){return new fr(e)}eq(e){return e instanceof fr}getBookmark(){return az}}_e.jsonID("all",fr);const az={map(){return this},resolve(t){return new fr(t)}};function dl(t,e,n,r,i,o=!1){if(e.inlineContent)return ye.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&ce.isSelectable(a))return ce.create(t,n-(i<0?a.nodeSize:0))}else{let c=dl(t,a,n+i,i<0?a.childCount:0,i,o);if(c)return c}n+=a.nodeSize*i}return null}function uS(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Lt||i instanceof Ft))return;let o=t.mapping.maps[r],s;o.forEach((a,c,f,d)=>{s==null&&(s=d)}),t.setSelection(_e.near(t.doc.resolve(s),n))}const cS=1,lf=2,fS=4;class uz extends NE{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cS)&~lf,this.storedMarks=null,this}get selectionSet(){return(this.updated&cS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=lf,this}ensureMarks(e){return We.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&lf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~lf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||We.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(_e.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fS,this}get scrolledIntoView(){return(this.updated&fS)>0}}function dS(t,e){return!e||!t?t:t.bind(e)}class Ha{constructor(e,n,r){this.name=e,this.init=dS(n.init,r),this.apply=dS(n.apply,r)}}const cz=[new Ha("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ha("selection",{init(t,e){return t.selection||_e.atStart(e.doc)},apply(t){return t.selection}}),new Ha("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ha("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Rm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=cz.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ha(r.key,r.spec.state,r))})}}class Nl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let c=i?i[s].n:0,f=i?i[s].state:this,d=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,f,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let p=0;p<this.config.plugins.length;p++)i.push(p<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Nl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new uz(this)}static create(e){let n=new Rm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Nl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Rm(this.schema,e.plugins),r=n.fields,i=new Nl(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Rm(e.schema,e.plugins),o=new Nl(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=ri.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=_e.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],f=c.spec.state;if(c.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=f.fromJSON.call(c,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function OE(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=OE(i,e,{})),n[r]=i}return n}class st{constructor(e){this.spec=e,this.props={},e.props&&OE(e.props,this,this.props),this.key=e.key?e.key.key:AE("plugin")}getState(e){return e[this.key]}}const Im=Object.create(null);function AE(t){return t in Im?t+"$"+ ++Im[t]:(Im[t]=0,t+"$")}class Pt{constructor(e="key"){this.key=AE(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const _y=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function PE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const DE=(t,e,n)=>{let r=PE(t,n);if(!r)return!1;let i=Ny(r);if(!i){let s=r.blockRange(),a=s&&na(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(HE(t,i,e,-1))return!0;if(r.parent.content.size==0&&(ql(o,"end")||ce.isSelectable(o)))for(let s=r.depth;;s--){let a=wh(t.doc,r.before(s),r.after(s),Z.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(ql(o,"end")?_e.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ce.create(c.doc,i.pos-o.nodeSize)),e(c.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},fz=(t,e,n)=>{let r=PE(t,n);if(!r)return!1;let i=Ny(r);return i?RE(t,i,e):!1},dz=(t,e,n)=>{let r=LE(t,n);if(!r)return!1;let i=Oy(r);return i?RE(t,i,e):!1};function RE(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let s=e.nodeAfter,a=s,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let f=wh(t.doc,o,c,Z.empty);if(!f||f.from!=o||f instanceof Lt&&f.slice.size>=c-o)return!1;if(n){let d=t.tr.step(f);d.setSelection(ye.create(d.doc,o)),n(d.scrollIntoView())}return!0}function ql(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const IE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Ny(r)}let s=o&&o.nodeBefore;return!s||!ce.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ce.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Ny(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function LE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const zE=(t,e,n)=>{let r=LE(t,n);if(!r)return!1;let i=Oy(r);if(!i)return!1;let o=i.nodeAfter;if(HE(t,i,e,1))return!0;if(r.parent.content.size==0&&(ql(o,"start")||ce.isSelectable(o))){let s=wh(t.doc,r.before(),r.after(),Z.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ql(o,"start")?_e.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ce.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},BE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Oy(r)}let s=o&&o.nodeAfter;return!s||!ce.isSelectable(s)?!1:(e&&e(t.tr.setSelection(ce.create(t.doc,o.pos)).scrollIntoView()),!0)};function Oy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const hz=(t,e)=>{let n=t.selection,r=n instanceof ce,i;if(r){if(n.node.isTextblock||!Jo(t.doc,n.from))return!1;i=n.from}else if(i=xh(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(ce.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},pz=(t,e)=>{let n=t.selection,r;if(n instanceof ce){if(n.node.isTextblock||!Jo(t.doc,n.to))return!1;r=n.to}else if(r=xh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},mz=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&na(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},FE=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ay(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gz=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=Ay(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),c=t.tr.replaceWith(a,a,s.createAndFill());c.setSelection(_e.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},jE=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof fr||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Ay(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(ye.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},$E=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Vi(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&na(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function yz(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof ce&&e.selection.node.isBlock)return!r.parentOffset||!Vi(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],s,a,c=!1,f=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){c=r.end(g)==r.pos+(r.depth-g),f=r.start(g)==r.pos-(r.depth-g),a=Ay(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),o.unshift(c&&a?{type:a}:null),s=g;break}else{if(g==1)return!1;o.unshift(null)}let d=e.tr;(e.selection instanceof ye||e.selection instanceof fr)&&d.deleteSelection();let p=d.mapping.map(r.pos),m=Vi(d.doc,p,o.length,o);if(m||(o[0]=a?{type:a}:null,m=Vi(d.doc,p,o.length,o)),!m)return!1;if(d.split(p,o.length,o),!c&&f&&r.node(s).type!=a){let g=d.mapping.map(r.before(s)),x=d.doc.resolve(g);a&&r.node(s-1).canReplaceWith(x.index(),x.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(s)),a)}return n&&n(d.scrollIntoView()),!0}}const vz=yz(),xz=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(ce.create(t.doc,i))),!0)};function wz(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Jo(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function HE(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,c=i.type.spec.isolating||o.type.spec.isolating;if(!c&&wz(t,e,n))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let g=e.pos+o.nodeSize,x=K.empty;for(let w=s.length-1;w>=0;w--)x=K.from(s[w].create(null,x));x=K.from(i.copy(x));let k=t.tr.step(new Ft(e.pos-1,g,e.pos,g,new Z(x,1,0),s.length,!0)),b=k.doc.resolve(g+2*s.length);b.nodeAfter&&b.nodeAfter.type==i.type&&Jo(k.doc,b.pos)&&k.join(b.pos),n(k.scrollIntoView())}return!0}let d=o.type.spec.isolating||r>0&&c?null:_e.findFrom(e,1),p=d&&d.$from.blockRange(d.$to),m=p&&na(p);if(m!=null&&m>=e.depth)return n&&n(t.tr.lift(p,m).scrollIntoView()),!0;if(f&&ql(o,"start",!0)&&ql(i,"end")){let g=i,x=[];for(;x.push(g),!g.isTextblock;)g=g.lastChild;let k=o,b=1;for(;!k.isTextblock;k=k.firstChild)b++;if(g.canReplace(g.childCount,g.childCount,k.content)){if(n){let w=K.empty;for(let C=x.length-1;C>=0;C--)w=K.from(x[C].copy(w));let v=t.tr.step(new Ft(e.pos-x.length,e.pos+o.nodeSize,e.pos+b,e.pos+o.nodeSize-b,new Z(w,x.length,0),0,!0));n(v.scrollIntoView())}return!0}}return!1}function UE(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Sz=UE(-1),kz=UE(1);function bz(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&Ty(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function hS(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(c,f)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let d=n.doc.resolve(f),p=d.index();i=d.parent.canReplaceWith(p,p+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[s];o.setBlockType(a,c,t,e)}r(o.scrollIntoView())}return!0}}function Py(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Py(_y,DE,IE);Py(_y,zE,BE);Py(FE,jE,$E,vz);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Cz(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return Ez(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Ez(t,e,n,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=s.resolve(e.start-2);o=new ud(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new ud(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Ty(o,n,r,e);return a?(t&&Tz(t,e,a,i,n),!0):!1}function Tz(t,e,n,r,i){let o=K.empty;for(let d=n.length-1;d>=0;d--)o=K.from(n[d].type.create(n[d].attrs,o));t.step(new Ft(e.start-(r?2:0),e.end,e.start,e.end,new Z(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let a=n.length-s,c=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,p=e.endIndex,m=!0;d<p;d++,m=!1)!m&&Vi(t.doc,c,a)&&(t.split(c,a),c+=2*a),c+=f.child(d).nodeSize;return t}function Mz(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?_z(e,n,t,o):Nz(e,n,o):!0:!1}}function _z(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ft(o-1,s,o,s,new Z(K.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ud(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=na(r);if(a==null)return!1;i.lift(r,a);let c=i.doc.resolve(i.mapping.map(o,-1)-1);return Jo(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function Nz(t,e,n){let r=t.tr,i=n.parent;for(let g=n.end,x=n.endIndex-1,k=n.startIndex;x>k;x--)g-=i.child(x).nodeSize,r.delete(g-1,g+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,c=n.endIndex==i.childCount,f=o.node(-1),d=o.index(-1);if(!f.canReplace(d+(a?0:1),d+1,s.content.append(c?K.empty:K.from(i))))return!1;let p=o.pos,m=p+s.nodeSize;return r.step(new Ft(p-(a?1:0),m+(c?1:0),p+1,m-1,new Z((a?K.empty:K.from(i.copy(K.empty))).append(c?K.empty:K.from(i.copy(K.empty))),a?0:1,c?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Oz(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,c=a.child(s-1);if(c.type!=t)return!1;if(n){let f=c.lastChild&&c.lastChild.type==a.type,d=K.from(f?t.create():null),p=new Z(K.from(t.create(null,K.from(a.type.create(null,d)))),f?3:1,0),m=o.start,g=o.end;n(e.tr.step(new Ft(m-(f?3:1),g,m,g,p,1,!0)).scrollIntoView())}return!0}}const Gt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Gl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let e0=null;const Bi=function(t,e,n){let r=e0||(e0=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Az=function(){e0=null},zs=function(t,e,n,r){return n&&(pS(t,e,n,r,-1)||pS(t,e,n,r,1))},Pz=/^(img|br|input|textarea|hr)$/i;function pS(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Rr(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Hu(t)||Pz.test(t.nodeName)||t.contentEditable=="false")return!1;e=Gt(t)+(i<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=s,e=i<0?Rr(t):0}else return!1}}function Rr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Dz(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Rr(t)}else if(t.parentNode&&!Hu(t))e=Gt(t),t=t.parentNode;else return null}}function Rz(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Hu(t))e=Gt(t)+1,t=t.parentNode;else return null}}function Iz(t,e,n){for(let r=e==0,i=e==Rr(t);r||i;){if(t==n)return!0;let o=Gt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Rr(t)}}function Hu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const kh=function(t){return t.focusNode&&zs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ms(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Lz(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function zz(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Rr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Rr(r.startContainer),r.startOffset)}}}const xi=typeof navigator<"u"?navigator:null,mS=typeof document<"u"?document:null,Yo=xi&&xi.userAgent||"",t0=/Edge\/(\d+)/.exec(Yo),VE=/MSIE \d/.exec(Yo),n0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yo),qn=!!(VE||n0||t0),Fo=VE?document.documentMode:n0?+n0[1]:t0?+t0[1]:0,zr=!qn&&/gecko\/(\d+)/i.test(Yo);zr&&+(/Firefox\/(\d+)/.exec(Yo)||[0,0])[1];const r0=!qn&&/Chrome\/(\d+)/.exec(Yo),zt=!!r0,WE=r0?+r0[1]:0,Qt=!qn&&!!xi&&/Apple Computer/.test(xi.vendor),Xl=Qt&&(/Mobile\/\w+/.test(Yo)||!!xi&&xi.maxTouchPoints>2),Ar=Xl||(xi?/Mac/.test(xi.platform):!1),KE=xi?/Win/.test(xi.platform):!1,Hi=/Android \d/.test(Yo),Uu=!!mS&&"webkitFontSmoothing"in mS.documentElement.style,Bz=Uu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Fz(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Di(t,e){return typeof t=="number"?t:t[e]}function jz(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function gS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=Gl(s);continue}let a=s,c=a==o.body,f=c?Fz(o):jz(a),d=0,p=0;if(e.top<f.top+Di(r,"top")?p=-(f.top-e.top+Di(i,"top")):e.bottom>f.bottom-Di(r,"bottom")&&(p=e.bottom-e.top>f.bottom-f.top?e.top+Di(i,"top")-f.top:e.bottom-f.bottom+Di(i,"bottom")),e.left<f.left+Di(r,"left")?d=-(f.left-e.left+Di(i,"left")):e.right>f.right-Di(r,"right")&&(d=e.right-f.right+Di(i,"right")),d||p)if(c)o.defaultView.scrollBy(d,p);else{let g=a.scrollLeft,x=a.scrollTop;p&&(a.scrollTop+=p),d&&(a.scrollLeft+=d);let k=a.scrollLeft-g,b=a.scrollTop-x;e={left:e.left-k,top:e.top-b,right:e.right-k,bottom:e.bottom-b}}let m=c?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(m))break;s=m=="absolute"?s.offsetParent:Gl(s)}}function $z(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:qE(t.dom)}}function qE(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Gl(r));return e}function Hz({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;GE(n,r==0?0:r-e)}function GE(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ul=null;function Uz(t){if(t.setActive)return t.setActive();if(ul)return t.focus(ul);let e=qE(t);t.focus(ul==null?{get preventScroll(){return ul={preventScroll:!0},!0}}:void 0),ul||(ul=!1,GE(e,0))}function XE(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,c,f;for(let d=t.firstChild,p=0;d;d=d.nextSibling,p++){let m;if(d.nodeType==1)m=d.getClientRects();else if(d.nodeType==3)m=Bi(d).getClientRects();else continue;for(let g=0;g<m.length;g++){let x=m[g];if(x.top<=s&&x.bottom>=a){s=Math.max(x.bottom,s),a=Math.min(x.top,a);let k=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(k<r){n=d,r=k,i=k&&n.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,d.nodeType==1&&k&&(o=p+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!c&&x.left<=e.left&&x.right>=e.left&&(c=d,f={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!n&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(o=p+1)}}return!n&&c&&(n=c,i=f,r=0),n&&n.nodeType==3?Vz(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:XE(n,i)}function Vz(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let s=po(r,1);if(s.top!=s.bottom&&Dy(e,s)){i={node:t,offset:o+(e.left>=(s.left+s.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function Dy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Wz(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Kz(t,e,n){let{node:r,offset:i}=XE(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function qz(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&c.left>r.left||c.top>r.top?i=a.posBefore:(!s&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function JE(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let c=0;c<a.length;c++){let f=a[c];if(Dy(e,f))return JE(s,e,f)}}if((o=(o+1)%r)==i)break}return t}function Gz(t,e){let n=t.dom.ownerDocument,r,i=0,o=zz(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let f=t.dom.getBoundingClientRect();if(!Dy(e,f)||(s=JE(t.dom,e,f),!s))return null}if(Qt)for(let f=s;r&&f;f=Gl(f))f.draggable&&(r=void 0);if(s=Wz(s,e),r){if(zr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],p;d.nodeName=="IMG"&&(p=d.getBoundingClientRect()).right<=e.left&&p.bottom>e.top&&i++}let f;Uu&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=qz(t,r,i,e))}a==null&&(a=Kz(t,s,e));let c=t.docView.nearestDesc(s,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function yS(t){return t.top<t.bottom||t.left<t.right}function po(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(yS(r))return r}return Array.prototype.find.call(n,yS)||t.getBoundingClientRect()}const Xz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function YE(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Uu||zr;if(r.nodeType==3)if(s&&(Xz.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let c=po(Bi(r,i,i),n);if(zr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=po(Bi(r,i-1,i-1),-1);if(f.top==c.top){let d=po(Bi(r,i,i+1),-1);if(d.top!=c.top)return Aa(d,d.left<f.left)}}return c}else{let c=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(c--,d=1):n<0?c--:f++,Aa(po(Bi(r,c,f),d),d<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Rr(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return Lm(c.getBoundingClientRect(),!1)}if(o==null&&i<Rr(r)){let c=r.childNodes[i];if(c.nodeType==1)return Lm(c.getBoundingClientRect(),!0)}return Lm(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Rr(r))){let c=r.childNodes[i-1],f=c.nodeType==3?Bi(c,Rr(c)-(s?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return Aa(po(f,1),!1)}if(o==null&&i<Rr(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Bi(c,0,s?0:1):c.nodeType==1?c:null:null;if(f)return Aa(po(f,-1),!0)}return Aa(po(r.nodeType==3?Bi(r):r,-n),n>=0)}function Aa(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Lm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function QE(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Jz(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return QE(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=YE(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=Bi(a,0,a.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const Yz=/[\u0590-\u08ac]/;function Qz(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return a?!Yz.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:QE(t,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:d,anchorOffset:p}=t.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",n,"character");let g=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:x,focusOffset:k}=t.domSelectionRange(),b=x&&!g.contains(x.nodeType==1?x:x.parentNode)||c==x&&f==k;try{a.collapse(d,p),c&&(c!=d||f!=p)&&a.extend&&a.extend(c,f)}catch{}return m!=null&&(a.caretBidiLevel=m),b}):r.pos==r.start()||r.pos==r.end()}let vS=null,xS=null,wS=!1;function Zz(t,e,n){return vS==e&&xS==n?wS:(vS=e,xS=n,wS=n=="up"||n=="down"?Jz(t,e,n):Qz(t,e,n))}const Br=0,SS=1,xs=2,wi=3;class Vu{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Br,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Gt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof eT){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof ZE&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Gt(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Gt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let c=this.children[a],f=s+c.size;if(i==-1&&e<=f){let d=s+c.border;if(e>=d&&n<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=s;for(let p=a;p>0;p--){let m=this.children[p-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=Gt(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(f>n||a==this.children.length-1)){n=f;for(let d=a+1;d<this.children.length;d++){let p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=Gt(p.dom);break}n+=p.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let g=0,x=0;g<this.children.length;g++){let k=this.children[g],b=x+k.size;if(o>x&&s<b)return k.setSelection(e-x-k.border,n-x-k.border,r,i);x=b}let a=this.domFromPos(e,e?-1:1),c=n==e?a:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),d=r.domSelectionRange(),p=!1;if((zr||Qt)&&e==n){let{node:g,offset:x}=a;if(g.nodeType==3){if(p=!!(x&&g.nodeValue[x-1]==`
`),p&&x==g.nodeValue.length)for(let k=g,b;k;k=k.parentNode){if(b=k.nextSibling){b.nodeName=="BR"&&(a=c={node:b.parentNode,offset:Gt(b)+1});break}let w=k.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let k=g.childNodes[x-1];p=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(zr&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let g=d.focusNode.childNodes[d.focusOffset];g&&g.contentEditable=="false"&&(i=!0)}if(!(i||p&&Qt)&&zs(a.node,a.offset,d.anchorNode,d.anchorOffset)&&zs(c.node,c.offset,d.focusNode,d.focusOffset))return;let m=!1;if((f.extend||e==n)&&!(p&&zr)){f.collapse(a.node,a.offset);try{e!=n&&f.extend(c.node,c.offset),m=!0}catch{}}if(!m){if(e>n){let x=a;a=c,c=x}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(a.node,a.offset),f.removeAllRanges(),f.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,c=s-o.border;if(e>=a&&n<=c){this.dirty=e==r||n==s?xs:SS,e==a&&n==c&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=wi:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?xs:wi}r=s}this.dirty=xs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?xs:SS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class ZE extends Vu{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Br&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class e4 extends Vu{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Bs extends Vu{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Us.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Bs(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&wi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=wi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Br){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Br}}slice(e,n,r){let i=Bs.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=o0(o,n,s,r)),e>0&&(o=o0(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class jo extends Vu{constructor(e,n,r,i,o,s,a,c,f){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],c,f=a&&a(n,o,()=>{if(!c)return s;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=f&&f.dom,p=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:p}=Us.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let m=d;return d=rT(d,r,n),f?c=new t4(e,n,r,i,d,p||null,m,f,o,s+1):n.isText?new bh(e,n,r,i,d,m,o):new jo(e,n,r,i,d,p||null,m,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,n,r){return this.dirty==Br&&e.eq(this.node)&&fd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,c=new r4(this,s&&s.node,e);s4(this.node,this.innerDeco,(f,d,p)=>{f.spec.marks?c.syncToMarks(f.spec.marks,r,e,d):f.type.side>=0&&!p&&c.syncToMarks(d==this.node.childCount?We.none:this.node.child(d).marks,r,e,d),c.placeWidget(f,e,i)},(f,d,p,m)=>{c.syncToMarks(f.marks,r,e,m);let g;c.findNodeMatch(f,d,p,m)||a&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(g=c.findIndexWithChild(o.node))>-1&&c.updateNodeAt(f,d,p,g,e)||c.updateNextNode(f,d,p,e,m,i)||c.addNode(f,d,p,e,i),i+=f.nodeSize}),c.syncToMarks([],r,e,0),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==xs)&&(s&&this.protectLocalComposition(e,s),tT(this.contentDOM,this.children,e),Xl&&l4(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ye)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=a4(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new e4(this,o,n,i);e.input.compositionNodes.push(s),this.children=o0(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==wi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Br}updateOuterDeco(e){if(fd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=nT(this.dom,this.nodeDOM,i0(this.outerDeco,this.node,n),i0(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function kS(t,e,n,r,i){rT(r,e,t);let o=new jo(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class bh extends jo{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==wi||this.dirty!=Br&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Br||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Br,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new bh(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=wi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class eT extends Vu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Br&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class t4 extends jo{constructor(e,n,r,i,o,s,a,c,f,d){super(e,n,r,i,o,s,a,f,d),this.spec=c}update(e,n,r,i){if(this.dirty==wi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function tT(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=bS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Bs){let c=r?r.previousSibling:t.lastChild;tT(s.contentDOM,s.children,n),r=c?c.nextSibling:t.firstChild}}for(;r;)r=bS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const tu=function(t){t&&(this.nodeName=t)};tu.prototype=Object.create(null);const ws=[new tu];function i0(t,e,n){if(t.length==0)return ws;let r=n?ws[0]:new tu,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new tu(s.nodeName));for(let a in s){let c=s[a];c!=null&&(n&&i.length==1&&i.push(r=new tu(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function nT(t,e,n,r){if(n==ws&&r==ws)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let c;a&&a.nodeName==s.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=ws[0]),i=c}n4(i,a||ws[0],s)}return i}function n4(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function rT(t,e,n){return nT(t,t,ws,i0(e,n,t.nodeType!=1))}function fd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function bS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class r4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=i4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,i){let o=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=Br,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let c=-1,f=this.top.children.length;i<this.preMatch.index&&(f=Math.min(this.index+3,f));for(let d=this.index;d<f;d++){let p=this.top.children[d];if(p.matchesMark(e[s])&&!this.isLocked(p.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Bs.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let f=this.top.children[a];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==wi&&s.dom==s.contentDOM&&(s.dirty=xs),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof jo){let f=this.preMatch.matched.get(c);if(f!=null&&f!=o)return!1;let d=c.dom,p,m=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=wi&&fd(n,c.outerDeco));if(!m&&c.update(e,n,r,i))return this.destroyBetween(this.index,a),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!m&&(p=this.recreateWrapper(c,e,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=xs,p.updateChildren(i,s+1),p.dirty=Br),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!fd(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=jo.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=jo.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new ZE(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Bs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof bh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qt||zt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new eT(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function i4(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let f=n.children[r-1];if(f instanceof Bs)n=f,r=f.children.length;else{a=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function o4(t,e){return t.type.side-e.type.side}function s4(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(o,d),f),o+=d.nodeSize}return}let s=0,a=[],c=null;for(let f=0;;){let d,p;for(;s<i.length&&i[s].to==o;){let b=i[s++];b.widget&&(d?(p||(p=[d])).push(b):d=b)}if(d)if(p){p.sort(o4);for(let b=0;b<p.length;b++)n(p[b],f,!!c)}else n(d,f,!!c);let m,g;if(c)g=-1,m=c,c=null;else if(f<t.childCount)g=f,m=t.child(f++);else break;for(let b=0;b<a.length;b++)a[b].to<=o&&a.splice(b--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let x=o+m.nodeSize;if(m.isText){let b=x;s<i.length&&i[s].from<b&&(b=i[s].from);for(let w=0;w<a.length;w++)a[w].to<b&&(b=a[w].to);b<x&&(c=m.cut(b-o),m=m.cut(0,b-o),x=b,g=-1)}else for(;s<i.length&&i[s].to<x;)s++;let k=m.isInline&&!m.isLeaf?a.filter(b=>!b.inline):a.slice();r(m,k,e.forChild(o,m),g),o=x}}function l4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function a4(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let c=s.text;for(;i<t.childCount;){let f=t.child(i++);if(o+=f.nodeSize,!f.isText)break;c+=f.text}if(o>=n){if(o>=r&&c.slice(r-e.length-a,r-a)==e)return r-e.length;let f=a<r?c.lastIndexOf(e,r-a-1):-1;if(f>=0&&f+e.length+a>=n)return a+f;if(n==r&&c.length>=r+e.length-a&&c.slice(r-a,r-a+e.length)==e)return r}}return-1}function o0(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let c=t[s],f=a,d=a+=c.size;f>=n||d<=e?o.push(c):(f<e&&o.push(c.slice(0,e-f,r)),i&&(o.push(i),i=void 0),d>n&&o.push(c.slice(n-f,c.size,r)))}return o}function Ry(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),c,f;if(kh(n)){for(c=s;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&ce.isSelectable(p)&&i.parent&&!(p.isInline&&Iz(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;f=new ce(s==m?a:r.resolve(m))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=s,m=s;for(let g=0;g<n.rangeCount;g++){let x=n.getRangeAt(g);p=Math.min(p,t.docView.posFromDOM(x.startContainer,x.startOffset,1)),m=Math.max(m,t.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(p<0)return null;[c,s]=m==t.state.selection.anchor?[m,p]:[p,m],a=r.resolve(s)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!f){let p=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;f=Iy(t,d,a,p)}return f}function iT(t){return t.editable?t.hasFocus():sT(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Wi(t,e=!1){let n=t.state.selection;if(oT(t,n),!!iT(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&zs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)c4(t);else{let{anchor:r,head:i}=n,o,s;CS&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(o=ES(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=ES(t,n.to))),t.docView.setSelection(r,i,t,e),CS&&(o&&TS(o),s&&TS(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&u4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const CS=Qt||zt&&WE<63;function ES(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Qt&&i&&i.contentEditable=="false")return zm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return zm(i);if(o)return zm(o)}}function zm(t){return t.contentEditable="true",Qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function TS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function u4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!iT(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function c4(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Gt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&qn&&Fo<=11&&(n.disabled=!0,n.disabled=!1)}function oT(t,e){if(e instanceof ce){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(MS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else MS(t)}function MS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Iy(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ye.between(e,n,r)}function _S(t){return t.editable&&!t.hasFocus()?!1:sT(t)}function sT(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function f4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return zs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function s0(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&_e.findFrom(o,e)}function yo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function NS(t,e,n){let r=t.state.selection;if(r instanceof ye)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return yo(t,new ye(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=s0(t.state,e);return i&&i instanceof ce?yo(t,i):!1}else if(!(Ar&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?ce.isSelectable(o)?yo(t,new ce(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Uu?yo(t,new ye(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ce&&r.node.isInline)return yo(t,new ye(e>0?r.$to:r.$from));{let i=s0(t.state,e);return i?yo(t,i):!1}}}function dd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function cl(t,e){return e<0?d4(t):h4(t)}function d4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(zr&&n.nodeType==1&&r<dd(n)&&nu(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(nu(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(lT(n))break;{let a=n.previousSibling;for(;a&&nu(a,-1);)i=n.parentNode,o=Gt(a),a=a.previousSibling;if(a)n=a,r=dd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?l0(t,n,r):i&&l0(t,i,o)}function h4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=dd(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(nu(a,1))o=n,s=++r;else break}else{if(lT(n))break;{let a=n.nextSibling;for(;a&&nu(a,1);)o=a.parentNode,s=Gt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=dd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&l0(t,o,s)}function lT(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function p4(t,e){for(;t&&e==t.childNodes.length&&!Hu(t);)e=Gt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function m4(t,e){for(;t&&!e&&!Hu(t);)e=Gt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function l0(t,e,n){if(e.nodeType!=3){let o,s;(s=p4(e,n))?(e=s,n=0):(o=m4(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(kh(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Wi(t)},50)}function OS(t,e){let n=t.state.doc.resolve(e);if(!(zt||KE)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function AS(t,e,n){let r=t.state.selection;if(r instanceof ye&&!r.empty||n.indexOf("s")>-1||Ar&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=s0(t.state,e);if(s&&s instanceof ce)return yo(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof fr?_e.near(s,e):_e.findFrom(s,e);return a?yo(t,a):!1}return!1}function PS(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function DS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function g4(t){if(!Qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;DS(t,r,"true"),setTimeout(()=>DS(t,r,"false"),20)}return!1}function y4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function v4(t,e){let n=e.keyCode,r=y4(e);if(n==8||Ar&&n==72&&r=="c")return PS(t,-1)||cl(t,-1);if(n==46&&!e.shiftKey||Ar&&n==68&&r=="c")return PS(t,1)||cl(t,1);if(n==13||n==27)return!0;if(n==37||Ar&&n==66&&r=="c"){let i=n==37?OS(t,t.state.selection.from)=="ltr"?-1:1:-1;return NS(t,i,r)||cl(t,i)}else if(n==39||Ar&&n==70&&r=="c"){let i=n==39?OS(t,t.state.selection.from)=="ltr"?1:-1:1;return NS(t,i,r)||cl(t,i)}else{if(n==38||Ar&&n==80&&r=="c")return AS(t,-1,r)||cl(t,-1);if(n==40||Ar&&n==78&&r=="c")return g4(t)||AS(t,1,r)||cl(t,1);if(r==(Ar?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ly(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=t.someProp("clipboardSerializer")||Us.fromSchema(t.state.schema),a=hT(),c=a.createElement("div");c.appendChild(s.serializeFragment(r,{document:a}));let f=c.firstChild,d,p=0;for(;f&&f.nodeType==1&&(d=dT[f.nodeName.toLowerCase()]);){for(let g=d.length-1;g>=0;g--){let x=a.createElement(d[g]);for(;c.firstChild;)x.appendChild(c.firstChild);c.appendChild(x),p++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${p?` -${p}`:""} ${JSON.stringify(n)}`);let m=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:m,slice:e}}function aT(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let c=!!e&&(r||o||!n);if(c){if(t.someProp("transformPastedText",m=>{e=m(e,o||r,t)}),o)return a=new Z(K.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",m=>{a=m(a,t,!0)}),a;let p=t.someProp("clipboardTextParser",m=>m(e,i,r,t));if(p)a=p;else{let m=i.marks(),{schema:g}=t.state,x=Us.fromSchema(g);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let b=s.appendChild(document.createElement("p"));k&&b.appendChild(x.serializeNode(g.text(k,m)))})}}else t.someProp("transformPastedHTML",p=>{n=p(n,t)}),s=k4(n),Uu&&b4(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let p=+d[3];p>0;p--){let m=s.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;s=m}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Bo.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!x4.test(m.parentNode.nodeName)?{ignore:!0}:null}})),d)a=C4(RS(a,+d[1],+d[2]),d[4]);else if(a=Z.maxOpen(w4(a.content,i),!0),a.openStart||a.openEnd){let p=0,m=0;for(let g=a.content.firstChild;p<a.openStart&&!g.type.spec.isolating;p++,g=g.firstChild);for(let g=a.content.lastChild;m<a.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);a=RS(a,p,m)}return t.someProp("transformPasted",p=>{a=p(a,t,c)}),a}const x4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function w4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let c=i.findWrapping(a.type),f;if(!c)return s=null;if(f=s.length&&o.length&&cT(c,o,a,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=fT(s[s.length-1],o.length));let d=uT(a,c);s.push(d),i=i.matchType(d.type),o=c}}),s)return K.from(s)}return t}function uT(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,K.from(t));return t}function cT(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=cT(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(K.from(uT(n,t,i+1))))}}function fT(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,fT(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(K.empty,!0);return t.copy(n.append(r))}function a0(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=a0(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(K.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function RS(t,e,n){return e<t.openStart&&(t=new Z(a0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Z(a0(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let IS=null;function hT(){return IS||(IS=document.implementation.createHTMLDocument("title"))}let Bm=null;function S4(t){let e=window.trustedTypes;return e?(Bm||(Bm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Bm.createHTML(t)):t}function k4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=hT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&dT[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=S4(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function b4(t){let e=t.querySelectorAll(zt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function C4(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let c=n.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=K.from(c.create(r[a+1],i)),o++,s++}return new Z(i,o,s)}const Tn={},Mn={},E4={touchstart:!0,touchmove:!0};class T4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function M4(t){for(let e in Tn){let n=Tn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{N4(t,r)&&!zy(t,r)&&(t.editable||!(r.type in Mn))&&n(t,r)},E4[e]?{passive:!0}:void 0)}Qt&&t.dom.addEventListener("input",()=>null),u0(t)}function _o(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function _4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function u0(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>zy(t,r))})}function zy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function N4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function O4(t,e){!zy(t,e)&&Tn[e.type]&&(t.editable||!(e.type in Mn))&&Tn[e.type](t,e)}Mn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!mT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Hi&&zt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Xl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ms(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||v4(t,n)?n.preventDefault():_o(t,"key")};Mn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Mn.keypress=(t,e)=>{let n=e;if(mT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ar&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ye)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function Ch(t){return{left:t.clientX,top:t.clientY}}function A4(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function By(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function zl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function P4(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ce.isSelectable(r)?(zl(t,new ce(n)),!0):!1}function D4(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof ce&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(ce.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(zl(t,ce.create(t.state.doc,i)),!0):!1}function R4(t,e,n,r,i){return By(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?D4(t,n):P4(t,n))}function I4(t,e,n,r){return By(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function L4(t,e,n,r){return By(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||z4(t,n,r)}function z4(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(zl(t,ye.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)zl(t,ye.create(r,a+1,a+1+s.content.size));else if(ce.isSelectable(s))zl(t,ce.create(r,a));else continue;return!0}}function Fy(t){return hd(t)}const pT=Ar?"metaKey":"ctrlKey";Tn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Fy(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&A4(n,t.input.lastClick)&&!n[pT]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=t.posAtCoords(Ch(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new B4(t,s,n,!!r)):(o=="doubleClick"?I4:L4)(t,s.pos,s.inside,n)?n.preventDefault():_o(t,"pointer"))};class B4{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[pT],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const a=i?null:r.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof ce&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_o(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Wi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ch(e))),this.updateAllowDefault(e),this.allowDefault||!n?_o(this.view,"pointer"):R4(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qt&&this.mightDrag&&!this.mightDrag.node.isAtom||zt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(zl(this.view,_e.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):_o(this.view,"pointer")}move(e){this.updateAllowDefault(e),_o(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Tn.touchstart=t=>{t.input.lastTouch=Date.now(),Fy(t),_o(t,"pointer")};Tn.touchmove=t=>{t.input.lastTouch=Date.now(),_o(t,"pointer")};Tn.contextmenu=t=>Fy(t);function mT(t,e){return t.composing?!0:Qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const F4=Hi?5e3:-1;Mn.compositionstart=Mn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||zt&&KE&&j4(t)))t.markCursor=t.state.storedMarks||n.marks(),hd(t,!0),t.markCursor=null;else if(hd(t,!e.selection.empty),zr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}gT(t,F4)};function j4(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Mn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,gT(t,20))};function gT(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>hd(t),e))}function yT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=H4());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function $4(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Dz(e.focusNode,e.focusOffset),r=Rz(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function H4(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function hd(t,e=!1){if(!(Hi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),yT(t),e||t.docView&&t.docView.dirty){let n=Ry(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function U4(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ou=qn&&Fo<15||Xl&&Bz<604;Tn.copy=Mn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Ou?null:n.clipboardData,s=r.content(),{dom:a,text:c}=Ly(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):U4(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function V4(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function W4(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Au(t,r.value,null,i,e):Au(t,r.textContent,r.innerHTML,i,e)},50)}function Au(t,e,n,r,i){let o=aT(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,o||Z.empty)))return!0;if(!o)return!1;let s=V4(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function vT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Mn.paste=(t,e)=>{let n=e;if(t.composing&&!Hi)return;let r=Ou?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Au(t,vT(r),r.getData("text/html"),i,n)?n.preventDefault():W4(t,n)};class xT{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const K4=Ar?"altKey":"ctrlKey";function wT(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[K4]}Tn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Ch(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ce?i.to-1:i.to))){if(r&&r.mightDrag)s=ce.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(s=ce.create(t.state.doc,p.posBefore))}}let a=(s||t.state.selection).content(),{dom:c,text:f,slice:d}=Ly(t,a);(!n.dataTransfer.files.length||!zt||WE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ou?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ou||n.dataTransfer.setData("text/plain",f),t.dragging=new xT(d,wT(t,n),s)};Tn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Mn.dragover=Mn.dragenter=(t,e)=>e.preventDefault();Mn.drop=(t,e)=>{try{q4(t,e,t.dragging)}finally{t.dragging=null}};function q4(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Ch(e));if(!r)return;let i=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",g=>{o=g(o,t,!1)}):o=aT(t,vT(e.dataTransfer),Ou?null:e.dataTransfer.getData("text/html"),!1,i);let s=!!(n&&wT(t,e));if(t.someProp("handleDrop",g=>g(t,e,o||Z.empty,s))){e.preventDefault();return}if(!o)return;e.preventDefault();let a=o?CE(t.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(s){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(a),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(f,f,o.content.firstChild):c.replaceRange(f,f,o),c.doc.eq(p))return;let m=c.doc.resolve(f);if(d&&ce.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ce(m));else{let g=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((x,k,b,w)=>g=w),c.setSelection(Iy(t,m,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}Tn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Wi(t)},20))};Tn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Tn.beforeinput=(t,e)=>{if(zt&&Hi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ms(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Mn)Tn[t]=Mn[t];function Pu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class pd{constructor(e,n){this.toDOM=e,this.spec=n||Ms,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Cn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof pd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Pu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class $o{constructor(e,n){this.attrs=e,this.spec=n||Ms}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Cn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof $o&&Pu(this.attrs,e.attrs)&&Pu(this.spec,e.spec)}static is(e){return e.type instanceof $o}destroy(){}}class jy{constructor(e,n){this.attrs=e,this.spec=n||Ms}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Cn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof jy&&Pu(this.attrs,e.attrs)&&Pu(this.spec,e.spec)}destroy(){}}class Cn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Cn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Cn(e,e,new pd(n,r))}static inline(e,n,r,i){return new Cn(e,n,new $o(r,i))}static node(e,n,r,i){return new Cn(e,n,new jy(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof $o}get widget(){return this.type instanceof pd}}const hl=[],Ms={};class rt{constructor(e,n){this.local=e.length?e:hl,this.children=n.length?n:hl}static create(e,n){return n.length?md(n,e,0,Ms):ln}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==ln||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ms)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,r,i);c&&c.type.valid(n,c)?(s||(s=[])).push(c):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?G4(this.children,s||[],e,n,r,i,o):s?new rt(s.sort(_s),hl):ln}add(e,n){return n.length?this==ln?rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,c)=>{let f=c+r,d;if(d=kT(n,a,f)){for(i||(i=this.children.slice());o<i.length&&i[o]<c;)o+=3;i[o]==c?i[o+2]=i[o+2].addInner(a,d,f+1):i.splice(o,0,c,c+a.nodeSize,md(d,a,f+1,Ms)),o+=3}});let s=ST(o?bT(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new rt(s.length?this.local.concat(s).sort(_s):this.local,i||this.children)}remove(e){return e.length==0||this==ln?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,c=r[o+1]+n;for(let d=0,p;d<e.length;d++)(p=e[d])&&p.from>a&&p.to<c&&(e[d]=null,(s||(s=[])).push(p));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,a+1);f!=ln?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new rt(i,r):ln}forChild(e,n){if(this==ln)return this;if(n.isLeaf)return rt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<s&&c.to>o&&c.type instanceof $o){let f=Math.max(o,c.from)-o,d=Math.min(s,c.to)-o;f<d&&(i||(i=[])).push(c.copy(f,d))}}if(i){let a=new rt(i.sort(_s),hl);return r?new ko([a,r]):a}return r||ln}eq(e){if(this==e)return!0;if(!(e instanceof rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return $y(this.localsInner(e))}localsInner(e){if(this==ln)return hl;if(e.inlineContent||!this.local.some($o.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof $o||n.push(this.local[r]);return n}forEachSet(e){e(this)}}rt.empty=new rt([],[]);rt.removeOverlap=$y;const ln=rt.empty;class ko{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Ms));return ko.from(r)}forChild(e,n){if(n.isLeaf)return rt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=ln&&(o instanceof ko?r=r.concat(o.members):r.push(o))}return ko.from(r)}eq(e){if(!(e instanceof ko)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?$y(r?n:n.sort(_s)):hl}static from(e){switch(e.length){case 0:return ln;case 1:return e[0];default:return new ko(e.every(n=>n instanceof rt)?e:e.reduce((n,r)=>n.concat(r instanceof rt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function G4(t,e,n,r,i,o,s){let a=t.slice();for(let f=0,d=o;f<n.maps.length;f++){let p=0;n.maps[f].forEach((m,g,x,k)=>{let b=k-x-(g-m);for(let w=0;w<a.length;w+=3){let v=a[w+1];if(v<0||m>v+d-p)continue;let C=a[w]+d-p;g>=C?a[w+1]=m<=C?-2:-1:m>=d&&b&&(a[w]+=b,a[w+1]+=b)}p+=b}),d=n.maps[f].map(d,-1)}let c=!1;for(let f=0;f<a.length;f+=3)if(a[f+1]<0){if(a[f+1]==-2){c=!0,a[f+1]=-1;continue}let d=n.map(t[f]+o),p=d-i;if(p<0||p>=r.content.size){c=!0;continue}let m=n.map(t[f+1]+o,-1),g=m-i,{index:x,offset:k}=r.content.findIndex(p),b=r.maybeChild(x);if(b&&k==p&&k+b.nodeSize==g){let w=a[f+2].mapInner(n,b,d+1,t[f]+o+1,s);w!=ln?(a[f]=p,a[f+1]=g,a[f+2]=w):(a[f+1]=-2,c=!0)}else c=!0}if(c){let f=X4(a,t,e,n,i,o,s),d=md(f,r,0,s);e=d.local;for(let p=0;p<a.length;p+=3)a[p+1]<0&&(a.splice(p,3),p-=3);for(let p=0,m=0;p<d.children.length;p+=3){let g=d.children[p];for(;m<a.length&&a[m]<g;)m+=3;a.splice(m,0,d.children[p],d.children[p+1],d.children[p+2])}}return new rt(e.sort(_s),a)}function ST(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Cn(i.from+e,i.to+e,i.type))}return n}function X4(t,e,n,r,i,o,s){function a(c,f){for(let d=0;d<c.local.length;d++){let p=c.local[d].map(r,i,f);p?n.push(p):s.onRemove&&s.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)a(c.children[d+2],c.children[d]+f+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&a(t[c+2],e[c]+o+1);return n}function kT(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function bT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function md(t,e,n,r){let i=[],o=!1;e.forEach((a,c)=>{let f=kT(t,a,c+n);if(f){o=!0;let d=md(f,a,n+c+1,r);d!=ln&&i.push(c,c+a.nodeSize,d)}});let s=ST(o?bT(t):t,-n).sort(_s);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new rt(s,i):ln}function _s(t,e){return t.from-e.from||t.to-e.to}function $y(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),LS(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),LS(e,i,r.copy(o.from,r.to)));break}}}return e}function LS(t,e,n){for(;e<t.length&&_s(n,t[e])>0;)e++;t.splice(e,0,n)}function Fm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ln&&e.push(r)}),t.cursorWrapper&&e.push(rt.create(t.state.doc,[t.cursorWrapper.deco])),ko.from(e)}const J4={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Y4=qn&&Fo<=11;class Q4{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Z4{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Q4,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);qn&&Fo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Qt&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),Y4&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,J4)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_S(this.view)){if(this.suppressingSelectionUpdates)return Wi(this.view);if(qn&&Fo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&zs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Gl(o))n.add(o);for(let o=e.anchorNode;o;o=Gl(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&_S(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let p=this.registerMutation(n[d],c);p&&(o=o<0?p.from:Math.min(p.from,o),s=s<0?p.to:Math.max(p.to,s),p.typeOver&&(a=!0))}if(zr&&c.length){let d=c.filter(p=>p.nodeName=="BR");if(d.length==2){let[p,m]=d;p.parentNode&&p.parentNode.parentNode==m.parentNode?m.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let m of d){let g=m.parentNode;g&&g.nodeName=="LI"&&(!p||nB(e,p)!=g)&&m.remove()}}}else if((zt||Qt)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let p=d.nextSibling;p&&p.nodeType==1&&p.contentEditable=="false"&&d.parentNode.removeChild(d)}}let f=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&kh(r)&&(f=Ry(e))&&f.eq(_e.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Wi(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),eB(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,rB(e,c)),this.handleDOMChange(o,s,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Wi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let p=e.addedNodes[d];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(qn&&Fo<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:p,nextSibling:m}=e.addedNodes[d];(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(o=m)}let s=i&&i.parentNode==e.target?Gt(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),c=o&&o.parentNode==e.target?Gt(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,c,1);return{from:a,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let zS=new WeakMap,BS=!1;function eB(t){if(!zS.has(t)&&(zS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=zr,BS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),BS=!0}}function FS(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return zs(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function tB(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return FS(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?FS(t,n):null}function nB(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function rB(t,e){var n;let{focusNode:r,focusOffset:i}=t.domSelectionRange();for(let o of e)if(((n=o.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let s=o.nextSibling;for(;s&&s.nodeName!="TD"&&s.nodeName!="TH";)s=s.nextSibling;if(s){let a=s;for(;;){let c=a.firstChild;if(!c||c.nodeType!=1||c.contentEditable=="false"||/^(BR|IMG)$/.test(c.nodeName))break;a=c}a.insertBefore(o,a.firstChild),r==o&&t.domSelection().collapse(o,i)}else o.parentNode.removeChild(o)}}function iB(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),c=t.domSelectionRange(),f,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:c.anchorOffset}],kh(c)||f.push({node:c.focusNode,offset:c.focusOffset})),zt&&t.input.lastKeyCode===8)for(let b=o;b>i;b--){let w=r.childNodes[b-1],v=w.pmViewDesc;if(w.nodeName=="BR"&&!v){o=b;break}if(!v||v.size)break}let p=t.state.doc,m=t.someProp("domParser")||Bo.fromSchema(t.state.schema),g=p.resolve(s),x=null,k=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:o,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:oB,context:g});if(f&&f[0].pos!=null){let b=f[0].pos,w=f[1]&&f[1].pos;w==null&&(w=b),x={anchor:b+s,head:w+s}}return{doc:k,sel:x,from:s,to:a}}function oB(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const sB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function lB(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=Ry(t,P);if(D&&!t.state.selection.eq(D)){if(zt&&Hi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",U=>U(t,ms(13,"Enter"))))return;let B=t.state.tr.setSelection(D);P=="pointer"?B.setMeta("pointer",!0):P=="key"&&B.scrollIntoView(),o&&B.setMeta("composition",o),t.dispatch(B)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let c=t.state.selection,f=iB(t,e,n),d=t.state.doc,p=d.slice(f.from,f.to),m,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,g="end"):(m=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let x=cB(p.content,f.doc.content,f.from,m,g);if(x&&t.input.domChangeCount++,(Xl&&t.input.lastIOSEnter>Date.now()-225||Hi)&&i.some(P=>P.nodeType==1&&!sB.test(P.nodeName))&&(!x||x.endA>=x.endB)&&t.someProp("handleKeyDown",P=>P(t,ms(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!x)if(r&&c instanceof ye&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))x={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let P=jS(t,t.state.doc,f.sel);if(P&&!P.eq(t.state.selection)){let D=t.state.tr.setSelection(P);o&&D.setMeta("composition",o),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&x.start==x.endB&&t.state.selection instanceof ye&&(x.start>t.state.selection.from&&x.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?x.start=t.state.selection.from:x.endA<t.state.selection.to&&x.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(x.endB+=t.state.selection.to-x.endA,x.endA=t.state.selection.to)),qn&&Fo<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>f.from&&f.doc.textBetween(x.start-f.from-1,x.start-f.from+1)==" "&&(x.start--,x.endA--,x.endB--);let k=f.doc.resolveNoCache(x.start-f.from),b=f.doc.resolveNoCache(x.endB-f.from),w=d.resolve(x.start),v=k.sameParent(b)&&k.parent.inlineContent&&w.end()>=x.endA;if((Xl&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!v&&k.pos<f.doc.content.size&&(!k.sameParent(b)||!k.parent.inlineContent)&&k.pos<b.pos&&!/\S/.test(f.doc.textBetween(k.pos,b.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,ms(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>x.start&&uB(d,x.start,x.endA,k,b)&&t.someProp("handleKeyDown",P=>P(t,ms(8,"Backspace")))){Hi&&zt&&t.domObserver.suppressSelectionUpdates();return}zt&&x.endB==x.start&&(t.input.lastChromeDelete=Date.now()),Hi&&!v&&k.start()!=b.start()&&b.parentOffset==0&&k.depth==b.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==x.endA&&(x.endB-=2,b=f.doc.resolveNoCache(x.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,ms(13,"Enter"))})},20));let C=x.start,_=x.endA,M=P=>{let D=P||t.state.tr.replace(C,_,f.doc.slice(x.start-f.from,x.endB-f.from));if(f.sel){let B=jS(t,D.doc,f.sel);B&&!(zt&&t.composing&&B.empty&&(x.start!=x.endB||t.input.lastChromeDelete<Date.now()-100)&&(B.head==C||B.head==D.mapping.map(_)-1)||qn&&B.empty&&B.head==C)&&D.setSelection(B)}return o&&D.setMeta("composition",o),D.scrollIntoView()},A;if(v)if(k.pos==b.pos){qn&&Fo<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Wi(t),20));let P=M(t.state.tr.delete(C,_)),D=d.resolve(x.start).marksAcross(d.resolve(x.endA));D&&P.ensureMarks(D),t.dispatch(P)}else if(x.endA==x.endB&&(A=aB(k.parent.content.cut(k.parentOffset,b.parentOffset),w.parent.content.cut(w.parentOffset,x.endA-w.start())))){let P=M(t.state.tr);A.type=="add"?P.addMark(C,_,A.mark):P.removeMark(C,_,A.mark),t.dispatch(P)}else if(k.parent.child(k.index()).isText&&k.index()==b.index()-(b.textOffset?0:1)){let P=k.parent.textBetween(k.parentOffset,b.parentOffset),D=()=>M(t.state.tr.insertText(P,C,_));t.someProp("handleTextInput",B=>B(t,C,_,P,D))||t.dispatch(D())}else t.dispatch(M());else t.dispatch(M())}function jS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Iy(t,e.resolve(n.anchor),e.resolve(n.head))}function aB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",c=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",c=d=>d.mark(a.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(c(e.child(d)));if(K.from(f).eq(t))return{mark:a,type:s}}function uB(t,e,n,r,i){if(n-e<=i.pos-r.pos||jm(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(jm(o,!0,!0));return!s.parent.isTextblock||s.pos>n||jm(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function jm(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function cB(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,o-Math.min(s,a));r-=s+c-o}if(s<o&&t.size<e.size){let c=r<=o&&r>=s?o-r:0;o-=c,o&&o<e.size&&$S(e.textBetween(o-1,o+1))&&(o+=c?1:-1),a=o+(a-s),s=o}else if(a<o){let c=r<=o&&r>=a?o-r:0;o-=c,o&&o<t.size&&$S(t.textBetween(o-1,o+1))&&(o+=c?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function $S(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class CT{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new T4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(KS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=VS(this),US(this),this.nodeViews=WS(this),this.docView=kS(this.state.doc,HS(this),Fm(this),this.dom,this),this.domObserver=new Z4(this,(r,i,o,s)=>lB(this,r,i,o,s)),this.domObserver.start(),M4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&u0(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(KS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(yT(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=WS(this);dB(g,this.nodeViews)&&(this.nodeViews=g,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&u0(this),this.editable=VS(this),US(this);let c=Fm(this),f=HS(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",p=o||!this.docView.matchesNode(e.doc,f,c);(p||!e.selection.eq(i.selection))&&(s=!0);let m=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&$z(this);if(s){this.domObserver.stop();let g=p&&(qn||zt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&fB(i.selection,e.selection);if(p){let x=zt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$4(this)),(o||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=kS(e.doc,f,c,this.dom,this)),x&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&f4(this))?Wi(this,g):(oT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():m&&Hz(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ce){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&gS(this,n.getBoundingClientRect(),e)}else gS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new xT(e.slice,e.move,i<0?void 0:ce.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(qn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Uz(this.dom),Wi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Gz(this,e)}coordsAtPos(e,n=1){return YE(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Zz(this,n||this.state,e)}pasteHTML(e,n){return Au(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Au(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ly(this,e)}destroy(){this.docView&&(_4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Fm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Az())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return O4(this,e)}domSelectionRange(){let e=this.domSelection();return e?Qt&&this.root.nodeType===11&&Lz(this.dom.ownerDocument)==this.dom&&tB(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}CT.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function HS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Cn.node(0,t.state.doc.content.size,e)]}function US(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Cn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function VS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function fB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function WS(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function dB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function KS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},hB=typeof navigator<"u"&&/Mac/.test(navigator.platform),pB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xt=0;Xt<10;Xt++)Wo[48+Xt]=Wo[96+Xt]=String(Xt);for(var Xt=1;Xt<=24;Xt++)Wo[Xt+111]="F"+Xt;for(var Xt=65;Xt<=90;Xt++)Wo[Xt]=String.fromCharCode(Xt+32),gd[Xt]=String.fromCharCode(Xt);for(var $m in Wo)gd.hasOwnProperty($m)||(gd[$m]=Wo[$m]);function mB(t){var e=hB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||pB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?gd:Wo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gB=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),yB=typeof navigator<"u"&&/Win/.test(navigator.platform);function vB(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))gB?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function xB(t){let e=Object.create(null);for(let n in t)e[vB(n)]=t[n];return e}function Hm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function wB(t){return new st({props:{handleKeyDown:ET(t)}})}function ET(t){let e=xB(t);return function(n,r){let i=mB(r),o,s=e[Hm(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Hm(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(yB&&r.ctrlKey&&r.altKey)&&(o=Wo[r.keyCode])&&o!=i){let a=e[Hm(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var SB=Object.defineProperty,Hy=(t,e)=>{for(var n in e)SB(t,n,{get:e[n],enumerable:!0})};function Eh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var Th=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([s,a])=>[s,(...f)=>{const d=a(...f)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s=[],a=!!t,c=t||i.tr,f=()=>(!a&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),s.every(p=>p===!0)),d={...Object.fromEntries(Object.entries(n).map(([p,m])=>[p,(...x)=>{const k=this.buildProps(c,e),b=m(...x)(k);return s.push(b),d}])),run:f};return d}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...f)=>c(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s={tr:t,editor:r,view:o,state:Eh({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...f)=>c(...f)(s)]))}};return s}},TT={};Hy(TT,{blur:()=>kB,clearContent:()=>bB,clearNodes:()=>CB,command:()=>EB,createParagraphNear:()=>TB,cut:()=>MB,deleteCurrentNode:()=>_B,deleteNode:()=>NB,deleteRange:()=>OB,deleteSelection:()=>AB,enter:()=>PB,exitCode:()=>DB,extendMarkRange:()=>RB,first:()=>IB,focus:()=>zB,forEach:()=>BB,insertContent:()=>FB,insertContentAt:()=>HB,joinBackward:()=>WB,joinDown:()=>VB,joinForward:()=>KB,joinItemBackward:()=>qB,joinItemForward:()=>GB,joinTextblockBackward:()=>XB,joinTextblockForward:()=>JB,joinUp:()=>UB,keyboardShortcut:()=>QB,lift:()=>ZB,liftEmptyBlock:()=>eF,liftListItem:()=>tF,newlineInCode:()=>nF,resetAttributes:()=>rF,scrollIntoView:()=>iF,selectAll:()=>oF,selectNodeBackward:()=>sF,selectNodeForward:()=>lF,selectParentNode:()=>aF,selectTextblockEnd:()=>uF,selectTextblockStart:()=>cF,setContent:()=>fF,setMark:()=>AF,setMeta:()=>PF,setNode:()=>DF,setNodeSelection:()=>RF,setTextDirection:()=>IF,setTextSelection:()=>LF,sinkListItem:()=>zF,splitBlock:()=>BF,splitListItem:()=>FF,toggleList:()=>jF,toggleMark:()=>$F,toggleNode:()=>HF,toggleWrap:()=>UF,undoInputRule:()=>VF,unsetAllMarks:()=>WF,unsetMark:()=>KF,unsetTextDirection:()=>qF,updateAttributes:()=>GF,wrapIn:()=>XF,wrapInList:()=>JF});var kB=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),bB=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),CB=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,c)=>{if(a.type.isText)return;const{doc:f,mapping:d}=e,p=f.resolve(d.map(c)),m=f.resolve(d.map(c+a.nodeSize)),g=p.blockRange(m);if(!g)return;const x=na(g);if(a.type.isTextblock){const{defaultType:k}=p.parent.contentMatchAt(p.index());e.setNodeMarkup(g.start,k)}(x||x===0)&&e.lift(g,x)})}),!0},EB=t=>e=>t(e),TB=()=>({state:t,dispatch:e})=>jE(t,e),MB=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new ye(r.doc.resolve(Math.max(s-1,0)))),!0},_B=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),c=i.after(o);t.delete(a,c).scrollIntoView()}return!0}return!1};function Et(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var NB=t=>({tr:e,state:n,dispatch:r})=>{const i=Et(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const c=o.before(s),f=o.after(s);e.delete(c,f).scrollIntoView()}return!0}return!1},OB=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},AB=()=>({state:t,dispatch:e})=>_y(t,e),PB=()=>({commands:t})=>t.keyboardShortcut("Enter"),DB=()=>({state:t,dispatch:e})=>gz(t,e);function Uy(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function yd(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Uy(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function MT(t,e,n={}){return t.find(r=>r.type===e&&yd(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function qS(t,e,n={}){return!!MT(t,e,n)}function Vy(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!MT([...i.node.marks],e,n)))return;let s=i.index,a=t.start()+i.offset,c=s+1,f=a+i.node.nodeSize;for(;s>0&&qS([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;c<t.parent.childCount&&qS([...t.parent.child(c).marks],e,n);)f+=t.parent.child(c).nodeSize,c+=1;return{from:a,to:f}}function Yi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var RB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Yi(t,r.schema),{doc:s,selection:a}=n,{$from:c,from:f,to:d}=a;if(i){const p=Vy(c,o,e);if(p&&p.from<=f&&p.to>=d){const m=ye.create(s,p.from,p.to);n.setSelection(m)}}return!0},IB=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function _T(t){return t instanceof ye}function Ss(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function NT(t,e=null){if(!e)return null;const n=_e.atStart(t),r=_e.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?ye.create(t,Ss(0,i,o),Ss(t.content.size,i,o)):ye.create(t,Ss(e,i,o),Ss(e,i,o))}function GS(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function vd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function LB(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var zB=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{(vd()||GS())&&r.dom.focus(),LB()&&!vd()&&!GS()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!_T(n.state.selection))return s(),!0;const a=NT(i.doc,t)||n.state.selection,c=n.state.selection.eq(a);return o&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},BB=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),FB=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),OT=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&OT(r)}return t};function af(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return OT(n)}function Du(t,e,n){if(t instanceof ri||t instanceof K)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return K.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Du("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const c=new hE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(s=!0,a=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Bo.fromSchema(c).parseSlice(af(t),n.parseOptions):Bo.fromSchema(c).parse(af(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Bo.fromSchema(e);return n.slice?o.parseSlice(af(t),n.parseOptions).content:o.parse(af(t),n.parseOptions)}return Du("",e,n)}function jB(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Lt||i instanceof Ft))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,c,f,d)=>{s===0&&(s=d)}),t.setSelection(_e.near(t.doc.resolve(s),n))}var $B=t=>!("type"in t),HB=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const c=b=>{o.emit("contentError",{editor:o,error:b,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Du(e,o.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(b){c(b)}try{a=Du(e,o.schema,{parseOptions:f,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:o.options.enableContentCheck})}catch(b){return c(b),!1}let{from:d,to:p}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},m=!0,g=!0;if(($B(a)?a:[a]).forEach(b=>{b.check(),m=m?b.isText&&b.marks.length===0:!1,g=g?b.isBlock:!1}),d===p&&g){const{parent:b}=r.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,p+=1)}let k;if(m){if(Array.isArray(e))k=e.map(b=>b.text||"").join("");else if(e instanceof K){let b="";e.forEach(w=>{w.text&&(b+=w.text)}),k=b}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,d,p)}else{k=a;const b=r.doc.resolve(d),w=b.node(),v=b.parentOffset===0,C=w.isText||w.isTextblock,_=w.content.size>0;v&&C&&_&&(d=Math.max(0,d-1)),r.replaceWith(d,p,k)}n.updateSelection&&jB(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:k}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:k})}return!0},UB=()=>({state:t,dispatch:e})=>hz(t,e),VB=()=>({state:t,dispatch:e})=>pz(t,e),WB=()=>({state:t,dispatch:e})=>DE(t,e),KB=()=>({state:t,dispatch:e})=>zE(t,e),qB=()=>({state:t,dispatch:e,tr:n})=>{try{const r=xh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},GB=()=>({state:t,dispatch:e,tr:n})=>{try{const r=xh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},XB=()=>({state:t,dispatch:e})=>fz(t,e),JB=()=>({state:t,dispatch:e})=>dz(t,e);function AT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function YB(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))vd()||AT()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var QB=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=YB(t).split(/-(?!$)/),s=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,a))});return c==null||c.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Ko(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Et(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(p,m)=>{if(p.isText)return;const g=Math.max(r,m),x=Math.min(i,m+p.nodeSize);a.push({node:p,from:g,to:x})});const c=i-r,f=a.filter(p=>s?s.name===p.node.type.name:!0).filter(p=>yd(p.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((p,m)=>p+m.to-m.from,0)>=c}var ZB=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return Ko(n,i,e)?mz(n,r):!1},eF=()=>({state:t,dispatch:e})=>$E(t,e),tF=t=>({state:e,dispatch:n})=>{const r=Et(t,e.schema);return Mz(r)(e,n)},nF=()=>({state:t,dispatch:e})=>FE(t,e);function Mh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function XS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var rF=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=Mh(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(o=Et(t,r.schema)),a==="mark"&&(s=Yi(t,r.schema));let c=!1;return n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{o&&o===d.type&&(c=!0,i&&n.setNodeMarkup(p,void 0,XS(d.attrs,e))),s&&d.marks.length&&d.marks.forEach(m=>{s===m.type&&(c=!0,i&&n.addMark(p,p+d.nodeSize,s.create(XS(m.attrs,e))))})})}),c},iF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),oF=()=>({tr:t,dispatch:e})=>{if(e){const n=new fr(t.doc);t.setSelection(n)}return!0},sF=()=>({state:t,dispatch:e})=>IE(t,e),lF=()=>({state:t,dispatch:e})=>BE(t,e),aF=()=>({state:t,dispatch:e})=>xz(t,e),uF=()=>({state:t,dispatch:e})=>kz(t,e),cF=()=>({state:t,dispatch:e})=>Sz(t,e);function c0(t,e,n={},r={}){return Du(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var fF=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{const{doc:c}=o;if(r.preserveWhitespace!=="full"){const f=c0(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!n),!0}return s&&o.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function PT(t,e){const n=Yi(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,c=>{s.push(...c.marks)});const a=s.find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function DT(t,e){const n=new NE(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function dF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function hF(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function pF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function _h(t){return e=>pF(e.$from,t)}function ue(t,e,n){return t.config[e]===void 0&&t.parent?ue(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ue(t.parent,e,n):null}):t.config[e]}function Wy(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ue(e,"addExtensions",n);return r?[e,...Wy(r())]:e}).flat(10)}function Ky(t,e){const n=Us.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function RT(t){return typeof t=="function"}function $e(t,e=void 0,...n){return RT(t)?e?t.bind(e)(...n):t(...n):t}function mF(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Jl(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function IT(t){const e=[],{nodeExtensions:n,markExtensions:r}=Jl(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},c=ue(s,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(p=>{Object.entries(d.attributes).forEach(([m,g])=>{e.push({type:p,name:m,attribute:{...o,...g}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},c=ue(s,"addAttributes",a);if(!c)return;const f=c();Object.entries(f).forEach(([d,p])=>{const m={...o,...p};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:s.name,name:d,attribute:m})})}),e}function Tt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],c=r[i]?r[i].split(" "):[],f=a.filter(d=>!c.includes(d));r[i]=[...c,...f].join(" ")}else if(i==="style"){const a=o?o.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],f=new Map;c.forEach(d=>{const[p,m]=d.split(":").map(g=>g.trim());f.set(p,m)}),a.forEach(d=>{const[p,m]=d.split(":").map(g=>g.trim());f.set(p,m)}),r[i]=Array.from(f.entries()).map(([d,p])=>`${d}: ${p}`).join("; ")}else r[i]=o}),r},{})}function Ru(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Tt(n,r),{})}function gF(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function JS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):gF(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function YS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&mF(n)?!1:n!=null))}function QS(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function yF(t,e){var n;const r=IT(t),{nodeExtensions:i,markExtensions:o}=Jl(t),s=(n=i.find(f=>ue(f,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(f=>{const d=r.filter(w=>w.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},m=t.reduce((w,v)=>{const C=ue(v,"extendNodeSchema",p);return{...w,...C?C(f):{}}},{}),g=YS({...m,content:$e(ue(f,"content",p)),marks:$e(ue(f,"marks",p)),group:$e(ue(f,"group",p)),inline:$e(ue(f,"inline",p)),atom:$e(ue(f,"atom",p)),selectable:$e(ue(f,"selectable",p)),draggable:$e(ue(f,"draggable",p)),code:$e(ue(f,"code",p)),whitespace:$e(ue(f,"whitespace",p)),linebreakReplacement:$e(ue(f,"linebreakReplacement",p)),defining:$e(ue(f,"defining",p)),isolating:$e(ue(f,"isolating",p)),attrs:Object.fromEntries(d.map(QS))}),x=$e(ue(f,"parseHTML",p));x&&(g.parseDOM=x.map(w=>JS(w,d)));const k=ue(f,"renderHTML",p);k&&(g.toDOM=w=>k({node:w,HTMLAttributes:Ru(w,d)}));const b=ue(f,"renderText",p);return b&&(g.toText=b),[f.name,g]})),c=Object.fromEntries(o.map(f=>{const d=r.filter(b=>b.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:e},m=t.reduce((b,w)=>{const v=ue(w,"extendMarkSchema",p);return{...b,...v?v(f):{}}},{}),g=YS({...m,inclusive:$e(ue(f,"inclusive",p)),excludes:$e(ue(f,"excludes",p)),group:$e(ue(f,"group",p)),spanning:$e(ue(f,"spanning",p)),code:$e(ue(f,"code",p)),attrs:Object.fromEntries(d.map(QS))}),x=$e(ue(f,"parseHTML",p));x&&(g.parseDOM=x.map(b=>JS(b,d)));const k=ue(f,"renderHTML",p);return k&&(g.toDOM=b=>k({mark:b,HTMLAttributes:Ru(b,d)})),[f.name,g]}));return new hE({topNode:s,nodes:a,marks:c})}function vF(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function xd(t){return t.sort((n,r)=>{const i=ue(n,"priority")||100,o=ue(r,"priority")||100;return i>o?-1:i<o?1:0})}function LT(t){const e=xd(Wy(t)),n=vF(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function zT(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,i,(c,f,d,p)=>{var m;c.isBlock&&f>r&&(a+=o);const g=s==null?void 0:s[c.type.name];if(g)return d&&(a+=g({node:c,pos:f,parent:d,index:p,range:e})),!1;c.isText&&(a+=(m=c==null?void 0:c.text)==null?void 0:m.slice(Math.max(r,f)-f,i-f))}),a}function xF(t,e){const n={from:0,to:t.content.size};return zT(t,n,e)}function BT(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function wF(t,e){const n=Et(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function FT(t,e){const n=Mh(typeof e=="string"?e:e.name,t.schema);return n==="node"?wF(t,e):n==="mark"?PT(t,e):{}}function SF(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function kF(t){const e=SF(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function jT(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,c)=>{s.push({from:a,to:c})});else{const{from:a,to:c}=n[o];if(a===void 0||c===void 0)return;s.push({from:a,to:c})}s.forEach(({from:a,to:c})=>{const f=e.slice(o).map(a,-1),d=e.slice(o).map(c),p=e.invert().map(f,-1),m=e.invert().map(d);r.push({oldRange:{from:p,to:m},newRange:{from:f,to:d}})})}),kF(r)}function qy(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),s=Vy(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}var bF=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,s=null;for(;o>0&&s===null;){const a=i.node(o);(a==null?void 0:a.type.name)===e?s=a:o-=1}return[s,o]};function uf(t,e){return e.nodes[t]||e.marks[t]||null}function Df(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var CF=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var c,f;const d=((f=(c=i.type.spec).toText)==null?void 0:f.call(c,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-o))}),n};function f0(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Yi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>o?o.name===p.type.name:!0).find(p=>yd(p.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:p,$to:m})=>{const g=p.pos,x=m.pos;t.doc.nodesBetween(g,x,(k,b)=>{if(!k.isText&&!k.marks.length)return;const w=Math.max(g,b),v=Math.min(x,b+k.nodeSize),C=v-w;s+=C,a.push(...k.marks.map(_=>({mark:_,from:w,to:v})))})}),s===0)return!1;const c=a.filter(p=>o?o.name===p.mark.type.name:!0).filter(p=>yd(p.mark.attrs,n,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),f=a.filter(p=>o?p.mark.type!==o&&p.mark.type.excludes(o):!0).reduce((p,m)=>p+m.to-m.from,0);return(c>0?c+f:c)>=s}function EF(t,e,n={}){if(!e)return Ko(t,null,n)||f0(t,null,n);const r=Mh(e,t.schema);return r==="node"?Ko(t,e,n):r==="mark"?f0(t,e,n):!1}var TF=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=_h(a=>a.type.name===e)(t.selection);if(!o)return!1;const s=t.doc.resolve(o.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},MF=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function ZS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ek(t,e){const{nodeExtensions:n}=Jl(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=$e(ue(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Nh(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(Nh(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function $T(t){return t instanceof ce}var HT=class UT{constructor(e){this.position=e}static fromJSON(e){return new UT(e.position)}toJSON(){return{position:this.position}}};function _F(t,e){const n=e.mapping.mapResult(t.position);return{position:new HT(n.pos),mapResult:n}}function NF(t){return new HT(t)}function OF(t,e,n){var r;const{selection:i}=e;let o=null;if(_T(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(f=>f.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:a,$to:c})=>{let f=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,c.pos,(d,p,m)=>{if(f)return!1;if(d.isInline){const g=!m||m.type.allowsMarkType(n),x=!!n.isInSet(d.marks)||!d.marks.some(k=>k.type.excludes(n));f=g&&x}return!f}),f})}var AF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,c=Yi(t,r.schema);if(i)if(s){const f=PT(r,c);n.addStoredMark(c.create({...f,...e}))}else a.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;r.doc.nodesBetween(d,p,(m,g)=>{const x=Math.max(g,d),k=Math.min(g+m.nodeSize,p);m.marks.find(w=>w.type===c)?m.marks.forEach(w=>{c===w.type&&n.addMark(x,k,c.create({...w.attrs,...e}))}):n.addMark(x,k,c.create(e))})});return OF(r,n,c)},PF=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),DF=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Et(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>hS(o,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>hS(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},RF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Ss(t,0,r.content.size),o=ce.create(r,i);e.setSelection(o)}return!0},IF=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),i&&n.doc.nodesBetween(s,a,(c,f)=>{c.isText||n.setNodeMarkup(f,void 0,{...c.attrs,dir:t})}),!0},LF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=ye.atStart(r).from,a=ye.atEnd(r).to,c=Ss(i,s,a),f=Ss(o,s,a),d=ye.create(r,c,f);e.setSelection(d)}return!0},zF=t=>({state:e,dispatch:n})=>{const r=Et(t,e.schema);return Oz(r)(e,n)};function tk(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var BF=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:c}=o,f=i.extensionManager.attributes,d=Df(f,a.node().type.name,a.node().attrs);if(o instanceof ce&&o.node.isBlock)return!a.parentOffset||!Vi(s,a.pos)?!1:(r&&(t&&tk(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const p=c.parentOffset===c.parent.content.size,m=a.depth===0?void 0:dF(a.node(-1).contentMatchAt(a.indexAfter(-1)));let g=p&&m?[{type:m,attrs:d}]:void 0,x=Vi(e.doc,e.mapping.map(a.pos),1,g);if(!g&&!x&&Vi(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(x=!0,g=m?[{type:m,attrs:d}]:void 0),r){if(x&&(o instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,g),m&&!p&&!a.parentOffset&&a.parent.type!==m)){const k=e.mapping.map(a.before()),b=e.doc.resolve(k);a.node(-1).canReplaceWith(b.index(),b.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}t&&tk(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return x},FF=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=Et(t,r.schema),{$from:c,$to:f}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(f))return!1;const p=c.node(-1);if(p.type!==a)return!1;const m=o.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let w=K.empty;const v=c.index(-1)?1:c.index(-2)?2:3;for(let D=c.depth-v;D>=c.depth-3;D-=1)w=K.from(c.node(D).copy(w));const C=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,_={...Df(m,c.node().type.name,c.node().attrs),...e},M=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(_))||void 0;w=w.append(K.from(a.createAndFill(null,M)||void 0));const A=c.before(c.depth-(v-1));n.replace(A,c.after(-C),new Z(w,4-v,0));let P=-1;n.doc.nodesBetween(A,n.doc.content.size,(D,B)=>{if(P>-1)return!1;D.isTextblock&&D.content.size===0&&(P=B+1)}),P>-1&&n.setSelection(ye.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const g=f.pos===c.end()?p.contentMatchAt(0).defaultType:null,x={...Df(m,p.type.name,p.attrs),...e},k={...Df(m,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,f.pos);const b=g?[{type:a,attrs:x},{type:g,attrs:k}]:[{type:a,attrs:x}];if(!Vi(n.doc,c.pos,2))return!1;if(i){const{selection:w,storedMarks:v}=r,{splittableMarks:C}=o.extensionManager,_=v||w.$to.parentOffset&&w.$from.marks();if(n.split(c.pos,2,b).scrollIntoView(),!_||!i)return!0;const M=_.filter(A=>C.includes(A.type.name));n.ensureMarks(M)}return!0},Um=(t,e)=>{const n=_h(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Jo(t.doc,n.pos)&&t.join(n.pos),!0},Vm=(t,e)=>{const n=_h(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Jo(t.doc,r)&&t.join(r),!0},jF=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:c,commands:f,can:d})=>{const{extensions:p,splittableMarks:m}=i.extensionManager,g=Et(t,s.schema),x=Et(e,s.schema),{selection:k,storedMarks:b}=s,{$from:w,$to:v}=k,C=w.blockRange(v),_=b||k.$to.parentOffset&&k.$from.marks();if(!C)return!1;const M=_h(A=>ek(A.type.name,p))(k);if(C.depth>=1&&M&&C.depth-M.depth<=1){if(M.node.type===g)return f.liftListItem(x);if(ek(M.node.type.name,p)&&g.validContent(M.node.content)&&a)return c().command(()=>(o.setNodeMarkup(M.pos,g),!0)).command(()=>Um(o,g)).command(()=>Vm(o,g)).run()}return!n||!_||!a?c().command(()=>d().wrapInList(g,r)?!0:f.clearNodes()).wrapInList(g,r).command(()=>Um(o,g)).command(()=>Vm(o,g)).run():c().command(()=>{const A=d().wrapInList(g,r),P=_.filter(D=>m.includes(D.type.name));return o.ensureMarks(P),A?!0:f.clearNodes()}).wrapInList(g,r).command(()=>Um(o,g)).command(()=>Vm(o,g)).run()},$F=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Yi(t,r.schema);return f0(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},HF=(t,e,n={})=>({state:r,commands:i})=>{const o=Et(t,r.schema),s=Et(e,r.schema),a=Ko(r,o,n);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),a?i.setNode(s,c):i.setNode(o,{...c,...n})},UF=(t,e={})=>({state:n,commands:r})=>{const i=Et(t,n.schema);return Ko(n,i,e)?r.lift(i):r.wrapIn(i,e)},VF=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let c=a.steps.length-1;c>=0;c-=1)s.step(a.steps[c].invert(a.docs[c]));if(o.text){const c=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,c))}else s.delete(o.from,o.to)}return!0}}return!1},WF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},KF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,c=Yi(t,r.schema),{$from:f,empty:d,ranges:p}=a;if(!i)return!0;if(d&&s){let{from:m,to:g}=a;const x=(o=f.marks().find(b=>b.type===c))==null?void 0:o.attrs,k=Vy(f,c,x);k&&(m=k.from,g=k.to),n.removeMark(m,g,c)}else p.forEach(m=>{n.removeMark(m.$from.pos,m.$to.pos,c)});return n.removeStoredMark(c),!0},qF=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let o,s;return typeof t=="number"?(o=t,s=t):t&&"from"in t&&"to"in t?(o=t.from,s=t.to):(o=i.from,s=i.to),r&&e.doc.nodesBetween(o,s,(a,c)=>{if(a.isText)return;const f={...a.attrs};delete f.dir,e.setNodeMarkup(c,void 0,f)}),!0},GF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=Mh(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(o=Et(t,r.schema)),a==="mark"&&(s=Yi(t,r.schema));let c=!1;return n.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,g,x,k;n.selection.empty?r.doc.nodesBetween(d,p,(b,w)=>{o&&o===b.type&&(c=!0,x=Math.max(w,d),k=Math.min(w+b.nodeSize,p),m=w,g=b)}):r.doc.nodesBetween(d,p,(b,w)=>{w<d&&o&&o===b.type&&(c=!0,x=Math.max(w,d),k=Math.min(w+b.nodeSize,p),m=w,g=b),w>=d&&w<=p&&(o&&o===b.type&&(c=!0,i&&n.setNodeMarkup(w,void 0,{...b.attrs,...e})),s&&b.marks.length&&b.marks.forEach(v=>{if(s===v.type&&(c=!0,i)){const C=Math.max(w,d),_=Math.min(w+b.nodeSize,p);n.addMark(C,_,s.create({...v.attrs,...e}))}}))}),g&&(m!==void 0&&i&&n.setNodeMarkup(m,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(b=>{s===b.type&&i&&n.addMark(x,k,s.create({...b.attrs,...e}))}))}),c},XF=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return bz(i,e)(n,r)},JF=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return Cz(i,e)(n,r)},YF=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Oh=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},QF=(t,e)=>{if(Uy(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function cf(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:c}=n;if(c.composing)return!1;const f=c.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(m=>m.type.spec.code))return!1;let d=!1;const p=CF(f)+o;return s.forEach(m=>{if(d)return;const g=QF(p,m.find);if(!g)return;const x=c.state.tr,k=Eh({state:c.state,transaction:x}),b={from:r-(g[0].length-o.length),to:i},{commands:w,chain:v,can:C}=new Th({editor:n,state:k});m.handler({state:k,range:b,match:g,commands:w,chain:v,can:C})===null||!x.steps.length||(m.undoable&&x.setMeta(a,{transform:x,from:r,to:i,text:o}),c.dispatch(x),d=!0)}),d}function ZF(t){const{editor:e,rules:n}=t,r=new st({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=Ky(K.from(d),s.schema);const{from:p}=c,m=p+d.length;cf({editor:e,from:p,to:m,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return cf({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&cf({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?cf({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function ej(t){return Object.prototype.toString.call(t).slice(8,-1)}function ff(t){return ej(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function VT(t,e){const n={...t};return ff(t)&&ff(e)&&Object.keys(e).forEach(r=>{ff(e[r])&&ff(t[r])?n[r]=VT(t[r],e[r]):n[r]=e[r]}),n}var Gy=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...$e(ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...$e(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>VT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Vs=class WT extends Gy{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new WT(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const c=s.find(f=>(f==null?void 0:f.type.name)===n.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function tj(t){return typeof t=="number"}var nj=class{constructor(t){this.find=t.find,this.handler=t.handler}},rj=(t,e,n)=>{if(Uy(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function ij(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:c,chain:f,can:d}=new Th({editor:e,state:n}),p=[];return n.doc.nodesBetween(r,i,(g,x)=>{var k,b,w,v,C;if((b=(k=g.type)==null?void 0:k.spec)!=null&&b.code||!(g.isText||g.isTextblock||g.isInline))return;const _=(C=(v=(w=g.content)==null?void 0:w.size)!=null?v:g.nodeSize)!=null?C:0,M=Math.max(r,x),A=Math.min(i,x+_);if(M>=A)return;const P=g.isText?g.text||"":g.textBetween(M-x,A-x,void 0,"");rj(P,o.find,s).forEach(B=>{if(B.index===void 0)return;const U=M+B.index+1,fe=U+B[0].length,me={from:n.tr.mapping.map(U),to:n.tr.mapping.map(fe)},Y=o.handler({state:n,range:me,match:B,commands:c,chain:f,can:d,pasteEvent:s,dropEvent:a});p.push(Y)})}),p.every(g=>g!==null)}var df=null,oj=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function sj(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:d,from:p,to:m,rule:g,pasteEvt:x})=>{const k=d.tr,b=Eh({state:d,transaction:k});if(!(!ij({editor:e,state:b,from:Math.max(p-1,0),to:m.b-1,rule:g,pasteEvent:x,dropEvent:a})||!k.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(d=>new st({view(p){const m=x=>{var k;r=(k=p.dom.parentElement)!=null&&k.contains(x.target)?p.dom.parentElement:null,r&&(df=e)},g=()=>{df&&(df=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(p,m)=>{if(o=r===p.dom.parentElement,a=m,!o){const g=df;g!=null&&g.isEditable&&setTimeout(()=>{const x=g.state.selection;x&&g.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(p,m)=>{var g;const x=(g=m.clipboardData)==null?void 0:g.getData("text/html");return s=m,i=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(p,m,g)=>{const x=p[0],k=x.getMeta("uiEvent")==="paste"&&!i,b=x.getMeta("uiEvent")==="drop"&&!o,w=x.getMeta("applyPasteRules"),v=!!w;if(!k&&!b&&!v)return;if(v){let{text:M}=w;typeof M=="string"?M=M:M=Ky(K.from(M),g.schema);const{from:A}=w,P=A+M.length,D=oj(M);return c({rule:d,state:g,from:A,to:{b:P},pasteEvt:D})}const C=m.doc.content.findDiffStart(g.doc.content),_=m.doc.content.findDiffEnd(g.doc.content);if(!(!tj(C)||!_||C===_.b))return c({rule:d,state:g,from:C,to:_,pasteEvt:s})}}))}var Ah=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=LT(t),this.schema=yF(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:uf(e.name,this.schema)},r=ue(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return xd([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:uf(r.name,this.schema)},o=[],s=ue(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&ue(r,"exitable",i)&&(a.ArrowRight=()=>Vs.handleExit({editor:t,mark:r})),s){const m=Object.fromEntries(Object.entries(s()).map(([g,x])=>[g,()=>x({editor:t})]));a={...a,...m}}const c=wB(a);o.push(c);const f=ue(r,"addInputRules",i);if(ZS(r,t.options.enableInputRules)&&f){const m=f();if(m&&m.length){const g=ZF({editor:t,rules:m}),x=Array.isArray(g)?g:[g];o.push(...x)}}const d=ue(r,"addPasteRules",i);if(ZS(r,t.options.enablePasteRules)&&d){const m=d();if(m&&m.length){const g=sj({editor:t,rules:m});o.push(...g)}}const p=ue(r,"addProseMirrorPlugins",i);if(p){const m=p();o.push(...m)}return o})}get attributes(){return IT(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Jl(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Et(n.name,this.schema)},o=ue(n,"addNodeView",i);if(!o)return[];const s=o();if(!s)return[];const a=(c,f,d,p,m)=>{const g=Ru(c,r);return s({node:c,view:f,getPos:d,decorations:p,innerDecorations:m,editor:t,extension:n,HTMLAttributes:g})};return[n.name,a]}))}dispatchTransaction(t){const{editor:e}=this;return xd([...this.extensions].reverse()).reduceRight((r,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:uf(i.name,this.schema)},s=ue(i,"dispatchTransaction",o);return s?a=>{s.call(o,{transaction:a,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=Jl(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Yi(n.name,this.schema)},o=ue(n,"addMarkView",i);if(!o)return[];const s=(a,c,f)=>{const d=Ru(a,r);return o()({mark:a,view:c,inline:f,editor:t,extension:n,HTMLAttributes:d,updateAttributes:p=>{wj(a,t,p)}})};return[n.name,s]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:uf(e.name,this.schema)};e.type==="mark"&&((n=$e(ue(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ue(e,"onBeforeCreate",r),o=ue(e,"onCreate",r),s=ue(e,"onUpdate",r),a=ue(e,"onSelectionUpdate",r),c=ue(e,"onTransaction",r),f=ue(e,"onFocus",r),d=ue(e,"onBlur",r),p=ue(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),p&&this.editor.on("destroy",p)})}};Ah.resolve=LT;Ah.sort=xd;Ah.flatten=Wy;var lj={};Hy(lj,{ClipboardTextSerializer:()=>qT,Commands:()=>GT,Delete:()=>XT,Drop:()=>JT,Editable:()=>YT,FocusEvents:()=>ZT,Keymap:()=>eM,Paste:()=>tM,Tabindex:()=>nM,TextDirection:()=>rM,focusEventsPluginKey:()=>QT});var xt=class KT extends Gy{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new KT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},qT=xt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new st({key:new Pt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),a=Math.max(...o.map(d=>d.$to.pos)),c=BT(n);return zT(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),GT=xt.create({name:"commands",addCommands(){return{...TT}}}),XT=xt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var s,a,c,f;if((f=(c=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:c.call(a,t))!=null?f:t.getMeta("y-sync$"))return;const d=DT(t.before,[t,...e]);jT(d).forEach(g=>{d.mapping.mapResult(g.oldRange.from).deletedAfter&&d.mapping.mapResult(g.oldRange.to).deletedBefore&&d.before.nodesBetween(g.oldRange.from,g.oldRange.to,(x,k)=>{const b=k+x.nodeSize-2,w=g.oldRange.from<=k&&b<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:x,from:k,to:b,newFrom:d.mapping.map(k),newTo:d.mapping.map(b),deletedRange:g.oldRange,newRange:g.newRange,partial:!w,editor:this.editor,transaction:t,combinedTransform:d})})});const m=d.mapping;d.steps.forEach((g,x)=>{var k,b;if(g instanceof ei){const w=m.slice(x).map(g.from,-1),v=m.slice(x).map(g.to),C=m.invert().map(w,-1),_=m.invert().map(v),M=(k=d.doc.nodeAt(w-1))==null?void 0:k.marks.some(P=>P.eq(g.mark)),A=(b=d.doc.nodeAt(v))==null?void 0:b.marks.some(P=>P.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:C,to:_},newRange:{from:w,to:v},partial:!!(A||M),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),JT=xt.create({name:"drop",addProseMirrorPlugins(){return[new st({key:new Pt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),YT=xt.create({name:"editable",addProseMirrorPlugins(){return[new st({key:new Pt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),QT=new Pt("focusEvents"),ZT=xt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new st({key:QT,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),eM=xt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:c,doc:f}=a,{empty:d,$anchor:p}=c,{pos:m,parent:g}=p,x=p.parent.isTextblock&&m>0?a.doc.resolve(m-1):p,k=x.parent.type.spec.isolating,b=p.pos-p.parentOffset,w=k&&x.parent.childCount===1?b===p.pos:_e.atStart(f).from===m;return!d||!g.type.isTextblock||g.textContent.length||!w||w&&p.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return vd()||AT()?o:i},addProseMirrorPlugins(){return[new st({key:new Pt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const r=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,c=_e.atStart(e.doc).from,f=_e.atEnd(e.doc).to;if(o||!(s===c&&a===f)||!Nh(n.doc))return;const m=n.tr,g=Eh({state:n,transaction:m}),{commands:x}=new Th({editor:this.editor,state:g});if(x.clearNodes(),!!m.steps.length)return m}})]}}),tM=xt.create({name:"paste",addProseMirrorPlugins(){return[new st({key:new Pt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),nM=xt.create({name:"tabindex",addProseMirrorPlugins(){return[new st({key:new Pt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),rM=xt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Jl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new st({key:new Pt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),aj=class pl{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new pl(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new pl(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new pl(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const c=new pl(a,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new pl(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const c=s[a];if(o[c]!==n[c])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(c=>n[c]===s.node.attrs[c])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},uj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function cj(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var fj=class extends YF{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:_F,createMappablePosition:NF},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=NT(e,this.options.autofocus);this.editorState=Nl.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=cj(uj,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=RT(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(s=>!s.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[YT,qT.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),GT,ZT,eM,nM,JT,tM,XT,rM.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ah(r,this)}createCommandManager(){this.commandManager=new Th({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=c0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=c0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new CT(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),a=s==null?void 0:s.getMeta("focus"),c=s==null?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),c&&this.emit("blur",{editor:this,event:c.event,transaction:s}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return FT(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return EF(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Ky(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return xF(this.state.doc,{blockSeparator:e,textSerializers:{...BT(this.schema),...n}})}get isEmpty(){return Nh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new aj(e,this)}get $doc(){return this.$pos(0)}};function Yl(t){return new Oh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=$e(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const c=a.search(/\S/),f=n.from+a.indexOf(s),d=f+s.length;if(qy(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(k=>k===t.type&&k!==g.mark.type)).filter(g=>g.to>f).length)return null;d<n.to&&o.delete(d,n.to),f>n.from&&o.delete(n.from+c,f);const m=n.from+c+s.length;o.addMark(n.from+c,m,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function dj(t){return new Oh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=$e(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const c=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=s+f;d>a?d=a:a=d+r[1].length;const p=r[0][r[0].length-1];o.insertText(p,s+r[0].length-1),o.replaceWith(d,a,c)}else if(r[0]){const f=t.type.isInline?s:s-1;o.insert(f,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()},undoable:t.undoable})}function d0(t){return new Oh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=$e(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function Ql(t){return new Oh({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=$e(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),c=s.doc.resolve(n.from).blockRange(),f=c&&Ty(c,t.type,o);if(!f)return null;if(s.wrap(c,f),t.keepMarks&&t.editor){const{selection:p,storedMarks:m}=e,{splittableMarks:g}=t.editor.extensionManager,x=m||p.$to.parentOffset&&p.$from.marks();if(x){const k=x.filter(b=>g.includes(b.type.name));s.ensureMarks(k)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(p,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Jo(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&s.join(n.from-1)},undoable:t.undoable})}function hj(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ce){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var pj={};Hy(pj,{createAtomBlockMarkdownSpec:()=>mj,createBlockMarkdownSpec:()=>gj,createInlineMarkdownSpec:()=>xj,parseAttributes:()=>Xy,parseIndentedBlocks:()=>h0,renderNestedMarkdownContent:()=>Yy,serializeAttributes:()=>Jy});function Xy(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const f=i.map(d=>d.trim().slice(1));e.class=f.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const s=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(s)).forEach(([,f,d])=>{var p;const m=parseInt(((p=d.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),g=n[m];g&&(e[f]=g.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function Jy(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function mj(t){const{nodeName:e,name:n,parseAttributes:r=Xy,serializeAttributes:i=Jy,defaultAttributes:o={},requiredAttributes:s=[],allowedAttributes:a}=t,c=n||e,f=d=>{if(!a)return d;const p={};return a.forEach(m=>{m in d&&(p[m]=d[m])}),p};return{parseMarkdown:(d,p)=>{const m={...o,...d.attributes};return p.createNode(e,m,[])},markdownTokenizer:{name:e,level:"block",start(d){var p;const m=new RegExp(`^:::${c}(?:\\s|$)`,"m"),g=(p=d.match(m))==null?void 0:p.index;return g!==void 0?g:-1},tokenize(d,p,m){const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),x=d.match(g);if(!x)return;const k=x[1]||"",b=r(k);if(!s.find(v=>!(v in b)))return{type:e,raw:x[0],attributes:b}}},renderMarkdown:d=>{const p=f(d.attrs||{}),m=i(p),g=m?` {${m}}`:"";return`:::${c}${g} :::`}}}function gj(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Xy,serializeAttributes:o=Jy,defaultAttributes:s={},content:a="block",allowedAttributes:c}=t,f=n||e,d=p=>{if(!c)return p;const m={};return c.forEach(g=>{g in p&&(m[g]=p[g])}),m};return{parseMarkdown:(p,m)=>{let g;if(r){const k=r(p);g=typeof k=="string"?[{type:"text",text:k}]:k}else a==="block"?g=m.parseChildren(p.tokens||[]):g=m.parseInline(p.tokens||[]);const x={...s,...p.attributes};return m.createNode(e,x,g)},markdownTokenizer:{name:e,level:"block",start(p){var m;const g=new RegExp(`^:::${f}`,"m"),x=(m=p.match(g))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(p,m,g){var x;const k=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=p.match(k);if(!b)return;const[w,v=""]=b,C=i(v);let _=1;const M=w.length;let A="";const P=/^:::([\w-]*)(\s.*)?/gm,D=p.slice(M);for(P.lastIndex=0;;){const B=P.exec(D);if(B===null)break;const U=B.index,fe=B[1];if(!((x=B[2])!=null&&x.endsWith(":::"))){if(fe)_+=1;else if(_-=1,_===0){const me=D.slice(0,U);A=me.trim();const Y=p.slice(0,M+U+B[0].length);let le=[];if(A)if(a==="block")for(le=g.blockTokens(me),le.forEach(ee=>{ee.text&&(!ee.tokens||ee.tokens.length===0)&&(ee.tokens=g.inlineTokens(ee.text))});le.length>0;){const ee=le[le.length-1];if(ee.type==="paragraph"&&(!ee.text||ee.text.trim()===""))le.pop();else break}else le=g.inlineTokens(A);return{type:e,raw:Y,attributes:C,content:A,tokens:le}}}}}},renderMarkdown:(p,m)=>{const g=d(p.attrs||{}),x=o(g),k=x?` {${x}}`:"",b=m.renderChildren(p.content||[],`

`);return`:::${f}${k}

${b}

:::`}}}function yj(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,o,s]=r;e[i]=o||s,r=n.exec(t)}return e}function vj(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function xj(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=yj,serializeAttributes:o=vj,defaultAttributes:s={},selfClosing:a=!1,allowedAttributes:c}=t,f=n||e,d=m=>{if(!c)return m;const g={};return c.forEach(x=>{const k=typeof x=="string"?x:x.name,b=typeof x=="string"?void 0:x.skipIfDefault;if(k in m){const w=m[k];if(b!==void 0&&w===b)return;g[k]=w}}),g},p=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(m,g)=>{const x={...s,...m.attributes};if(a)return g.createNode(e,x);const k=r?r(m):m.content||"";return k?g.createNode(e,x,[g.createTextNode(k)]):g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"inline",start(m){const g=a?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),x=m.match(g),k=x==null?void 0:x.index;return k!==void 0?k:-1},tokenize(m,g,x){const k=a?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),b=m.match(k);if(!b)return;let w="",v="";if(a){const[,_]=b;v=_}else{const[,_,M]=b;v=_,w=M||""}const C=i(v.trim());return{type:e,raw:b[0],content:w.trim(),attributes:C}}},renderMarkdown:m=>{let g="";r?g=r(m):m.content&&m.content.length>0&&(g=m.content.filter(w=>w.type==="text").map(w=>w.text).join(""));const x=d(m.attrs||{}),k=o(x),b=k?` ${k}`:"";return a?`[${f}${b}]`:`[${f}${b}]${g}[/${f}]`}}}function h0(t,e,n){var r,i,o,s;const a=t.split(`
`),c=[];let f="",d=0;const p=e.baseIndentSize||2;for(;d<a.length;){const m=a[d],g=m.match(e.itemPattern);if(!g){if(c.length>0)break;if(m.trim()===""){d+=1,f=`${f}${m}
`;continue}else return}const x=e.extractItemData(g),{indentLevel:k,mainContent:b}=x;f=`${f}${m}
`;const w=[b];for(d+=1;d<a.length;){const M=a[d];if(M.trim()===""){const P=a.slice(d+1).findIndex(U=>U.trim()!=="");if(P===-1)break;if((((i=(r=a[d+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>k){w.push(M),f=`${f}${M}
`,d+=1;continue}else break}if((((s=(o=M.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:s.length)||0)>k)w.push(M),f=`${f}${M}
`,d+=1;else break}let v;const C=w.slice(1);if(C.length>0){const M=C.map(A=>A.slice(k+p)).join(`
`);M.trim()&&(e.customNestedParser?v=e.customNestedParser(M):v=n.blockTokens(M))}const _=e.createToken(x,v);c.push(_)}if(c.length!==0)return{items:c,raw:f}}function Yy(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[o,...s]=t.content,a=e.renderChildren([o]),c=[`${i}${a}`];return s&&s.length>0&&s.forEach(f=>{const d=e.renderChildren([f]);if(d){const p=d.split(`
`).map(m=>m?e.indent(m):"").join(`
`);c.push(p)}}),c.join(`
`)}function wj(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,s=t;i.descendants((a,c)=>{const f=o.mapping.map(c),d=o.mapping.map(c)+a.nodeSize;let p=null;if(a.marks.forEach(g=>{if(g!==s)return!1;p=g}),!p)return;let m=!1;if(Object.keys(n).forEach(g=>{n[g]!==p.attrs[g]&&(m=!0)}),m){const g=t.type.create({...t.attrs,...n});o.removeMark(f,d,t.type),o.addMark(f,d,g)}}),o.docChanged&&e.view.dispatch(o)}var mr=class iM extends Gy{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new iM(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Fs(t){return new nj({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=$e(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],c=r[0];let f=n.to;if(a){const d=c.search(/\S/),p=n.from+c.indexOf(a),m=p+a.length;if(qy(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(b=>b===t.type&&b!==x.mark.type)).filter(x=>x.to>p).length)return null;m<n.to&&s.delete(m,n.to),p>n.from&&s.delete(n.from+d,p),f=n.from+d+a.length,s.addMark(n.from+d,f,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:Sj,getOwnPropertySymbols:kj}=Object,{hasOwnProperty:bj}=Object.prototype;function Wm(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function hf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function Cj(t){return t!=null?t[Symbol.toStringTag]:void 0}function nk(t){return Sj(t).concat(kj(t))}const Ej=Object.hasOwn||((t,e)=>bj.call(t,e));function Ws(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Tj="__v",Mj="__o",_j="_owner",{getOwnPropertyDescriptor:rk,keys:ik}=Object;function Nj(t,e){return t.byteLength===e.byteLength&&wd(new Uint8Array(t),new Uint8Array(e))}function Oj(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Aj(t,e){return t.byteLength===e.byteLength&&wd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Pj(t,e){return Ws(t.getTime(),e.getTime())}function Dj(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Rj(t,e){return t===e}function ok(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let d=!1,p=0;for(;(a=f.next())&&!a.done;){if(i[p]){p++;continue}const m=s.value,g=a.value;if(n.equals(m[0],g[0],c,p,t,e,n)&&n.equals(m[1],g[1],m[0],g[0],t,e,n)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}const Ij=Ws;function Lj(t,e,n){const r=ik(t);let i=r.length;if(ik(e).length!==i)return!1;for(;i-- >0;)if(!oM(t,e,n,r[i]))return!1;return!0}function Pa(t,e,n){const r=nk(t);let i=r.length;if(nk(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!oM(t,e,n,o)||(s=rk(t,o),a=rk(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function zj(t,e){return Ws(t.valueOf(),e.valueOf())}function Bj(t,e){return t.source===e.source&&t.flags===e.flags}function sk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,d=0;for(;(a=c.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function wd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Fj(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oM(t,e,n,r){return(r===_j||r===Mj||r===Tj)&&(t.$$typeof||e.$$typeof)?!0:Ej(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const jj="[object ArrayBuffer]",$j="[object Arguments]",Hj="[object Boolean]",Uj="[object DataView]",Vj="[object Date]",Wj="[object Error]",Kj="[object Map]",qj="[object Number]",Gj="[object Object]",Xj="[object RegExp]",Jj="[object Set]",Yj="[object String]",Qj={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Zj="[object URL]",e5=Object.prototype.toString;function t5({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:d,areSetsEqual:p,areTypedArraysEqual:m,areUrlsEqual:g,unknownTagComparators:x}){return function(b,w,v){if(b===w)return!0;if(b==null||w==null)return!1;const C=typeof b;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?a(b,w,v):C==="function"?o(b,w,v):!1;const _=b.constructor;if(_!==w.constructor)return!1;if(_===Object)return c(b,w,v);if(Array.isArray(b))return e(b,w,v);if(_===Date)return r(b,w,v);if(_===RegExp)return d(b,w,v);if(_===Map)return s(b,w,v);if(_===Set)return p(b,w,v);const M=e5.call(b);if(M===Vj)return r(b,w,v);if(M===Xj)return d(b,w,v);if(M===Kj)return s(b,w,v);if(M===Jj)return p(b,w,v);if(M===Gj)return typeof b.then!="function"&&typeof w.then!="function"&&c(b,w,v);if(M===Zj)return g(b,w,v);if(M===Wj)return i(b,w,v);if(M===$j)return c(b,w,v);if(Qj[M])return m(b,w,v);if(M===jj)return t(b,w,v);if(M===Uj)return n(b,w,v);if(M===Hj||M===qj||M===Yj)return f(b,w,v);if(x){let A=x[M];if(!A){const P=Cj(b);P&&(A=x[P])}if(A)return A(b,w,v)}return!1}}function n5({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Nj,areArraysEqual:n?Pa:Oj,areDataViewsEqual:Aj,areDatesEqual:Pj,areErrorsEqual:Dj,areFunctionsEqual:Rj,areMapsEqual:n?Wm(ok,Pa):ok,areNumbersEqual:Ij,areObjectsEqual:n?Pa:Lj,arePrimitiveWrappersEqual:zj,areRegExpsEqual:Bj,areSetsEqual:n?Wm(sk,Pa):sk,areTypedArraysEqual:n?Wm(wd,Pa):wd,areUrlsEqual:Fj,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=hf(r.areArraysEqual),o=hf(r.areMapsEqual),s=hf(r.areObjectsEqual),a=hf(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function r5(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function i5({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,c){const{cache:f=t?new WeakMap:void 0,meta:d}=n();return e(a,c,{cache:f,equals:r,meta:d,strict:i})};if(t)return function(a,c){return e(a,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,c){return e(a,c,o)}}const o5=Qo();Qo({strict:!0});Qo({circular:!0});Qo({circular:!0,strict:!0});Qo({createInternalComparator:()=>Ws});Qo({strict:!0,createInternalComparator:()=>Ws});Qo({circular:!0,createInternalComparator:()=>Ws});Qo({circular:!0,createInternalComparator:()=>Ws,strict:!0});function Qo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=n5(t),s=t5(o),a=n?n(s):r5(s);return i5({circular:e,comparator:s,createState:r,equals:a,strict:i})}var sM={exports:{}},lM={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=se,s5=by;function l5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a5=typeof Object.is=="function"?Object.is:l5,u5=s5.useSyncExternalStore,c5=Ph.useRef,f5=Ph.useEffect,d5=Ph.useMemo,h5=Ph.useDebugValue;lM.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=c5(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=d5(function(){function c(g){if(!f){if(f=!0,d=g,g=r(g),i!==void 0&&s.hasValue){var x=s.value;if(i(x,g))return p=x}return p=g}if(x=p,a5(d,g))return x;var k=r(g);return i!==void 0&&i(x,k)?(d=g,x):(d=g,p=k)}var f=!1,d,p,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,r,i]);var a=u5(t,o[0],o[1]);return f5(function(){s.hasValue=!0,s.value=a},[a]),h5(a),a};sM.exports=lM;var p5=sM.exports,m5=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},g5=({contentComponent:t})=>{const e=by.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return I.jsx(I.Fragment,{children:Object.values(e)})};function y5(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:aL.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var v5=class extends Ho.Component{constructor(t){var e;super(t),this.editorContentRef=Ho.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=y5(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return I.jsxs(I.Fragment,{children:[I.jsx("div",{ref:m5(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&I.jsx(g5,{contentComponent:t.contentComponent})]})}},x5=se.forwardRef((t,e)=>{const n=Ho.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ho.createElement(v5,{key:n,innerRef:e,...t})}),w5=Ho.memo(x5),S5=typeof window<"u"?se.useLayoutEffect:se.useEffect,k5=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function b5(t){var e;const[n]=se.useState(()=>new k5(t.editor)),r=p5.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:o5);return S5(()=>n.watch(t.editor),[t.editor,n]),se.useDebugValue(r),r}var C5=!1,p0=typeof window>"u",E5=p0||!!(typeof window<"u"&&window.next),T5=class aM{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?p0||E5?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new fj(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var s;return i===((s=n.extensions)==null?void 0:s[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?aM.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function M5(t={},e=[]){const n=se.useRef(t);n.current=t;const[r]=se.useState(()=>new T5(n)),i=by.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return se.useDebugValue(i),se.useEffect(r.onRender(e)),b5({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var _5=se.createContext({editor:null});_5.Consumer;var N5=se.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),O5=()=>se.useContext(N5);Ho.forwardRef((t,e)=>{const{onDragStart:n}=O5(),r=t.as||"div";return I.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ho.createContext({markViewContentRef:()=>{}});var Sd=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},A5=/^\s*>\s$/,P5=mr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Sd("blockquote",{...Tt(this.options.HTMLAttributes,t),children:Sd("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const a=e.renderChildren([i]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ql({find:A5,type:this.type})]}}),D5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,R5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,I5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,L5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,z5=Vs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Sd("strong",{...Tt(this.options.HTMLAttributes,t),children:Sd("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Yl({find:D5,type:this.type}),Yl({find:I5,type:this.type})]},addPasteRules(){return[Fs({find:R5,type:this.type}),Fs({find:L5,type:this.type})]}}),B5=/(^|[^`])`([^`]+)`(?!`)$/,F5=/(^|[^`])`([^`]+)`(?!`)/g,j5=Vs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Tt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Yl({find:B5,type:this.type})]},addPasteRules(){return[Fs({find:F5,type:this.type})]}}),Km=4,$5=/^```([a-z]+)?[\s\n]$/,H5=/^~~~([a-z]+)?[\s\n]$/,U5=mr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Km,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Tt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Km,{state:r}=t,{selection:i}=r,{$from:o,empty:s}=i;if(o.parent.type!==this.type)return!1;const a=" ".repeat(n);return s?t.commands.insertContent(a):t.commands.command(({tr:c})=>{const{from:f,to:d}=i,g=r.doc.textBetween(f,d,`
`,`
`).split(`
`).map(x=>a+x).join(`
`);return c.replaceWith(f,d,r.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Km,{state:r}=t,{selection:i}=r,{$from:o,empty:s}=i;return o.parent.type!==this.type?!1:s?t.commands.command(({tr:a})=>{var c;const{pos:f}=o,d=o.start(),p=o.end(),g=r.doc.textBetween(d,p,`
`,`
`).split(`
`);let x=0,k=0;const b=f-d;for(let A=0;A<g.length;A+=1){if(k+g[A].length>=b){x=A;break}k+=g[A].length+1}const v=((c=g[x].match(/^ */))==null?void 0:c[0])||"",C=Math.min(v.length,n);if(C===0)return!0;let _=d;for(let A=0;A<x;A+=1)_+=g[A].length+1;return a.delete(_,_+C),f-_<=C&&a.setSelection(ye.create(a.doc,_)),!0}):t.commands.command(({tr:a})=>{const{from:c,to:f}=i,m=r.doc.textBetween(c,f,`
`,`
`).split(`
`).map(g=>{var x;const k=((x=g.match(/^ */))==null?void 0:x[0])||"",b=Math.min(k.length,n);return g.slice(b)}).join(`
`);return a.replaceWith(c,f,r.schema.text(m)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:f})=>(f.setSelection(_e.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[d0({find:$5,type:this.type,getAttributes:t=>({language:t[1]})}),d0({find:H5,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new st({key:new Pt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=t.state,c=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},c)),s.selection.$from.parent.type!==this.type&&s.setSelection(ye.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),V5=mr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),W5=mr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Tt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,c=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&c&&s){const p=c.filter(m=>a.includes(m.type.name));f.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),K5=mr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Tt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>d0({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),q5=mr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Tt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!hj(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return $T(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:s,dispatch:a})=>{if(a){const{$to:c}=s.selection,f=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(ye.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(ce.create(s.doc,c.pos)):s.setSelection(ye.create(s.doc,c.pos));else{const d=o.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,p=d==null?void 0:d.create();p&&(s.insert(f,p),s.setSelection(ye.create(s.doc,f+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[dj({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),G5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,X5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,J5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Y5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Q5=Vs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Yl({find:G5,type:this.type}),Yl({find:J5,type:this.type})]},addPasteRules(){return[Fs({find:X5,type:this.type}),Fs({find:Y5,type:this.type})]}});const Z5="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",e6="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",m0="numeric",g0="ascii",y0="alpha",ru="asciinumeric",Ua="alphanumeric",v0="domain",uM="emoji",t6="scheme",n6="slashscheme",qm="whitespace";function r6(t,e){return t in e||(e[t]=[]),e[t]}function ks(t,e,n){e[m0]&&(e[ru]=!0,e[Ua]=!0),e[g0]&&(e[ru]=!0,e[y0]=!0),e[ru]&&(e[Ua]=!0),e[y0]&&(e[Ua]=!0),e[Ua]&&(e[v0]=!0),e[uM]&&(e[v0]=!0);for(const r in e){const i=r6(r,n);i.indexOf(t)<0&&i.push(t)}}function i6(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Hn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Hn.groups={};Hn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Hn.groups;let i;return e&&e.j?i=e:(i=new Hn(e),n&&r&&ks(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Hn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,a=i.go(t);if(a?(s=new Hn,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Hn,o){if(r)if(s.t&&typeof s.t=="string"){const c=Object.assign(i6(s.t,r),n);ks(o,c,r)}else n&&ks(o,n,r);s.t=o}return i.j[t]=s,s}};const Me=(t,e,n,r,i)=>t.ta(e,n,r,i),ct=(t,e,n,r,i)=>t.tr(e,n,r,i),lk=(t,e,n,r,i)=>t.ts(e,n,r,i),q=(t,e,n,r,i)=>t.tt(e,n,r,i),Li="WORD",x0="UWORD",cM="ASCIINUMERICAL",fM="ALPHANUMERICAL",Iu="LOCALHOST",w0="TLD",S0="UTLD",Rf="SCHEME",ml="SLASH_SCHEME",Qy="NUM",k0="WS",Zy="NL",iu="OPENBRACE",ou="CLOSEBRACE",kd="OPENBRACKET",bd="CLOSEBRACKET",Cd="OPENPAREN",Ed="CLOSEPAREN",Td="OPENANGLEBRACKET",Md="CLOSEANGLEBRACKET",_d="FULLWIDTHLEFTPAREN",Nd="FULLWIDTHRIGHTPAREN",Od="LEFTCORNERBRACKET",Ad="RIGHTCORNERBRACKET",Pd="LEFTWHITECORNERBRACKET",Dd="RIGHTWHITECORNERBRACKET",Rd="FULLWIDTHLESSTHAN",Id="FULLWIDTHGREATERTHAN",Ld="AMPERSAND",zd="APOSTROPHE",Bd="ASTERISK",vo="AT",Fd="BACKSLASH",jd="BACKTICK",$d="CARET",bo="COLON",ev="COMMA",Hd="DOLLAR",hi="DOT",Ud="EQUALS",tv="EXCLAMATION",Or="HYPHEN",su="PERCENT",Vd="PIPE",Wd="PLUS",Kd="POUND",lu="QUERY",nv="QUOTE",dM="FULLWIDTHMIDDLEDOT",rv="SEMI",pi="SLASH",au="TILDE",qd="UNDERSCORE",hM="EMOJI",Gd="SYM";var pM=Object.freeze({__proto__:null,ALPHANUMERICAL:fM,AMPERSAND:Ld,APOSTROPHE:zd,ASCIINUMERICAL:cM,ASTERISK:Bd,AT:vo,BACKSLASH:Fd,BACKTICK:jd,CARET:$d,CLOSEANGLEBRACKET:Md,CLOSEBRACE:ou,CLOSEBRACKET:bd,CLOSEPAREN:Ed,COLON:bo,COMMA:ev,DOLLAR:Hd,DOT:hi,EMOJI:hM,EQUALS:Ud,EXCLAMATION:tv,FULLWIDTHGREATERTHAN:Id,FULLWIDTHLEFTPAREN:_d,FULLWIDTHLESSTHAN:Rd,FULLWIDTHMIDDLEDOT:dM,FULLWIDTHRIGHTPAREN:Nd,HYPHEN:Or,LEFTCORNERBRACKET:Od,LEFTWHITECORNERBRACKET:Pd,LOCALHOST:Iu,NL:Zy,NUM:Qy,OPENANGLEBRACKET:Td,OPENBRACE:iu,OPENBRACKET:kd,OPENPAREN:Cd,PERCENT:su,PIPE:Vd,PLUS:Wd,POUND:Kd,QUERY:lu,QUOTE:nv,RIGHTCORNERBRACKET:Ad,RIGHTWHITECORNERBRACKET:Dd,SCHEME:Rf,SEMI:rv,SLASH:pi,SLASH_SCHEME:ml,SYM:Gd,TILDE:au,TLD:w0,UNDERSCORE:qd,UTLD:S0,UWORD:x0,WORD:Li,WS:k0});const Ri=/[a-z]/,Da=new RegExp("\\p{L}","u"),Gm=new RegExp("\\p{Emoji}","u"),Ii=/\d/,Xm=/\s/,ak="\r",Jm=`
`,o6="",s6="",Ym="";let pf=null,mf=null;function l6(t=[]){const e={};Hn.groups=e;const n=new Hn;pf==null&&(pf=uk(Z5)),mf==null&&(mf=uk(e6)),q(n,"'",zd),q(n,"{",iu),q(n,"}",ou),q(n,"[",kd),q(n,"]",bd),q(n,"(",Cd),q(n,")",Ed),q(n,"<",Td),q(n,">",Md),q(n,"",_d),q(n,"",Nd),q(n,"",Od),q(n,"",Ad),q(n,"",Pd),q(n,"",Dd),q(n,"",Rd),q(n,"",Id),q(n,"&",Ld),q(n,"*",Bd),q(n,"@",vo),q(n,"`",jd),q(n,"^",$d),q(n,":",bo),q(n,",",ev),q(n,"$",Hd),q(n,".",hi),q(n,"=",Ud),q(n,"!",tv),q(n,"-",Or),q(n,"%",su),q(n,"|",Vd),q(n,"+",Wd),q(n,"#",Kd),q(n,"?",lu),q(n,'"',nv),q(n,"/",pi),q(n,";",rv),q(n,"~",au),q(n,"_",qd),q(n,"\\",Fd),q(n,"",dM);const r=ct(n,Ii,Qy,{[m0]:!0});ct(r,Ii,r);const i=ct(r,Ri,cM,{[ru]:!0}),o=ct(r,Da,fM,{[Ua]:!0}),s=ct(n,Ri,Li,{[g0]:!0});ct(s,Ii,i),ct(s,Ri,s),ct(i,Ii,i),ct(i,Ri,i);const a=ct(n,Da,x0,{[y0]:!0});ct(a,Ri),ct(a,Ii,o),ct(a,Da,a),ct(o,Ii,o),ct(o,Ri),ct(o,Da,o);const c=q(n,Jm,Zy,{[qm]:!0}),f=q(n,ak,k0,{[qm]:!0}),d=ct(n,Xm,k0,{[qm]:!0});q(n,Ym,d),q(f,Jm,c),q(f,Ym,d),ct(f,Xm,d),q(d,ak),q(d,Jm),ct(d,Xm,d),q(d,Ym,d);const p=ct(n,Gm,hM,{[uM]:!0});q(p,"#"),ct(p,Gm,p),q(p,o6,p);const m=q(p,s6);q(m,"#"),ct(m,Gm,p);const g=[[Ri,s],[Ii,i]],x=[[Ri,null],[Da,a],[Ii,o]];for(let k=0;k<pf.length;k++)ho(n,pf[k],w0,Li,g);for(let k=0;k<mf.length;k++)ho(n,mf[k],S0,x0,x);ks(w0,{tld:!0,ascii:!0},e),ks(S0,{utld:!0,alpha:!0},e),ho(n,"file",Rf,Li,g),ho(n,"mailto",Rf,Li,g),ho(n,"http",ml,Li,g),ho(n,"https",ml,Li,g),ho(n,"ftp",ml,Li,g),ho(n,"ftps",ml,Li,g),ks(Rf,{scheme:!0,ascii:!0},e),ks(ml,{slashscheme:!0,ascii:!0},e),t=t.sort((k,b)=>k[0]>b[0]?1:-1);for(let k=0;k<t.length;k++){const b=t[k][0],v=t[k][1]?{[t6]:!0}:{[n6]:!0};b.indexOf("-")>=0?v[v0]=!0:Ri.test(b)?Ii.test(b)?v[ru]=!0:v[g0]=!0:v[m0]=!0,lk(n,b,b,v)}return lk(n,"localhost",Iu,{ascii:!0}),n.jd=new Hn(Gd),{start:n,tokens:Object.assign({groups:e},pM)}}function mM(t,e){const n=a6(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=t,c=null,f=0,d=null,p=-1,m=-1;for(;s<r&&(c=a.go(n[s]));)a=c,a.accepts()?(p=0,m=0,d=a):p>=0&&(p+=n[s].length,m++),f+=n[s].length,o+=n[s].length,s++;o-=p,s-=m,f-=p,i.push({t:d.t,v:e.slice(o-f,o),s:o-f,e:o})}return i}function a6(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function ho(t,e,n,r,i){let o;const s=e.length;for(let a=0;a<s-1;a++){const c=e[a];t.j[c]?o=t.j[c]:(o=new Hn(r),o.jr=i.slice(),t.j[c]=o),t=o}return o=new Hn(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function uk(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Lu={defaultProtocol:"http",events:null,format:ck,formatHref:ck,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function iv(t,e=null){let n=Object.assign({},Lu);t&&(n=Object.assign(n,t instanceof iv?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}iv.prototype={o:Lu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Lu[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function ck(t){return t}function gM(t,e){this.t="token",this.v=t,this.tk=e}gM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Lu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),s={},a=t.get("className",n,e),c=t.get("target",n,e),f=t.get("rel",n,e),d=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return s.href=r,a&&(s.class=a),c&&(s.target=c),f&&(s.rel=f),d&&Object.assign(s,d),{tagName:i,attributes:s,content:o,eventListeners:p}}};function Dh(t,e){class n extends gM{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const fk=Dh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),dk=Dh("text"),u6=Dh("nl"),gf=Dh("url",{isLink:!0,toHref(t=Lu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Iu&&t[1].t===bo}}),Nr=t=>new Hn(t);function c6({groups:t}){const e=t.domain.concat([Ld,Bd,vo,Fd,jd,$d,Hd,Ud,Or,Qy,su,Vd,Wd,Kd,pi,Gd,au,qd]),n=[zd,bo,ev,hi,tv,su,lu,nv,rv,Td,Md,iu,ou,bd,kd,Cd,Ed,_d,Nd,Od,Ad,Pd,Dd,Rd,Id],r=[Ld,zd,Bd,Fd,jd,$d,Hd,Ud,Or,iu,ou,su,Vd,Wd,Kd,lu,pi,Gd,au,qd],i=Nr(),o=q(i,au);Me(o,r,o),Me(o,t.domain,o);const s=Nr(),a=Nr(),c=Nr();Me(i,t.domain,s),Me(i,t.scheme,a),Me(i,t.slashscheme,c),Me(s,r,o),Me(s,t.domain,s);const f=q(s,vo);q(o,vo,f),q(a,vo,f),q(c,vo,f);const d=q(o,hi);Me(d,r,o),Me(d,t.domain,o);const p=Nr();Me(f,t.domain,p),Me(p,t.domain,p);const m=q(p,hi);Me(m,t.domain,p);const g=Nr(fk);Me(m,t.tld,g),Me(m,t.utld,g),q(f,Iu,g);const x=q(p,Or);q(x,Or,x),Me(x,t.domain,p),Me(g,t.domain,p),q(g,hi,m),q(g,Or,x);const k=q(g,bo);Me(k,t.numeric,fk);const b=q(s,Or),w=q(s,hi);q(b,Or,b),Me(b,t.domain,s),Me(w,r,o),Me(w,t.domain,s);const v=Nr(gf);Me(w,t.tld,v),Me(w,t.utld,v),Me(v,t.domain,s),Me(v,r,o),q(v,hi,w),q(v,Or,b),q(v,vo,f);const C=q(v,bo),_=Nr(gf);Me(C,t.numeric,_);const M=Nr(gf),A=Nr();Me(M,e,M),Me(M,n,A),Me(A,e,M),Me(A,n,A),q(v,pi,M),q(_,pi,M);const P=q(a,bo),D=q(c,bo),B=q(D,pi),U=q(B,pi);Me(a,t.domain,s),q(a,hi,w),q(a,Or,b),Me(c,t.domain,s),q(c,hi,w),q(c,Or,b),Me(P,t.domain,M),q(P,pi,M),q(P,lu,M),Me(U,t.domain,M),Me(U,e,M),q(U,pi,M);const fe=[[iu,ou],[kd,bd],[Cd,Ed],[Td,Md],[_d,Nd],[Od,Ad],[Pd,Dd],[Rd,Id]];for(let me=0;me<fe.length;me++){const[Y,le]=fe[me],ee=q(M,Y);q(A,Y,ee),q(ee,le,M);const ve=Nr(gf);Me(ee,e,ve);const Se=Nr();Me(ee,n),Me(ve,e,ve),Me(ve,n,Se),Me(Se,e,ve),Me(Se,n,Se),q(ve,le,M),q(Se,le,M)}return q(i,Iu,v),q(i,Zy,u6),{start:i,tokens:pM}}function f6(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=t,c=null,f=null,d=0,p=null,m=-1;for(;i<r&&!(c=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(f=c||a.go(n[i].t));)c=null,a=f,a.accepts()?(m=0,p=a):m>=0&&m++,i++,d++;if(m<0)i-=d,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Qm(dk,e,s)),s=[]),i-=m,d-=m;const g=p.t,x=n.slice(i-d,i);o.push(Qm(g,e,x))}}return s.length>0&&o.push(Qm(dk,e,s)),o}function Qm(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const d6=typeof console<"u"&&console&&console.warn||(()=>{}),h6="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function p6(){return Hn.groups={},Je.scanner=null,Je.parser=null,Je.tokenQueue=[],Je.pluginQueue=[],Je.customSchemes=[],Je.initialized=!1,Je}function hk(t,e=!1){if(Je.initialized&&d6(`linkifyjs: already initialized - will not register custom scheme "${t}" ${h6}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Je.customSchemes.push([t,e])}function m6(){Je.scanner=l6(Je.customSchemes);for(let t=0;t<Je.tokenQueue.length;t++)Je.tokenQueue[t][1]({scanner:Je.scanner});Je.parser=c6(Je.scanner.tokens);for(let t=0;t<Je.pluginQueue.length;t++)Je.pluginQueue[t][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function ov(t){return Je.initialized||m6(),f6(Je.parser.start,t,mM(Je.scanner.start,t))}ov.scan=mM;function yM(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new iv(n),i=ov(t),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&o.push(a.toFormattedObject(r))}return o}var sv="[\0- -\u2029]",g6=new RegExp(sv),y6=new RegExp(`${sv}$`),v6=new RegExp(sv,"g");function x6(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function w6(t){return new st({key:new Pt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=DT(n.doc,[...e]);if(jT(a).forEach(({newRange:f})=>{const d=hF(r.doc,f,g=>g.isTextblock);let p,m;if(d.length>1)p=d[0],m=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(d.length){const g=r.doc.textBetween(f.from,f.to," "," ");if(!y6.test(g))return;p=d[0],m=r.doc.textBetween(p.pos,f.to,void 0," ")}if(p&&m){const g=m.split(g6).filter(Boolean);if(g.length<=0)return!1;const x=g[g.length-1],k=p.pos+m.lastIndexOf(x);if(!x)return!1;const b=ov(x).map(w=>w.toObject(t.defaultProtocol));if(!x6(b))return!1;b.filter(w=>w.isLink).map(w=>({...w,from:k+w.start+1,to:k+w.end+1})).filter(w=>r.schema.marks.code?!r.doc.rangeHasMark(w.from,w.to,r.schema.marks.code):!0).filter(w=>t.validate(w.value)).filter(w=>t.shouldAutoLink(w.value)).forEach(w=>{qy(w.from,w.to,r.doc).some(v=>v.mark.type===t.type)||s.addMark(w.from,w.to,t.type.create({href:w.href}))})}}),!!s.steps.length)return s}})}function S6(t){return new st({key:new Pt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let s=!1;if(t.enableClickSelection&&(s=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;a=m.find(g=>g.nodeName==="A")}if(!a)return s;const c=FT(e.state,t.type.name),f=(i=a==null?void 0:a.href)!=null?i:c.href,d=(o=a==null?void 0:a.target)!=null?o:c.target;a&&f&&(window.open(f,d),s=!0)}return s}}})}function k6(t){return new st({key:new Pt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:s}=o,{empty:a}=s;if(a)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const f=yM(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!f||i!==void 0&&!i(f.value)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function ds(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(v6,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var b6=Vs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){hk(t);return}hk(t.scheme,t.optionalSlashes)})},onDestroy(){p6()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ds(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!ds(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ds(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Tt(this.options.HTMLAttributes,t),0]:["a",Tt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ds(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ds(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Fs({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=yM(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:s=>!!ds(s,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(w6({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ds(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(S6({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(k6({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),C6=Object.defineProperty,E6=(t,e)=>{for(var n in e)C6(t,n,{get:e[n],enumerable:!0})},T6="listItem",pk="textStyle",mk=/^\s*([-+*])\s$/,vM=mr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Tt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(T6,this.editor.getAttributes(pk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ql({find:mk,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ql({find:mk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(pk),editor:this.editor})),[t]}}),xM=mr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Tt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const s=t.tokens.slice(1),a=e.parseChildren(s);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Yy(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),M6={};E6(M6,{findListItemPos:()=>Wu,getNextListDepth:()=>lv,handleBackspace:()=>b0,handleDelete:()=>C0,hasListBefore:()=>wM,hasListItemAfter:()=>_6,hasListItemBefore:()=>SM,listItemHasSubList:()=>kM,nextListIsDeeper:()=>bM,nextListIsHigher:()=>CM});var Wu=(t,e)=>{const{$from:n}=e.selection,r=Et(t,e.schema);let i=null,o=n.depth,s=n.pos,a=null;for(;o>0&&a===null;)i=n.node(o),i.type===r?a=o:(o-=1,s-=1);return a===null?null:{$pos:e.doc.resolve(s),depth:a}},lv=(t,e)=>{const n=Wu(t,e);if(!n)return!1;const[,r]=bF(e,t,n.$pos.pos+4);return r},wM=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},SM=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},kM=(t,e,n)=>{if(!n)return!1;const r=Et(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},b0=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Ko(t.state,e)&&wM(t.state,e,n)){const{$anchor:a}=t.state.selection,c=t.state.doc.resolve(a.before()-1),f=[];c.node().descendants((m,g)=>{m.type.name===e&&f.push({node:m,pos:g})});const d=f.at(-1);if(!d)return!1;const p=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},p.end()).joinForward().run()}if(!Ko(t.state,e)||!MF(t.state))return!1;const r=Wu(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=kM(e,t.state,o);return SM(e,t.state)&&!s?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},bM=(t,e)=>{const n=lv(t,e),r=Wu(t,e);return!r||!n?!1:n>r.depth},CM=(t,e)=>{const n=lv(t,e),r=Wu(t,e);return!r||!n?!1:n<r.depth},C0=(t,e)=>{if(!Ko(t.state,e)||!TF(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:bM(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():CM(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},_6=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},EM=xt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&C0(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&C0(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&b0(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&b0(t,n,r)&&(e=!0)}),e}}}}),gk=/^(\s*)(\d+)\.\s+(.*)$/,N6=/^\s/;function O6(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],o=i.match(gk);if(!o)break;const[,s,a,c]=o,f=s.length;let d=c,p=n+1;const m=[i];for(;p<t.length;){const g=t[p];if(g.match(gk))break;if(g.trim()==="")m.push(g),d+=`
`,p+=1;else if(g.match(N6))m.push(g),d+=`
${g.slice(f+2)}`,p+=1;else break}e.push({indent:f,number:parseInt(a,10),content:d.trim(),raw:m.join(`
`)}),r=p,n=p}return[e,r]}function TM(t,e,n){var r;const i=[];let o=0;for(;o<t.length;){const s=t[o];if(s.indent===e){const a=s.content.split(`
`),c=((r=a[0])==null?void 0:r.trim())||"",f=[];c&&f.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=a.slice(1).join(`
`).trim();if(d){const g=n.blockTokens(d);f.push(...g)}let p=o+1;const m=[];for(;p<t.length&&t[p].indent>e;)m.push(t[p]),p+=1;if(m.length>0){const g=Math.min(...m.map(k=>k.indent)),x=TM(m,g,n);f.push({type:"list",ordered:!0,start:m[0].number,items:x,raw:m.map(k=>k.raw).join(`
`)})}i.push({type:"list_item",raw:s.raw,tokens:f}),o=p}else o+=1}return i}function A6(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var P6="listItem",yk="textStyle",vk=/^(\d+)\.\s$/,MM=mr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Tt(this.options.HTMLAttributes,n),0]:["ol",Tt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?A6(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[o,s]=O6(i);if(o.length===0)return;const a=TM(o,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,s).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(P6,this.editor.getAttributes(yk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ql({find:vk,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ql({find:vk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(yk)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),D6=/^\s*(\[([( |x])?\])\s$/,R6=mr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Tt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Yy(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div"),f=p=>{var m,g;a.ariaLabel=((g=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:g.call(m,p,a.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};f(t),o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",p=>p.preventDefault()),a.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const x=n();if(typeof x!="number")return!1;const k=g.doc.nodeAt(x);return g.setNodeMarkup(x,void 0,{...k==null?void 0:k.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{i.setAttribute(p,m)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,o.append(a,s),i.append(o,c),Object.entries(e).forEach(([p,m])=>{i.setAttribute(p,m)});let d=new Set(Object.keys(e));return{dom:i,contentDOM:c,update:p=>{if(p.type!==this.type)return!1;i.dataset.checked=p.attrs.checked,a.checked=p.attrs.checked,f(p);const m=r.extensionManager.attributes,g=Ru(p,m),x=new Set(Object.keys(g)),k=this.options.HTMLAttributes;return d.forEach(b=>{x.has(b)||(b in k?i.setAttribute(b,k[b]):i.removeAttribute(b))}),Object.entries(g).forEach(([b,w])=>{w==null?b in k?i.setAttribute(b,k[b]):i.removeAttribute(b):i.setAttribute(b,w)}),d=x,!0}}}},addInputRules(){return[Ql({find:D6,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),I6=mr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Tt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const s=h0(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:r},n);return s?[{type:"taskList",raw:s.raw,items:s.items}]:n.blockTokens(o)},i=h0(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,s)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:s}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});xt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(vM.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(xM.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(EM.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(MM.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(R6.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(I6.configure(this.options.taskList)),t}});var L6=mr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Tt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),z6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,B6=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,F6=Vs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Tt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Yl({find:z6,type:this.type})]},addPasteRules(){return[Fs({find:B6,type:this.type})]}}),j6=mr.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),$6=Vs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Tt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function H6(t={}){return new st({view(e){return new U6(e,t)}})}class U6{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,a=o.height/i.offsetHeight;if(n){let p=e.nodeBefore,m=e.nodeAfter;if(p||m){let g=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(g){let x=g.getBoundingClientRect(),k=p?x.bottom:x.top;p&&m&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*a;r={left:x.left,right:x.right,top:k-b,bottom:k+b}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*s;r={left:p.left-m,right:p.left+m,top:p.top,bottom:p.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,d=-pageYOffset;else{let p=c.getBoundingClientRect(),m=p.width/c.offsetWidth,g=p.height/c.offsetHeight;f=p.left-c.scrollLeft*m,d=p.top-c.scrollTop*g}this.element.style.left=(r.left-f)/s+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=CE(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class dt extends _e{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return dt.valid(r)?new dt(r):_e.near(r)}content(){return Z.empty}eq(e){return e instanceof dt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new dt(e.resolve(n.pos))}getBookmark(){return new av(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!V6(e)||!W6(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&dt.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let c=e.doc.resolve(i);if(dt.valid(c))return c}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ce.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(dt.valid(a))return a}return null}}}dt.prototype.visible=!1;dt.findFrom=dt.findGapCursorFrom;_e.jsonID("gapcursor",dt);class av{constructor(e){this.pos=e}map(e){return new av(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return dt.valid(n)?new dt(n):_e.near(n)}}function _M(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function V6(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||_M(i.type))return!0;if(i.inlineContent)return!1}}return!0}function W6(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||_M(i.type))return!0;if(i.inlineContent)return!1}}return!0}function K6(){return new st({props:{decorations:J6,createSelectionBetween(t,e,n){return e.pos==n.pos&&dt.valid(n)?new dt(n):null},handleClick:G6,handleKeyDown:q6,handleDOMEvents:{beforeinput:X6}}})}const q6=ET({ArrowLeft:yf("horiz",-1),ArrowRight:yf("horiz",1),ArrowUp:yf("vert",-1),ArrowDown:yf("vert",1)});function yf(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,c=s.empty;if(s instanceof ye){if(!o.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=r.doc.resolve(e>0?a.after():a.before())}let f=dt.findGapCursorFrom(a,e,c);return f?(i&&i(r.tr.setSelection(new dt(f))),!0):!1}}function G6(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!dt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ce.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new dt(r))),!0)}function X6(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof dt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=K.empty;for(let s=r.length-1;s>=0;s--)i=K.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new Z(i,0,0));return o.setSelection(ye.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function J6(t){if(!(t.selection instanceof dt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",rt.create(t.doc,[Cn.widget(t.selection.head,e,{key:"gapcursor"})])}var Xd=200,jt=function(){};jt.prototype.append=function(e){return e.length?(e=jt.from(e),!this.length&&e||e.length<Xd&&this.leafAppend(e)||this.length<Xd&&e.leafPrepend(this)||this.appendInner(e)):this};jt.prototype.prepend=function(e){return e.length?jt.from(e).append(this):this};jt.prototype.appendInner=function(e){return new Y6(this,e)};jt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?jt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};jt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};jt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};jt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};jt.from=function(e){return e instanceof jt?e:e&&e.length?new NM(e):jt.empty};var NM=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var c=o;c<s;c++)if(i(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var c=o-1;c>=s;c--)if(i(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Xd)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Xd)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(jt);jt.empty=new NM([]);var Y6=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(jt);const Q6=500;class Zr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,c,f=[],d=[];return this.items.forEach((p,m)=>{if(!p.step){i||(i=this.remapping(r,m+1),o=i.maps.length),o--,d.push(p);return}if(i){d.push(new mi(p.map));let g=p.step.map(i.slice(o)),x;g&&s.maybeStep(g).doc&&(x=s.mapping.maps[s.mapping.maps.length-1],f.push(new mi(x,void 0,void 0,f.length+d.length))),o--,x&&i.appendMap(x,o)}else s.maybeStep(p.step);if(p.selection)return a=i?p.selection.map(i.slice(o)):p.selection,c=new Zr(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let p=e.steps[d].invert(e.docs[d]),m=new mi(e.mapping.maps[d],p,n),g;(g=c&&c.merge(m))&&(m=g,d?o.pop():a=a.slice(0,a.length-1)),o.push(m),n&&(s++,n=void 0),i||(c=m)}let f=s-r.depth;return f>e$&&(a=Z6(a,f),s-=f),new Zr(a.append(o),s)}remapping(e,n){let r=new _u;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Zr(this.items.append(e.map(n=>new mi(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},i);let c=n;this.items.forEach(m=>{let g=o.getMirror(--c);if(g==null)return;s=Math.min(s,g);let x=o.maps[g];if(m.step){let k=e.steps[g].invert(e.docs[g]),b=m.selection&&m.selection.map(o.slice(c+1,g));b&&a++,r.push(new mi(x,k,b))}else r.push(new mi(x))},i);let f=[];for(let m=n;m<s;m++)f.push(new mi(o.maps[m]));let d=this.items.slice(0,i).append(f).append(r),p=new Zr(d,a);return p.emptyItemCount()>Q6&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let c=s.step.map(n.slice(r)),f=c&&c.getMap();if(r--,f&&n.appendMap(f,r),c){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let p=new mi(f.invert(),c,d),m,g=i.length-1;(m=i.length&&i[g].merge(p))?i[g]=m:i.push(p)}}else s.map&&r--},this.items.length,0),new Zr(jt.from(i.reverse()),o)}}Zr.empty=new Zr(jt.empty,0);function Z6(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class mi{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new mi(n.getMap().invert(),n,this.selection)}}}class xo{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const e$=20;function t$(t,e,n,r){let i=n.getMeta(Ns),o;if(i)return i.historyState;n.getMeta(i$)&&(t=new xo(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Ns))return s.getMeta(Ns).redo?new xo(t.done.addTransform(n,void 0,r,If(e)),t.undone,xk(n.mapping.maps),t.prevTime,t.prevComposition):new xo(t.done,t.undone.addTransform(n,void 0,r,If(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!n$(n,t.prevRanges)),f=s?Zm(t.prevRanges,n.mapping):xk(n.mapping.maps);return new xo(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,If(e)),Zr.empty,f,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new xo(t.done.rebased(n,o),t.undone.rebased(n,o),Zm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new xo(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Zm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function n$(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function xk(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function Zm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function r$(t,e,n){let r=If(e),i=Ns.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),c=new xo(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Ns,{redo:n,historyState:c})}let eg=!1,wk=null;function If(t){let e=t.plugins;if(wk!=e){eg=!1,wk=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){eg=!0;break}}return eg}const Ns=new Pt("history"),i$=new Pt("closeHistory");function o$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new st({key:Ns,state:{init(){return new xo(Zr.empty,Zr.empty,null,0,-1)},apply(e,n,r){return t$(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?AM:r=="historyRedo"?PM:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function OM(t,e){return(n,r)=>{let i=Ns.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=r$(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const AM=OM(!1,!0),PM=OM(!0,!0);xt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new st({key:new Pt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const s=o-i,a=0,c=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(a,c);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,c=o-r,f=a-c,d=a;return e.deleteRange(f,d),!(this.storage.characters({node:e.doc})>r)}})]}});var s$=xt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[H6(this.options)]}});xt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new st({key:new Pt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return rt.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((c,f)=>{if(c.isText)return;if(!(i>=f&&i<=f+c.nodeSize-1))return!1;s+=1});let a=0;return t.descendants((c,f)=>{if(c.isText||!(i>=f&&i<=f+c.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";o.push(Cn.node(f,f+c.nodeSize,{class:this.options.className}))}),rt.create(t,o)}}})]}});var l$=xt.create({name:"gapCursor",addProseMirrorPlugins(){return[K6()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=$e(ue(t,"allowGapCursor",n)))!=null?e:null}}}),a$=xt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new st({key:new Pt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((s,a)=>{const c=r>=a&&r<=a+s.nodeSize,f=!s.isLeaf&&Nh(s);if((c||!this.options.showOnlyCurrent)&&f){const d=[this.options.emptyNodeClass];o&&d.push(this.options.emptyEditorClass);const p=Cn.node(a,a+s.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:c}):this.options.placeholder});i.push(p)}return this.options.includeChildren}),rt.create(t,i)}}})]}});xt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new st({key:new Pt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||$T(n.selection)||t.view.dragging?null:rt.create(n.doc,[Cn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Sk({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var u$=xt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Pt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new st({key:e,appendTransaction:(i,o,s)=>{const{doc:a,tr:c,schema:f}=s,d=e.getState(s),p=a.content.size,m=f.nodes[n];if(d)return c.insert(p,m.create())},state:{init:(i,o)=>{const s=o.tr.doc.lastChild;return!Sk({node:s,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const s=i.doc.lastChild;return!Sk({node:s,types:r})}}})]}}),c$=xt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>AM(t,e),redo:()=>({state:t,dispatch:e})=>PM(t,e)}},addProseMirrorPlugins(){return[o$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),f$=xt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(z5.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(P5.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(vM.configure(this.options.bulletList)),this.options.code!==!1&&i.push(j5.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(U5.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(V5.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(s$.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(l$.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(W5.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(K5.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(c$.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(q5.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Q5.configure(this.options.italic)),this.options.listItem!==!1&&i.push(xM.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(EM.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(b6.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(MM.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(L6.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(F6.configure(this.options.strike)),this.options.text!==!1&&i.push(j6.configure(this.options.text)),this.options.underline!==!1&&i.push($6.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(u$.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),d$=f$,h$=a$;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),kk=t=>{const e=m$(t);return e.charAt(0).toUpperCase()+e.slice(1)},DM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),g$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=se.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},c)=>se.createElement("svg",{ref:c,...y$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DM("lucide",i),...!o&&!g$(a)&&{"aria-hidden":"true"},...a},[...s.map(([f,d])=>se.createElement(f,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=(t,e)=>{const n=se.forwardRef(({className:r,...i},o)=>se.createElement(v$,{ref:o,iconNode:e,className:DM(`lucide-${p$(kk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=kk(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],w$=Zo("chevron-down",x$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k$=Zo("chevron-right",S$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],C$=Zo("download",b$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T$=Zo("file-text",E$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],_$=Zo("folder",M$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],O$=Zo("hash",N$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bk=Zo("plus",A$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],D$=Zo("trash-2",P$);function R$({initialDocs:t,onUpdate:e}){const[n,r]=se.useState(t),[i,o]=se.useState(null),[s,a]=se.useState([]),c=se.useRef(null);se.useEffect(()=>{if(t.length===0){const v={id:zo(),title:"",content:"<h1></h1><p>...</p>",parentId:null,expanded:!0};r([v]),o(v.id),e([v])}else!i&&t.length>0&&o(t[0].id)},[]);const f=(v,C)=>{const _=n.map(M=>M.id===v?{...M,content:C}:M);r(_),e(_)},d=(v,C)=>{const _=n.map(M=>M.id===v?{...M,title:C}:M);r(_),e(_)},p=v=>{const C={id:zo(),title:"",content:"",parentId:v,expanded:!0};let _=[...n,C];v&&(_=_.map(M=>M.id===v?{...M,expanded:!0}:M)),r(_),e(_),o(C.id)},m=(v,C)=>{if(v.stopPropagation(),!confirm(""))return;const _=new Set,M=P=>{_.add(P),n.filter(D=>D.parentId===P).forEach(D=>M(D.id))};M(C);const A=n.filter(P=>!_.has(P.id));r(A),e(A),i&&_.has(i)&&o(null)},g=(v,C)=>{v.stopPropagation(),r(n.map(_=>_.id===C?{..._,expanded:!_.expanded}:_))},x=v=>{if(!c.current)return;const C=c.current;C.commands.setTextSelection(v);const _=C.view.nodeDOM(v);if(_&&_ instanceof HTMLElement)_.scrollIntoView({behavior:"smooth",block:"start"});else{const M=C.view.domAtPos(v+1);M.node&&M.node instanceof HTMLElement?M.node.scrollIntoView({behavior:"smooth",block:"start"}):M.node.parentElement&&M.node.parentElement.scrollIntoView({behavior:"smooth",block:"start"})}},k=()=>{const v=n.find(P=>P.id===i);if(!v)return;const C=`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>${v.title}</title>
        <style>
          body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 40px; color: #333; }
          h1 { border-bottom: 2px solid #eee; padding-bottom: 10px; }
          h2 { margin-top: 30px; border-left: 4px solid #10b981; padding-left: 10px; }
          blockquote { border-left: 4px solid #ccc; margin: 0; padding-left: 16px; color: #666; }
          pre { background: #f4f4f5; padding: 16px; border-radius: 8px; overflow-x: auto; }
          img { max-width: 100%; border-radius: 8px; }
        </style>
      </head>
      <body>
        <h1>${v.title}</h1>
        ${v.content}
      </body>
      </html>
    `,_=new Blob([C],{type:"text/html"}),M=URL.createObjectURL(_),A=document.createElement("a");A.href=M,A.download=`${v.title}.html`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(M)},b=(v,C=0)=>{const _=n.filter(M=>M.parentId===v);return _.length===0?null:_.map(M=>{const A=n.some(D=>D.parentId===M.id),P=i===M.id;return I.jsxs("div",{children:[I.jsxs("div",{className:`flex items-center gap-2 py-1 px-2 rounded cursor-pointer group select-none ${P?"bg-emerald-600/20 text-emerald-400":"text-slate-400 hover:bg-slate-800 hover:text-slate-200"}`,style:{paddingLeft:`${C*12+8}px`},onClick:()=>o(M.id),children:[I.jsx("span",{className:`p-0.5 rounded hover:bg-slate-700/50 ${A?"opacity-100":"opacity-0"}`,onClick:D=>A&&g(D,M.id),children:M.expanded?I.jsx(w$,{size:14}):I.jsx(k$,{size:14})}),A?I.jsx(_$,{size:16,className:"text-yellow-500/80"}):I.jsx(T$,{size:16,className:"text-blue-400/80"}),I.jsx("span",{className:"flex-1 truncate text-sm",children:M.title}),I.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100",children:[I.jsx("button",{onClick:D=>{D.stopPropagation(),p(M.id)},className:"p-1 hover:bg-slate-700 rounded text-slate-400 hover:text-white",title:"",children:I.jsx(bk,{size:12})}),I.jsx("button",{onClick:D=>m(D,M.id),className:"p-1 hover:bg-red-900/50 rounded text-slate-400 hover:text-red-400",title:"",children:I.jsx(D$,{size:12})})]})]}),P&&s.length>0&&I.jsx("div",{className:"flex flex-col mb-1 animate-in slide-in-from-left-2 duration-200 border-l border-slate-700/50 ml-4 my-1",children:s.map((D,B)=>I.jsxs("div",{onClick:U=>{U.stopPropagation(),x(D.pos)},className:"flex items-center gap-2 py-1 pr-2 rounded cursor-pointer hover:bg-slate-800 text-slate-500 hover:text-emerald-300 text-xs transition-colors",style:{paddingLeft:`${C*12+24+(D.level-1)*8}px`},children:[I.jsx(O$,{size:10,className:"opacity-50 shrink-0"}),I.jsx("span",{className:"truncate",children:D.text})]},B))}),A&&M.expanded&&b(M.id,C+1)]},M.id)})},w=n.find(v=>v.id===i);return I.jsxs("div",{className:"flex h-full w-full bg-slate-900 overflow-hidden",children:[I.jsxs("div",{className:"w-64 bg-slate-800/50 border-r border-slate-700 flex flex-col shrink-0",children:[I.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[I.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Documents"}),I.jsx("button",{onClick:()=>p(null),className:"p-1 hover:bg-emerald-600/20 rounded text-slate-400 hover:text-emerald-400",children:I.jsx(bk,{size:16})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin",children:b(null)})]}),I.jsx("div",{className:"flex-1 flex flex-col bg-slate-900 min-w-0",children:w?I.jsxs("div",{className:"flex-1 flex flex-col max-w-4xl mx-auto w-full h-full relative",children:[I.jsxs("div",{className:"flex items-center justify-between px-8 pt-8 pb-4 mx-8 border-b border-slate-800",children:[I.jsx("input",{value:w.title,onChange:v=>d(w.id,v.target.value),className:"bg-transparent text-4xl font-bold text-white outline-none flex-1 mr-4 placeholder-slate-700",placeholder:""}),I.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-emerald-600 hover:text-white text-slate-400 rounded transition-colors text-sm font-medium",title:" HTML ",children:[I.jsx(C$,{size:16}),I.jsx("span",{children:""})]})]}),I.jsx("div",{className:"flex-1 overflow-y-auto px-16 py-8",children:I.jsx(I$,{initialContent:w.content,onChange:v=>f(w.id,v),onHeadingsUpdate:a,setEditorRef:v=>c.current=v},w.id)})]}):I.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-600",children:""})})]})}function I$({initialContent:t,onChange:e,onHeadingsUpdate:n,setEditorRef:r}){const i=M5({extensions:[d$,h$.configure({placeholder:" # ..."})],content:t,onUpdate:({editor:s})=>{e(s.getHTML()),o(s)},onCreate:({editor:s})=>{r(s),setTimeout(()=>o(s),100)},editorProps:{attributes:{class:"prose prose-invert prose-lg max-w-none focus:outline-none min-h-[500px]"}}}),o=s=>{const a=[];s.state.doc.descendants((c,f)=>{c.type.name==="heading"&&a.push({level:c.attrs.level,text:c.textContent,id:`heading-${f}`,pos:f})}),n(a)};return I.jsx(w5,{editor:i})}function L$(){const[t,e]=se.useState(null),[n,r]=se.useState(null),[i,o]=se.useState("saved"),s=c=>{e(c),r(pL(c.id))},a=()=>{t&&n&&wm(t.id,n),e(null),r(null)};return se.useEffect(()=>{if(!t||!n)return;o("unsaved");const c=setTimeout(()=>{o("saving"),wm(t.id,n),setTimeout(()=>o("saved"),500)},2e3);return()=>clearTimeout(c)},[n]),se.useEffect(()=>{const c=f=>{(f.ctrlKey||f.metaKey)&&f.key==="s"&&(f.preventDefault(),t&&n&&(o("saving"),wm(t.id,n),setTimeout(()=>o("saved"),500)))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,n]),t?n?I.jsx("div",{className:"flex h-screen w-screen bg-slate-900 text-slate-200 overflow-hidden",children:I.jsx(z$,{project:t,content:n,setContent:r,onBack:a,saveStatus:i})}):I.jsx("div",{className:"h-screen w-screen bg-slate-900 text-white flex items-center justify-center",children:"..."}):I.jsx(mL,{onOpenProject:s})}function z$({project:t,content:e,setContent:n,onBack:r,saveStatus:i}){const[o,s]=se.useState("brainstorm"),a=(p,m)=>{n(g=>g?{...g,brainstorm:{items:p,connections:m}}:null)},c=p=>{n(m=>m?{...m,members:p}:null)},f=p=>{n(m=>m?{...m,todos:p}:null)},d=p=>{n(m=>m?{...m,docs:p}:null)};return I.jsxs(I.Fragment,{children:[I.jsxs("aside",{className:"w-64 shrink-0 flex flex-col bg-slate-800 border-r border-slate-700 z-50",children:[I.jsxs("div",{className:"h-14 flex items-center px-4 border-b border-slate-700 gap-3",children:[I.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-700 rounded text-slate-400 hover:text-white transition-colors",children:""}),I.jsx("div",{className:"font-bold text-white truncate flex-1",children:t.name})]}),I.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[I.jsx(vf,{label:" ",isActive:o==="brainstorm",onClick:()=>s("brainstorm")}),I.jsx(vf,{label:" ",isActive:o==="team",onClick:()=>s("team")}),I.jsx(vf,{label:" ",isActive:o==="docs",onClick:()=>s("docs")}),I.jsx(vf,{label:" UI ",isActive:o==="ui-designer",onClick:()=>s("ui-designer")})]}),I.jsx("div",{className:"p-4 text-xs border-t border-slate-700 text-center",children:i==="saving"?" ...":" "})]}),I.jsxs("main",{className:"flex-1 relative overflow-hidden bg-slate-900",children:[o==="brainstorm"&&I.jsx(i3,{initialItems:e.brainstorm.items||[],initialConnections:e.brainstorm.connections||[],onDataChange:a},t.id+"-brainstorm"),o==="team"&&I.jsx(s3,{members:e.members||[],todos:e.todos||[],onUpdateMembers:c,onUpdateTodos:f}),o==="docs"&&I.jsx(R$,{initialDocs:e.docs||[],onUpdate:d}),o==="ui-designer"&&I.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:"[ UI  ]"})]})]})}function vf({label:t,isActive:e,onClick:n}){return I.jsx("button",{onClick:n,className:`w-full text-left px-4 py-3 rounded-md transition-all ${e?"bg-emerald-600 text-white shadow-md":"hover:bg-slate-700 text-slate-400 hover:text-slate-200"}`,children:t})}tg.createRoot(document.getElementById("root")).render(I.jsx(Ho.StrictMode,{children:I.jsx(L$,{})}));window.ipcRenderer.on("main-process-message",(t,e)=>{console.log(e)});
